/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

(function(){
var _1=null;
if((_1||(typeof djConfig!="undefined"&&djConfig.scopeMap))&&(typeof window!="undefined")){
var _2="",_3="",_4="",_5={},_6={};
_1=_1||djConfig.scopeMap;
for(var i=0;i<_1.length;i++){
var _7=_1[i];
_2+="var "+_7[0]+" = {}; "+_7[1]+" = "+_7[0]+";"+_7[1]+"._scopeName = '"+_7[1]+"';";
_3+=(i==0?"":",")+_7[0];
_4+=(i==0?"":",")+_7[1];
_5[_7[0]]=_7[1];
_6[_7[1]]=_7[0];
}
eval(_2+"dojo._scopeArgs = ["+_4+"];");
dojo._scopePrefixArgs=_3;
dojo._scopePrefix="(function("+_3+"){";
dojo._scopeSuffix="})("+_4+")";
dojo._scopeMap=_5;
dojo._scopeMapRev=_6;
}
(function(){
if(typeof this["loadFirebugConsole"]=="function"){
this["loadFirebugConsole"]();
}else{
this.console=this.console||{};
var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];
var i=0,tn;
while((tn=cn[i++])){
if(!console[tn]){
(function(){
var _8=tn+"";
console[_8]=("log" in console)?function(){
var a=Array.apply({},arguments);
a.unshift(_8+":");
console["log"](a.join(" "));
}:function(){
};
console[_8]._fake=true;
})();
}
}
}
if(typeof dojo=="undefined"){
dojo={_scopeName:"dojo",_scopePrefix:"",_scopePrefixArgs:"",_scopeSuffix:"",_scopeMap:{},_scopeMapRev:{}};
}
var d=dojo;
if(typeof dijit=="undefined"){
dijit={_scopeName:"dijit"};
}
if(typeof dojox=="undefined"){
dojox={_scopeName:"dojox"};
}
if(!d._scopeArgs){
d._scopeArgs=[dojo,dijit,dojox];
}
d.global=this;
d.config={isDebug:false,debugAtAllCosts:false};
var _9=typeof djConfig!="undefined"?djConfig:typeof dojoConfig!="undefined"?dojoConfig:null;
if(_9){
for(var c in _9){
d.config[c]=_9[c];
}
}
dojo.locale=d.config.locale;
var _a="$Rev: 23917 $".match(/\d+/);
dojo.version={major:1,minor:6,patch:0,flag:"",revision:_a?+_a[0]:NaN,toString:function(){
with(d.version){
return major+"."+minor+"."+patch+flag+" ("+revision+")";
}
}};
if(typeof OpenAjax!="undefined"){
OpenAjax.hub.registerLibrary(dojo._scopeName,"http://dojotoolkit.org",d.version.toString());
}
var _b,_c,_d={};
for(var i in {toString:1}){
_b=[];
break;
}
dojo._extraNames=_b=_b||["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];
_c=_b.length;
dojo._mixin=function(_e,_f){
var _10,s,i;
for(_10 in _f){
s=_f[_10];
if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){
_e[_10]=s;
}
}
if(_c&&_f){
for(i=0;i<_c;++i){
_10=_b[i];
s=_f[_10];
if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){
_e[_10]=s;
}
}
}
return _e;
};
dojo.mixin=function(obj,_11){
if(!obj){
obj={};
}
for(var i=1,l=arguments.length;i<l;i++){
d._mixin(obj,arguments[i]);
}
return obj;
};
dojo._getProp=function(_12,_13,_14){
var obj=_14||d.global;
for(var i=0,p;obj&&(p=_12[i]);i++){
if(i==0&&d._scopeMap[p]){
p=d._scopeMap[p];
}
obj=(p in obj?obj[p]:(_13?obj[p]={}:undefined));
}
return obj;
};
dojo.setObject=function(_15,_16,_17){
var _18=_15.split("."),p=_18.pop(),obj=d._getProp(_18,true,_17);
return obj&&p?(obj[p]=_16):undefined;
};
dojo.getObject=function(_19,_1a,_1b){
return d._getProp(_19.split("."),_1a,_1b);
};
dojo.exists=function(_1c,obj){
return d.getObject(_1c,false,obj)!==undefined;
};
dojo["eval"]=function(_1d){
return d.global.eval?d.global.eval(_1d):eval(_1d);
};
d.deprecated=d.experimental=function(){
};
})();
(function(){
var d=dojo,_1e;
d.mixin(d,{_loadedModules:{},_inFlightCount:0,_hasResource:{},_modulePrefixes:{dojo:{name:"dojo",value:"."},doh:{name:"doh",value:"../util/doh"},tests:{name:"tests",value:"tests"}},_moduleHasPrefix:function(_1f){
var mp=d._modulePrefixes;
return !!(mp[_1f]&&mp[_1f].value);
},_getModulePrefix:function(_20){
var mp=d._modulePrefixes;
if(d._moduleHasPrefix(_20)){
return mp[_20].value;
}
return _20;
},_loadedUrls:[],_postLoad:false,_loaders:[],_unloaders:[],_loadNotifying:false});
dojo._loadPath=function(_21,_22,cb){
var uri=((_21.charAt(0)=="/"||_21.match(/^\w+:/))?"":d.baseUrl)+_21;
try{
_1e=_22;
return !_22?d._loadUri(uri,cb):d._loadUriAndCheck(uri,_22,cb);
}
catch(e){
console.error(e);
return false;
}
finally{
_1e=null;
}
};
dojo._loadUri=function(uri,cb){
if(d._loadedUrls[uri]){
return true;
}
d._inFlightCount++;
var _23=d._getText(uri,true);
if(_23){
d._loadedUrls[uri]=true;
d._loadedUrls.push(uri);
if(cb){
_23=/^define\(/.test(_23)?_23:"("+_23+")";
}else{
_23=d._scopePrefix+_23+d._scopeSuffix;
}
if(!d.isIE){
_23+="\r\n//@ sourceURL="+uri;
}
var _24=d["eval"](_23);
if(cb){
cb(_24);
}
}
if(--d._inFlightCount==0&&d._postLoad&&d._loaders.length){
setTimeout(function(){
if(d._inFlightCount==0){
d._callLoaded();
}
},0);
}
return !!_23;
};
dojo._loadUriAndCheck=function(uri,_25,cb){
var ok=false;
try{
ok=d._loadUri(uri,cb);
}
catch(e){
console.error("failed loading "+uri+" with error: "+e);
}
return !!(ok&&d._loadedModules[_25]);
};
dojo.loaded=function(){
d._loadNotifying=true;
d._postLoad=true;
var mll=d._loaders;
d._loaders=[];
for(var x=0;x<mll.length;x++){
mll[x]();
}
d._loadNotifying=false;
if(d._postLoad&&d._inFlightCount==0&&mll.length){
d._callLoaded();
}
};
dojo.unloaded=function(){
var mll=d._unloaders;
while(mll.length){
(mll.pop())();
}
};
d._onto=function(arr,obj,fn){
if(!fn){
arr.push(obj);
}else{
if(fn){
var _26=(typeof fn=="string")?obj[fn]:fn;
arr.push(function(){
_26.call(obj);
});
}
}
};
dojo.ready=dojo.addOnLoad=function(obj,_27){
d._onto(d._loaders,obj,_27);
if(d._postLoad&&d._inFlightCount==0&&!d._loadNotifying){
d._callLoaded();
}
};
var dca=d.config.addOnLoad;
if(dca){
d.addOnLoad[(dca instanceof Array?"apply":"call")](d,dca);
}
dojo._modulesLoaded=function(){
if(d._postLoad){
return;
}
if(d._inFlightCount>0){
console.warn("files still in flight!");
return;
}
d._callLoaded();
};
dojo._callLoaded=function(){
if(typeof setTimeout=="object"||(d.config.useXDomain&&d.isOpera)){
setTimeout(d.isAIR?function(){
d.loaded();
}:d._scopeName+".loaded();",0);
}else{
d.loaded();
}
};
dojo._getModuleSymbols=function(_28){
var _29=_28.split(".");
for(var i=_29.length;i>0;i--){
var _2a=_29.slice(0,i).join(".");
if(i==1&&!d._moduleHasPrefix(_2a)){
_29[0]="../"+_29[0];
}else{
var _2b=d._getModulePrefix(_2a);
if(_2b!=_2a){
_29.splice(0,i,_2b);
break;
}
}
}
return _29;
};
dojo._global_omit_module_check=false;
dojo.loadInit=function(_2c){
_2c();
};
dojo._loadModule=dojo.require=function(_2d,_2e){
_2e=d._global_omit_module_check||_2e;
var _2f=d._loadedModules[_2d];
if(_2f){
return _2f;
}
var _30=d._getModuleSymbols(_2d).join("/")+".js";
var _31=!_2e?_2d:null;
var ok=d._loadPath(_30,_31);
if(!ok&&!_2e){
throw new Error("Could not load '"+_2d+"'; last tried '"+_30+"'");
}
if(!_2e&&!d._isXDomain){
_2f=d._loadedModules[_2d];
if(!_2f){
throw new Error("symbol '"+_2d+"' is not defined after loading '"+_30+"'");
}
}
return _2f;
};
dojo.provide=function(_32){
_32=_32+"";
return (d._loadedModules[_32]=d.getObject(_32,true));
};
dojo.platformRequire=function(_33){
var _34=_33.common||[];
var _35=_34.concat(_33[d._name]||_33["default"]||[]);
for(var x=0;x<_35.length;x++){
var _36=_35[x];
if(_36.constructor==Array){
d._loadModule.apply(d,_36);
}else{
d._loadModule(_36);
}
}
};
dojo.requireIf=function(_37,_38){
if(_37===true){
var _39=[];
for(var i=1;i<arguments.length;i++){
_39.push(arguments[i]);
}
d.require.apply(d,_39);
}
};
dojo.requireAfterIf=d.requireIf;
dojo.registerModulePath=function(_3a,_3b){
d._modulePrefixes[_3a]={name:_3a,value:_3b};
};
dojo.requireLocalization=function(_3c,_3d,_3e,_3f){
d.require("dojo.i18n");
d.i18n._requireLocalization.apply(d.hostenv,arguments);
};
var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");
dojo._Url=function(){
var n=null,_40=arguments,uri=[_40[0]];
for(var i=1;i<_40.length;i++){
if(!_40[i]){
continue;
}
var _41=new d._Url(_40[i]+""),_42=new d._Url(uri[0]+"");
if(_41.path==""&&!_41.scheme&&!_41.authority&&!_41.query){
if(_41.fragment!=n){
_42.fragment=_41.fragment;
}
_41=_42;
}else{
if(!_41.scheme){
_41.scheme=_42.scheme;
if(!_41.authority){
_41.authority=_42.authority;
if(_41.path.charAt(0)!="/"){
var _43=_42.path.substring(0,_42.path.lastIndexOf("/")+1)+_41.path;
var _44=_43.split("/");
for(var j=0;j<_44.length;j++){
if(_44[j]=="."){
if(j==_44.length-1){
_44[j]="";
}else{
_44.splice(j,1);
j--;
}
}else{
if(j>0&&!(j==1&&_44[0]=="")&&_44[j]==".."&&_44[j-1]!=".."){
if(j==(_44.length-1)){
_44.splice(j,1);
_44[j-1]="";
}else{
_44.splice(j-1,2);
j-=2;
}
}
}
}
_41.path=_44.join("/");
}
}
}
}
uri=[];
if(_41.scheme){
uri.push(_41.scheme,":");
}
if(_41.authority){
uri.push("//",_41.authority);
}
uri.push(_41.path);
if(_41.query){
uri.push("?",_41.query);
}
if(_41.fragment){
uri.push("#",_41.fragment);
}
}
this.uri=uri.join("");
var r=this.uri.match(ore);
this.scheme=r[2]||(r[1]?"":n);
this.authority=r[4]||(r[3]?"":n);
this.path=r[5];
this.query=r[7]||(r[6]?"":n);
this.fragment=r[9]||(r[8]?"":n);
if(this.authority!=n){
r=this.authority.match(ire);
this.user=r[3]||n;
this.password=r[4]||n;
this.host=r[6]||r[7];
this.port=r[9]||n;
}
};
dojo._Url.prototype.toString=function(){
return this.uri;
};
dojo.moduleUrl=function(_45,url){
var loc=d._getModuleSymbols(_45).join("/");
if(!loc){
return null;
}
if(loc.lastIndexOf("/")!=loc.length-1){
loc+="/";
}
var _46=loc.indexOf(":");
if(loc.charAt(0)!="/"&&(_46==-1||_46>loc.indexOf("/"))){
loc=d.baseUrl+loc;
}
return new d._Url(loc,url);
};
})();
if(typeof window!="undefined"){
dojo.isBrowser=true;
dojo._name="browser";
(function(){
var d=dojo;
if(document&&document.getElementsByTagName){
var _47=document.getElementsByTagName("script");
var _48=/dojo(\.xd)?\.js(\W|$)/i;
for(var i=0;i<_47.length;i++){
var src=_47[i].getAttribute("src");
if(!src){
continue;
}
var m=src.match(_48);
if(m){
if(!d.config.baseUrl){
d.config.baseUrl=src.substring(0,m.index);
}
var cfg=(_47[i].getAttribute("djConfig")||_47[i].getAttribute("data-dojo-config"));
if(cfg){
var _49=eval("({ "+cfg+" })");
for(var x in _49){
dojo.config[x]=_49[x];
}
}
break;
}
}
}
d.baseUrl=d.config.baseUrl;
var n=navigator;
var dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);
if(dua.indexOf("Opera")>=0){
d.isOpera=tv;
}
if(dua.indexOf("AdobeAIR")>=0){
d.isAIR=1;
}
d.isKhtml=(dav.indexOf("Konqueror")>=0)?tv:0;
d.isWebKit=parseFloat(dua.split("WebKit/")[1])||undefined;
d.isChrome=parseFloat(dua.split("Chrome/")[1])||undefined;
d.isMac=dav.indexOf("Macintosh")>=0;
var _4a=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);
if(_4a&&!dojo.isChrome){
d.isSafari=parseFloat(dav.split("Version/")[1]);
if(!d.isSafari||parseFloat(dav.substr(_4a+7))<=419.3){
d.isSafari=2;
}
}
if(dua.indexOf("Gecko")>=0&&!d.isKhtml&&!d.isWebKit){
d.isMozilla=d.isMoz=tv;
}
if(d.isMoz){
d.isFF=parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined;
}
if(document.all&&!d.isOpera){
d.isIE=parseFloat(dav.split("MSIE ")[1])||undefined;
var _4b=document.documentMode;
if(_4b&&_4b!=5&&Math.floor(d.isIE)!=_4b){
d.isIE=_4b;
}
}
if(dojo.isIE&&window.location.protocol==="file:"){
dojo.config.ieForceActiveXXhr=true;
}
d.isQuirks=document.compatMode=="BackCompat";
d.locale=dojo.config.locale||(d.isIE?n.userLanguage:n.language).toLowerCase();
d._XMLHTTP_PROGIDS=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];
d._xhrObj=function(){
var _4c,_4d;
if(!dojo.isIE||!dojo.config.ieForceActiveXXhr){
try{
_4c=new XMLHttpRequest();
}
catch(e){
}
}
if(!_4c){
for(var i=0;i<3;++i){
var _4e=d._XMLHTTP_PROGIDS[i];
try{
_4c=new ActiveXObject(_4e);
}
catch(e){
_4d=e;
}
if(_4c){
d._XMLHTTP_PROGIDS=[_4e];
break;
}
}
}
if(!_4c){
throw new Error("XMLHTTP not available: "+_4d);
}
return _4c;
};
d._isDocumentOk=function(_4f){
var _50=_4f.status||0;
return (_50>=200&&_50<300)||_50==304||_50==1223||!_50;
};
var _51=window.location+"";
var _52=document.getElementsByTagName("base");
var _53=(_52&&_52.length>0);
d._getText=function(uri,_54){
var _55=d._xhrObj();
if(!_53&&dojo._Url){
uri=(new dojo._Url(_51,uri)).toString();
}
if(d.config.cacheBust){
uri+="";
uri+=(uri.indexOf("?")==-1?"?":"&")+String(d.config.cacheBust).replace(/\W+/g,"");
}
_55.open("GET",uri,false);
try{
_55.send(null);
if(!d._isDocumentOk(_55)){
var err=Error("Unable to load "+uri+" status:"+_55.status);
err.status=_55.status;
err.responseText=_55.responseText;
throw err;
}
}
catch(e){
if(_54){
return null;
}
throw e;
}
return _55.responseText;
};
var _56=window;
var _57=function(_58,fp){
var _59=_56.attachEvent||_56.addEventListener;
_58=_56.attachEvent?_58:_58.substring(2);
_59(_58,function(){
fp.apply(_56,arguments);
},false);
};
d._windowUnloaders=[];
d.windowUnloaded=function(){
var mll=d._windowUnloaders;
while(mll.length){
(mll.pop())();
}
d=null;
};
var _5a=0;
d.addOnWindowUnload=function(obj,_5b){
d._onto(d._windowUnloaders,obj,_5b);
if(!_5a){
_5a=1;
_57("onunload",d.windowUnloaded);
}
};
var _5c=0;
d.addOnUnload=function(obj,_5d){
d._onto(d._unloaders,obj,_5d);
if(!_5c){
_5c=1;
_57("onbeforeunload",dojo.unloaded);
}
};
})();
dojo._initFired=false;
dojo._loadInit=function(e){
if(dojo._scrollIntervalId){
clearInterval(dojo._scrollIntervalId);
dojo._scrollIntervalId=0;
}
if(!dojo._initFired){
dojo._initFired=true;
if(!dojo.config.afterOnLoad&&window.detachEvent){
window.detachEvent("onload",dojo._loadInit);
}
if(dojo._inFlightCount==0){
dojo._modulesLoaded();
}
}
};
if(!dojo.config.afterOnLoad){
if(document.addEventListener){
document.addEventListener("DOMContentLoaded",dojo._loadInit,false);
window.addEventListener("load",dojo._loadInit,false);
}else{
if(window.attachEvent){
window.attachEvent("onload",dojo._loadInit);
if(!dojo.config.skipIeDomLoaded&&self===self.top){
dojo._scrollIntervalId=setInterval(function(){
try{
if(document.body){
document.documentElement.doScroll("left");
dojo._loadInit();
}
}
catch(e){
}
},30);
}
}
}
}
if(dojo.isIE){
try{
(function(){
document.namespaces.add("v","urn:schemas-microsoft-com:vml");
var _5e=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],i=0,l=1,s=document.createStyleSheet();
if(dojo.isIE>=8){
i=1;
l=_5e.length;
}
for(;i<l;++i){
s.addRule("v\\:"+_5e[i],"behavior:url(#default#VML); display:inline-block");
}
})();
}
catch(e){
}
}
}
(function(){
var mp=dojo.config["modulePaths"];
if(mp){
for(var _5f in mp){
dojo.registerModulePath(_5f,mp[_5f]);
}
}
})();
if(dojo.config.isDebug){
dojo.require("dojo._firebug.firebug");
}
if(dojo.config.debugAtAllCosts){
dojo.require("dojo._base._loader.loader_debug");
}
if(!dojo._hasResource["dojo._base.lang"]){
dojo._hasResource["dojo._base.lang"]=true;
dojo.provide("dojo._base.lang");
(function(){
var d=dojo,_60=Object.prototype.toString;
dojo.isString=function(it){
return (typeof it=="string"||it instanceof String);
};
dojo.isArray=function(it){
return it&&(it instanceof Array||typeof it=="array");
};
dojo.isFunction=function(it){
return _60.call(it)==="[object Function]";
};
dojo.isObject=function(it){
return it!==undefined&&(it===null||typeof it=="object"||d.isArray(it)||d.isFunction(it));
};
dojo.isArrayLike=function(it){
return it&&it!==undefined&&!d.isString(it)&&!d.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(d.isArray(it)||isFinite(it.length));
};
dojo.isAlien=function(it){
return it&&!d.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));
};
dojo.extend=function(_61,_62){
for(var i=1,l=arguments.length;i<l;i++){
d._mixin(_61.prototype,arguments[i]);
}
return _61;
};
dojo._hitchArgs=function(_63,_64){
var pre=d._toArray(arguments,2);
var _65=d.isString(_64);
return function(){
var _66=d._toArray(arguments);
var f=_65?(_63||d.global)[_64]:_64;
return f&&f.apply(_63||this,pre.concat(_66));
};
};
dojo.hitch=function(_67,_68){
if(arguments.length>2){
return d._hitchArgs.apply(d,arguments);
}
if(!_68){
_68=_67;
_67=null;
}
if(d.isString(_68)){
_67=_67||d.global;
if(!_67[_68]){
throw (["dojo.hitch: scope[\"",_68,"\"] is null (scope=\"",_67,"\")"].join(""));
}
return function(){
return _67[_68].apply(_67,arguments||[]);
};
}
return !_67?_68:function(){
return _68.apply(_67,arguments||[]);
};
};
dojo.delegate=dojo._delegate=(function(){
function TMP(){
};
return function(obj,_69){
TMP.prototype=obj;
var tmp=new TMP();
TMP.prototype=null;
if(_69){
d._mixin(tmp,_69);
}
return tmp;
};
})();
var _6a=function(obj,_6b,_6c){
return (_6c||[]).concat(Array.prototype.slice.call(obj,_6b||0));
};
var _6d=function(obj,_6e,_6f){
var arr=_6f||[];
for(var x=_6e||0;x<obj.length;x++){
arr.push(obj[x]);
}
return arr;
};
dojo._toArray=d.isIE?function(obj){
return ((obj.item)?_6d:_6a).apply(this,arguments);
}:_6a;
dojo.partial=function(_70){
var arr=[null];
return d.hitch.apply(d,arr.concat(d._toArray(arguments)));
};
var _71=d._extraNames,_72=_71.length,_73={};
dojo.clone=function(o){
if(!o||typeof o!="object"||d.isFunction(o)){
return o;
}
if(o.nodeType&&"cloneNode" in o){
return o.cloneNode(true);
}
if(o instanceof Date){
return new Date(o.getTime());
}
if(o instanceof RegExp){
return new RegExp(o);
}
var r,i,l,s,_74;
if(d.isArray(o)){
r=[];
for(i=0,l=o.length;i<l;++i){
if(i in o){
r.push(d.clone(o[i]));
}
}
}else{
r=o.constructor?new o.constructor():{};
}
for(_74 in o){
s=o[_74];
if(!(_74 in r)||(r[_74]!==s&&(!(_74 in _73)||_73[_74]!==s))){
r[_74]=d.clone(s);
}
}
if(_72){
for(i=0;i<_72;++i){
_74=_71[i];
s=o[_74];
if(!(_74 in r)||(r[_74]!==s&&(!(_74 in _73)||_73[_74]!==s))){
r[_74]=s;
}
}
}
return r;
};
dojo.trim=String.prototype.trim?function(str){
return str.trim();
}:function(str){
return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");
};
var _75=/\{([^\}]+)\}/g;
dojo.replace=function(_76,map,_77){
return _76.replace(_77||_75,d.isFunction(map)?map:function(_78,k){
return d.getObject(k,false,map);
});
};
})();
}
if(!dojo._hasResource["dojo._base.array"]){
dojo._hasResource["dojo._base.array"]=true;
dojo.provide("dojo._base.array");
(function(){
var _79=function(arr,obj,cb){
return [(typeof arr=="string")?arr.split(""):arr,obj||dojo.global,(typeof cb=="string")?new Function("item","index","array",cb):cb];
};
var _7a=function(_7b,arr,_7c,_7d){
var _7e=_79(arr,_7d,_7c);
arr=_7e[0];
for(var i=0,l=arr.length;i<l;++i){
var _7f=!!_7e[2].call(_7e[1],arr[i],i,arr);
if(_7b^_7f){
return _7f;
}
}
return _7b;
};
dojo.mixin(dojo,{indexOf:function(_80,_81,_82,_83){
var _84=1,end=_80.length||0,i=0;
if(_83){
i=end-1;
_84=end=-1;
}
if(_82!=undefined){
i=_82;
}
if((_83&&i>end)||i<end){
for(;i!=end;i+=_84){
if(_80[i]==_81){
return i;
}
}
}
return -1;
},lastIndexOf:function(_85,_86,_87){
return dojo.indexOf(_85,_86,_87,true);
},forEach:function(arr,_88,_89){
if(!arr||!arr.length){
return;
}
var _8a=_79(arr,_89,_88);
arr=_8a[0];
for(var i=0,l=arr.length;i<l;++i){
_8a[2].call(_8a[1],arr[i],i,arr);
}
},every:function(arr,_8b,_8c){
return _7a(true,arr,_8b,_8c);
},some:function(arr,_8d,_8e){
return _7a(false,arr,_8d,_8e);
},map:function(arr,_8f,_90){
var _91=_79(arr,_90,_8f);
arr=_91[0];
var _92=(arguments[3]?(new arguments[3]()):[]);
for(var i=0,l=arr.length;i<l;++i){
_92.push(_91[2].call(_91[1],arr[i],i,arr));
}
return _92;
},filter:function(arr,_93,_94){
var _95=_79(arr,_94,_93);
arr=_95[0];
var _96=[];
for(var i=0,l=arr.length;i<l;++i){
if(_95[2].call(_95[1],arr[i],i,arr)){
_96.push(arr[i]);
}
}
return _96;
}});
})();
}
if(!dojo._hasResource["dojo._base.declare"]){
dojo._hasResource["dojo._base.declare"]=true;
dojo.provide("dojo._base.declare");
(function(){
var d=dojo,mix=d._mixin,op=Object.prototype,_97=op.toString,_98=new Function,_99=0,_9a="constructor";
function err(msg,cls){
throw new Error("declare"+(cls?" "+cls:"")+": "+msg);
};
function _9b(_9c,_9d){
var _9e=[],_9f=[{cls:0,refs:[]}],_a0={},_a1=1,l=_9c.length,i=0,j,lin,_a2,top,_a3,rec,_a4,_a5;
for(;i<l;++i){
_a2=_9c[i];
if(!_a2){
err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_9d);
}else{
if(_97.call(_a2)!="[object Function]"){
err("mixin #"+i+" is not a callable constructor.",_9d);
}
}
lin=_a2._meta?_a2._meta.bases:[_a2];
top=0;
for(j=lin.length-1;j>=0;--j){
_a3=lin[j].prototype;
if(!_a3.hasOwnProperty("declaredClass")){
_a3.declaredClass="uniqName_"+(_99++);
}
_a4=_a3.declaredClass;
if(!_a0.hasOwnProperty(_a4)){
_a0[_a4]={count:0,refs:[],cls:lin[j]};
++_a1;
}
rec=_a0[_a4];
if(top&&top!==rec){
rec.refs.push(top);
++top.count;
}
top=rec;
}
++top.count;
_9f[0].refs.push(top);
}
while(_9f.length){
top=_9f.pop();
_9e.push(top.cls);
--_a1;
while(_a5=top.refs,_a5.length==1){
top=_a5[0];
if(!top||--top.count){
top=0;
break;
}
_9e.push(top.cls);
--_a1;
}
if(top){
for(i=0,l=_a5.length;i<l;++i){
top=_a5[i];
if(!--top.count){
_9f.push(top);
}
}
}
}
if(_a1){
err("can't build consistent linearization",_9d);
}
_a2=_9c[0];
_9e[0]=_a2?_a2._meta&&_a2===_9e[_9e.length-_a2._meta.bases.length]?_a2._meta.bases.length:1:0;
return _9e;
};
function _a6(_a7,a,f){
var _a8,_a9,_aa,_ab,_ac,_ad,_ae,opf,pos,_af=this._inherited=this._inherited||{};
if(typeof _a7=="string"){
_a8=_a7;
_a7=a;
a=f;
}
f=0;
_ab=_a7.callee;
_a8=_a8||_ab.nom;
if(!_a8){
err("can't deduce a name to call inherited()",this.declaredClass);
}
_ac=this.constructor._meta;
_aa=_ac.bases;
pos=_af.p;
if(_a8!=_9a){
if(_af.c!==_ab){
pos=0;
_ad=_aa[0];
_ac=_ad._meta;
if(_ac.hidden[_a8]!==_ab){
_a9=_ac.chains;
if(_a9&&typeof _a9[_a8]=="string"){
err("calling chained method with inherited: "+_a8,this.declaredClass);
}
do{
_ac=_ad._meta;
_ae=_ad.prototype;
if(_ac&&(_ae[_a8]===_ab&&_ae.hasOwnProperty(_a8)||_ac.hidden[_a8]===_ab)){
break;
}
}while(_ad=_aa[++pos]);
pos=_ad?pos:-1;
}
}
_ad=_aa[++pos];
if(_ad){
_ae=_ad.prototype;
if(_ad._meta&&_ae.hasOwnProperty(_a8)){
f=_ae[_a8];
}else{
opf=op[_a8];
do{
_ae=_ad.prototype;
f=_ae[_a8];
if(f&&(_ad._meta?_ae.hasOwnProperty(_a8):f!==opf)){
break;
}
}while(_ad=_aa[++pos]);
}
}
f=_ad&&f||op[_a8];
}else{
if(_af.c!==_ab){
pos=0;
_ac=_aa[0]._meta;
if(_ac&&_ac.ctor!==_ab){
_a9=_ac.chains;
if(!_a9||_a9.constructor!=="manual"){
err("calling chained constructor with inherited",this.declaredClass);
}
while(_ad=_aa[++pos]){
_ac=_ad._meta;
if(_ac&&_ac.ctor===_ab){
break;
}
}
pos=_ad?pos:-1;
}
}
while(_ad=_aa[++pos]){
_ac=_ad._meta;
f=_ac?_ac.ctor:_ad;
if(f){
break;
}
}
f=_ad&&f;
}
_af.c=f;
_af.p=pos;
if(f){
return a===true?f:f.apply(this,a||_a7);
}
};
function _b0(_b1,_b2){
if(typeof _b1=="string"){
return this.inherited(_b1,_b2,true);
}
return this.inherited(_b1,true);
};
function _b3(cls){
var _b4=this.constructor._meta.bases;
for(var i=0,l=_b4.length;i<l;++i){
if(_b4[i]===cls){
return true;
}
}
return this instanceof cls;
};
function _b5(_b6,_b7){
var _b8,i=0,l=d._extraNames.length;
for(_b8 in _b7){
if(_b8!=_9a&&_b7.hasOwnProperty(_b8)){
_b6[_b8]=_b7[_b8];
}
}
for(;i<l;++i){
_b8=d._extraNames[i];
if(_b8!=_9a&&_b7.hasOwnProperty(_b8)){
_b6[_b8]=_b7[_b8];
}
}
};
function _b9(_ba,_bb){
var _bc,t,i=0,l=d._extraNames.length;
for(_bc in _bb){
t=_bb[_bc];
if((t!==op[_bc]||!(_bc in op))&&_bc!=_9a){
if(_97.call(t)=="[object Function]"){
t.nom=_bc;
}
_ba[_bc]=t;
}
}
for(;i<l;++i){
_bc=d._extraNames[i];
t=_bb[_bc];
if((t!==op[_bc]||!(_bc in op))&&_bc!=_9a){
if(_97.call(t)=="[object Function]"){
t.nom=_bc;
}
_ba[_bc]=t;
}
}
return _ba;
};
function _bd(_be){
_b9(this.prototype,_be);
return this;
};
function _bf(_c0,_c1){
return function(){
var a=arguments,_c2=a,a0=a[0],f,i,m,l=_c0.length,_c3;
if(!(this instanceof a.callee)){
return _c4(a);
}
if(_c1&&(a0&&a0.preamble||this.preamble)){
_c3=new Array(_c0.length);
_c3[0]=a;
for(i=0;;){
a0=a[0];
if(a0){
f=a0.preamble;
if(f){
a=f.apply(this,a)||a;
}
}
f=_c0[i].prototype;
f=f.hasOwnProperty("preamble")&&f.preamble;
if(f){
a=f.apply(this,a)||a;
}
if(++i==l){
break;
}
_c3[i]=a;
}
}
for(i=l-1;i>=0;--i){
f=_c0[i];
m=f._meta;
f=m?m.ctor:f;
if(f){
f.apply(this,_c3?_c3[i]:a);
}
}
f=this.postscript;
if(f){
f.apply(this,_c2);
}
};
};
function _c5(_c6,_c7){
return function(){
var a=arguments,t=a,a0=a[0],f;
if(!(this instanceof a.callee)){
return _c4(a);
}
if(_c7){
if(a0){
f=a0.preamble;
if(f){
t=f.apply(this,t)||t;
}
}
f=this.preamble;
if(f){
f.apply(this,t);
}
}
if(_c6){
_c6.apply(this,a);
}
f=this.postscript;
if(f){
f.apply(this,a);
}
};
};
function _c8(_c9){
return function(){
var a=arguments,i=0,f,m;
if(!(this instanceof a.callee)){
return _c4(a);
}
for(;f=_c9[i];++i){
m=f._meta;
f=m?m.ctor:f;
if(f){
f.apply(this,a);
break;
}
}
f=this.postscript;
if(f){
f.apply(this,a);
}
};
};
function _ca(_cb,_cc,_cd){
return function(){
var b,m,f,i=0,_ce=1;
if(_cd){
i=_cc.length-1;
_ce=-1;
}
for(;b=_cc[i];i+=_ce){
m=b._meta;
f=(m?m.hidden:b.prototype)[_cb];
if(f){
f.apply(this,arguments);
}
}
};
};
function _cf(_d0){
_98.prototype=_d0.prototype;
var t=new _98;
_98.prototype=null;
return t;
};
function _c4(_d1){
var _d2=_d1.callee,t=_cf(_d2);
_d2.apply(t,_d1);
return t;
};
d.declare=function(_d3,_d4,_d5){
if(typeof _d3!="string"){
_d5=_d4;
_d4=_d3;
_d3="";
}
_d5=_d5||{};
var _d6,i,t,_d7,_d8,_d9,_da,_db=1,_dc=_d4;
if(_97.call(_d4)=="[object Array]"){
_d9=_9b(_d4,_d3);
t=_d9[0];
_db=_d9.length-t;
_d4=_d9[_db];
}else{
_d9=[0];
if(_d4){
if(_97.call(_d4)=="[object Function]"){
t=_d4._meta;
_d9=_d9.concat(t?t.bases:_d4);
}else{
err("base class is not a callable constructor.",_d3);
}
}else{
if(_d4!==null){
err("unknown base class. Did you use dojo.require to pull it in?",_d3);
}
}
}
if(_d4){
for(i=_db-1;;--i){
_d6=_cf(_d4);
if(!i){
break;
}
t=_d9[i];
(t._meta?_b5:mix)(_d6,t.prototype);
_d7=new Function;
_d7.superclass=_d4;
_d7.prototype=_d6;
_d4=_d6.constructor=_d7;
}
}else{
_d6={};
}
_b9(_d6,_d5);
t=_d5.constructor;
if(t!==op.constructor){
t.nom=_9a;
_d6.constructor=t;
}
for(i=_db-1;i;--i){
t=_d9[i]._meta;
if(t&&t.chains){
_da=mix(_da||{},t.chains);
}
}
if(_d6["-chains-"]){
_da=mix(_da||{},_d6["-chains-"]);
}
t=!_da||!_da.hasOwnProperty(_9a);
_d9[0]=_d7=(_da&&_da.constructor==="manual")?_c8(_d9):(_d9.length==1?_c5(_d5.constructor,t):_bf(_d9,t));
_d7._meta={bases:_d9,hidden:_d5,chains:_da,parents:_dc,ctor:_d5.constructor};
_d7.superclass=_d4&&_d4.prototype;
_d7.extend=_bd;
_d7.prototype=_d6;
_d6.constructor=_d7;
_d6.getInherited=_b0;
_d6.inherited=_a6;
_d6.isInstanceOf=_b3;
if(_d3){
_d6.declaredClass=_d3;
d.setObject(_d3,_d7);
}
if(_da){
for(_d8 in _da){
if(_d6[_d8]&&typeof _da[_d8]=="string"&&_d8!=_9a){
t=_d6[_d8]=_ca(_d8,_d9,_da[_d8]==="after");
t.nom=_d8;
}
}
}
return _d7;
};
d.safeMixin=_b9;
})();
}
if(!dojo._hasResource["dojo._base.connect"]){
dojo._hasResource["dojo._base.connect"]=true;
dojo.provide("dojo._base.connect");
dojo._listener={getDispatcher:function(){
return function(){
var ap=Array.prototype,c=arguments.callee,ls=c._listeners,t=c.target,r=t&&t.apply(this,arguments),i,lls=[].concat(ls);
for(i in lls){
if(!(i in ap)){
lls[i].apply(this,arguments);
}
}
return r;
};
},add:function(_dd,_de,_df){
_dd=_dd||dojo.global;
var f=_dd[_de];
if(!f||!f._listeners){
var d=dojo._listener.getDispatcher();
d.target=f;
d._listeners=[];
f=_dd[_de]=d;
}
return f._listeners.push(_df);
},remove:function(_e0,_e1,_e2){
var f=(_e0||dojo.global)[_e1];
if(f&&f._listeners&&_e2--){
delete f._listeners[_e2];
}
}};
dojo.connect=function(obj,_e3,_e4,_e5,_e6){
var a=arguments,_e7=[],i=0;
_e7.push(dojo.isString(a[0])?null:a[i++],a[i++]);
var a1=a[i+1];
_e7.push(dojo.isString(a1)||dojo.isFunction(a1)?a[i++]:null,a[i++]);
for(var l=a.length;i<l;i++){
_e7.push(a[i]);
}
return dojo._connect.apply(this,_e7);
};
dojo._connect=function(obj,_e8,_e9,_ea){
var l=dojo._listener,h=l.add(obj,_e8,dojo.hitch(_e9,_ea));
return [obj,_e8,h,l];
};
dojo.disconnect=function(_eb){
if(_eb&&_eb[0]!==undefined){
dojo._disconnect.apply(this,_eb);
delete _eb[0];
}
};
dojo._disconnect=function(obj,_ec,_ed,_ee){
_ee.remove(obj,_ec,_ed);
};
dojo._topics={};
dojo.subscribe=function(_ef,_f0,_f1){
return [_ef,dojo._listener.add(dojo._topics,_ef,dojo.hitch(_f0,_f1))];
};
dojo.unsubscribe=function(_f2){
if(_f2){
dojo._listener.remove(dojo._topics,_f2[0],_f2[1]);
}
};
dojo.publish=function(_f3,_f4){
var f=dojo._topics[_f3];
if(f){
f.apply(this,_f4||[]);
}
};
dojo.connectPublisher=function(_f5,obj,_f6){
var pf=function(){
dojo.publish(_f5,arguments);
};
return _f6?dojo.connect(obj,_f6,pf):dojo.connect(obj,pf);
};
}
if(!dojo._hasResource["dojo._base.Deferred"]){
dojo._hasResource["dojo._base.Deferred"]=true;
dojo.provide("dojo._base.Deferred");
(function(){
var _f7=function(){
};
var _f8=Object.freeze||function(){
};
dojo.Deferred=function(_f9){
var _fa,_fb,_fc,_fd,_fe;
var _ff=(this.promise={});
function _100(_101){
if(_fb){
throw new Error("This deferred has already been resolved");
}
_fa=_101;
_fb=true;
_102();
};
function _102(){
var _103;
while(!_103&&_fe){
var _104=_fe;
_fe=_fe.next;
if((_103=(_104.progress==_f7))){
_fb=false;
}
var func=(_fc?_104.error:_104.resolved);
if(func){
try{
var _105=func(_fa);
if(_105&&typeof _105.then==="function"){
_105.then(dojo.hitch(_104.deferred,"resolve"),dojo.hitch(_104.deferred,"reject"));
continue;
}
var _106=_103&&_105===undefined;
if(_103&&!_106){
_fc=_105 instanceof Error;
}
_104.deferred[_106&&_fc?"reject":"resolve"](_106?_fa:_105);
}
catch(e){
_104.deferred.reject(e);
}
}else{
if(_fc){
_104.deferred.reject(_fa);
}else{
_104.deferred.resolve(_fa);
}
}
}
};
this.resolve=this.callback=function(_107){
this.fired=0;
this.results=[_107,null];
_100(_107);
};
this.reject=this.errback=function(_108){
_fc=true;
this.fired=1;
_100(_108);
this.results=[null,_108];
if(!_108||_108.log!==false){
(dojo.config.deferredOnError||function(x){
console.error(x);
})(_108);
}
};
this.progress=function(_109){
var _10a=_fe;
while(_10a){
var _10b=_10a.progress;
_10b&&_10b(_109);
_10a=_10a.next;
}
};
this.addCallbacks=function(_10c,_10d){
this.then(_10c,_10d,_f7);
return this;
};
this.then=_ff.then=function(_10e,_10f,_110){
var _111=_110==_f7?this:new dojo.Deferred(_ff.cancel);
var _112={resolved:_10e,error:_10f,progress:_110,deferred:_111};
if(_fe){
_fd=_fd.next=_112;
}else{
_fe=_fd=_112;
}
if(_fb){
_102();
}
return _111.promise;
};
var _113=this;
this.cancel=_ff.cancel=function(){
if(!_fb){
var _114=_f9&&_f9(_113);
if(!_fb){
if(!(_114 instanceof Error)){
_114=new Error(_114);
}
_114.log=false;
_113.reject(_114);
}
}
};
_f8(_ff);
};
dojo.extend(dojo.Deferred,{addCallback:function(_115){
return this.addCallbacks(dojo.hitch.apply(dojo,arguments));
},addErrback:function(_116){
return this.addCallbacks(null,dojo.hitch.apply(dojo,arguments));
},addBoth:function(_117){
var _118=dojo.hitch.apply(dojo,arguments);
return this.addCallbacks(_118,_118);
},fired:-1});
})();
dojo.when=function(_119,_11a,_11b,_11c){
if(_119&&typeof _119.then==="function"){
return _119.then(_11a,_11b,_11c);
}
return _11a(_119);
};
}
if(!dojo._hasResource["dojo._base.json"]){
dojo._hasResource["dojo._base.json"]=true;
dojo.provide("dojo._base.json");
dojo.fromJson=function(json){
return eval("("+json+")");
};
dojo._escapeString=function(str){
return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");
};
dojo.toJsonIndentStr="\t";
dojo.toJson=function(it,_11d,_11e){
if(it===undefined){
return "undefined";
}
var _11f=typeof it;
if(_11f=="number"||_11f=="boolean"){
return it+"";
}
if(it===null){
return "null";
}
if(dojo.isString(it)){
return dojo._escapeString(it);
}
var _120=arguments.callee;
var _121;
_11e=_11e||"";
var _122=_11d?_11e+dojo.toJsonIndentStr:"";
var tf=it.__json__||it.json;
if(dojo.isFunction(tf)){
_121=tf.call(it);
if(it!==_121){
return _120(_121,_11d,_122);
}
}
if(it.nodeType&&it.cloneNode){
throw new Error("Can't serialize DOM nodes");
}
var sep=_11d?" ":"";
var _123=_11d?"\n":"";
if(dojo.isArray(it)){
var res=dojo.map(it,function(obj){
var val=_120(obj,_11d,_122);
if(typeof val!="string"){
val="undefined";
}
return _123+_122+val;
});
return "["+res.join(","+sep)+_123+_11e+"]";
}
if(_11f=="function"){
return null;
}
var _124=[],key;
for(key in it){
var _125,val;
if(typeof key=="number"){
_125="\""+key+"\"";
}else{
if(typeof key=="string"){
_125=dojo._escapeString(key);
}else{
continue;
}
}
val=_120(it[key],_11d,_122);
if(typeof val!="string"){
continue;
}
_124.push(_123+_122+_125+":"+sep+val);
}
return "{"+_124.join(","+sep)+_123+_11e+"}";
};
}
if(!dojo._hasResource["dojo._base.Color"]){
dojo._hasResource["dojo._base.Color"]=true;
dojo.provide("dojo._base.Color");
(function(){
var d=dojo;
dojo.Color=function(_126){
if(_126){
this.setColor(_126);
}
};
dojo.Color.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:d.config.transparentColor||[255,255,255]};
dojo.extend(dojo.Color,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){
var t=this;
t.r=r;
t.g=g;
t.b=b;
t.a=a;
},setColor:function(_127){
if(d.isString(_127)){
d.colorFromString(_127,this);
}else{
if(d.isArray(_127)){
d.colorFromArray(_127,this);
}else{
this._set(_127.r,_127.g,_127.b,_127.a);
if(!(_127 instanceof d.Color)){
this.sanitize();
}
}
}
return this;
},sanitize:function(){
return this;
},toRgb:function(){
var t=this;
return [t.r,t.g,t.b];
},toRgba:function(){
var t=this;
return [t.r,t.g,t.b,t.a];
},toHex:function(){
var arr=d.map(["r","g","b"],function(x){
var s=this[x].toString(16);
return s.length<2?"0"+s:s;
},this);
return "#"+arr.join("");
},toCss:function(_128){
var t=this,rgb=t.r+", "+t.g+", "+t.b;
return (_128?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";
},toString:function(){
return this.toCss(true);
}});
dojo.blendColors=function(_129,end,_12a,obj){
var t=obj||new d.Color();
d.forEach(["r","g","b","a"],function(x){
t[x]=_129[x]+(end[x]-_129[x])*_12a;
if(x!="a"){
t[x]=Math.round(t[x]);
}
});
return t.sanitize();
};
dojo.colorFromRgb=function(_12b,obj){
var m=_12b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);
return m&&dojo.colorFromArray(m[1].split(/\s*,\s*/),obj);
};
dojo.colorFromHex=function(_12c,obj){
var t=obj||new d.Color(),bits=(_12c.length==4)?4:8,mask=(1<<bits)-1;
_12c=Number("0x"+_12c.substr(1));
if(isNaN(_12c)){
return null;
}
d.forEach(["b","g","r"],function(x){
var c=_12c&mask;
_12c>>=bits;
t[x]=bits==4?17*c:c;
});
t.a=1;
return t;
};
dojo.colorFromArray=function(a,obj){
var t=obj||new d.Color();
t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));
if(isNaN(t.a)){
t.a=1;
}
return t.sanitize();
};
dojo.colorFromString=function(str,obj){
var a=d.Color.named[str];
return a&&d.colorFromArray(a,obj)||d.colorFromRgb(str,obj)||d.colorFromHex(str,obj);
};
})();
}
if(!dojo._hasResource["dojo._base.window"]){
dojo._hasResource["dojo._base.window"]=true;
dojo.provide("dojo._base.window");
dojo.doc=window["document"]||null;
dojo.body=function(){
return dojo.doc.body||dojo.doc.getElementsByTagName("body")[0];
};
dojo.setContext=function(_12d,_12e){
dojo.global=_12d;
dojo.doc=_12e;
};
dojo.withGlobal=function(_12f,_130,_131,_132){
var _133=dojo.global;
try{
dojo.global=_12f;
return dojo.withDoc.call(null,_12f.document,_130,_131,_132);
}
finally{
dojo.global=_133;
}
};
dojo.withDoc=function(_134,_135,_136,_137){
var _138=dojo.doc,_139=dojo._bodyLtr,oldQ=dojo.isQuirks;
try{
dojo.doc=_134;
delete dojo._bodyLtr;
dojo.isQuirks=dojo.doc.compatMode=="BackCompat";
if(_136&&typeof _135=="string"){
_135=_136[_135];
}
return _135.apply(_136,_137||[]);
}
finally{
dojo.doc=_138;
delete dojo._bodyLtr;
if(_139!==undefined){
dojo._bodyLtr=_139;
}
dojo.isQuirks=oldQ;
}
};
}
if(!dojo._hasResource["dojo._base.event"]){
dojo._hasResource["dojo._base.event"]=true;
dojo.provide("dojo._base.event");
(function(){
var del=(dojo._event_listener={add:function(node,name,fp){
if(!node){
return;
}
name=del._normalizeEventName(name);
fp=del._fixCallback(name,fp);
var _13a=name;
if(!dojo.isIE&&(name=="mouseenter"||name=="mouseleave")){
var ofp=fp;
name=(name=="mouseenter")?"mouseover":"mouseout";
fp=function(e){
if(!dojo.isDescendant(e.relatedTarget,node)){
return ofp.call(this,e);
}
};
}
node.addEventListener(name,fp,false);
return fp;
},remove:function(node,_13b,_13c){
if(node){
_13b=del._normalizeEventName(_13b);
if(!dojo.isIE&&(_13b=="mouseenter"||_13b=="mouseleave")){
_13b=(_13b=="mouseenter")?"mouseover":"mouseout";
}
node.removeEventListener(_13b,_13c,false);
}
},_normalizeEventName:function(name){
return name.slice(0,2)=="on"?name.slice(2):name;
},_fixCallback:function(name,fp){
return name!="keypress"?fp:function(e){
return fp.call(this,del._fixEvent(e,this));
};
},_fixEvent:function(evt,_13d){
switch(evt.type){
case "keypress":
del._setKeyChar(evt);
break;
}
return evt;
},_setKeyChar:function(evt){
evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";
evt.charOrCode=evt.keyChar||evt.keyCode;
},_punctMap:{106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39}});
dojo.fixEvent=function(evt,_13e){
return del._fixEvent(evt,_13e);
};
dojo.stopEvent=function(evt){
evt.preventDefault();
evt.stopPropagation();
};
var _13f=dojo._listener;
dojo._connect=function(obj,_140,_141,_142,_143){
var _144=obj&&(obj.nodeType||obj.attachEvent||obj.addEventListener);
var lid=_144?(_143?2:1):0,l=[dojo._listener,del,_13f][lid];
var h=l.add(obj,_140,dojo.hitch(_141,_142));
return [obj,_140,h,lid];
};
dojo._disconnect=function(obj,_145,_146,_147){
([dojo._listener,del,_13f][_147]).remove(obj,_145,_146);
};
dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:dojo.isSafari?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,copyKey:dojo.isMac&&!dojo.isAIR?(dojo.isSafari?91:224):17};
var _148=dojo.isMac?"metaKey":"ctrlKey";
dojo.isCopyKey=function(e){
return e[_148];
};
if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){
dojo.mouseButtons={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_149){
return e.button&_149;
},isLeft:function(e){
return e.button&1;
},isMiddle:function(e){
return e.button&4;
},isRight:function(e){
return e.button&2;
}};
}else{
dojo.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_14a){
return e.button==_14a;
},isLeft:function(e){
return e.button==0;
},isMiddle:function(e){
return e.button==1;
},isRight:function(e){
return e.button==2;
}};
}
if(dojo.isIE){
var _14b=function(e,code){
try{
return (e.keyCode=code);
}
catch(e){
return 0;
}
};
var iel=dojo._listener;
var _14c=(dojo._ieListenersName="_"+dojo._scopeName+"_listeners");
if(!dojo.config._allow_leaks){
_13f=iel=dojo._ie_listener={handlers:[],add:function(_14d,_14e,_14f){
_14d=_14d||dojo.global;
var f=_14d[_14e];
if(!f||!f[_14c]){
var d=dojo._getIeDispatcher();
d.target=f&&(ieh.push(f)-1);
d[_14c]=[];
f=_14d[_14e]=d;
}
return f[_14c].push(ieh.push(_14f)-1);
},remove:function(_150,_151,_152){
var f=(_150||dojo.global)[_151],l=f&&f[_14c];
if(f&&l&&_152--){
delete ieh[l[_152]];
delete l[_152];
}
}};
var ieh=iel.handlers;
}
dojo.mixin(del,{add:function(node,_153,fp){
if(!node){
return;
}
_153=del._normalizeEventName(_153);
if(_153=="onkeypress"){
var kd=node.onkeydown;
if(!kd||!kd[_14c]||!kd._stealthKeydownHandle){
var h=del.add(node,"onkeydown",del._stealthKeyDown);
kd=node.onkeydown;
kd._stealthKeydownHandle=h;
kd._stealthKeydownRefs=1;
}else{
kd._stealthKeydownRefs++;
}
}
return iel.add(node,_153,del._fixCallback(fp));
},remove:function(node,_154,_155){
_154=del._normalizeEventName(_154);
iel.remove(node,_154,_155);
if(_154=="onkeypress"){
var kd=node.onkeydown;
if(--kd._stealthKeydownRefs<=0){
iel.remove(node,"onkeydown",kd._stealthKeydownHandle);
delete kd._stealthKeydownHandle;
}
}
},_normalizeEventName:function(_156){
return _156.slice(0,2)!="on"?"on"+_156:_156;
},_nop:function(){
},_fixEvent:function(evt,_157){
if(!evt){
var w=_157&&(_157.ownerDocument||_157.document||_157).parentWindow||window;
evt=w.event;
}
if(!evt){
return (evt);
}
evt.target=evt.srcElement;
evt.currentTarget=(_157||evt.srcElement);
evt.layerX=evt.offsetX;
evt.layerY=evt.offsetY;
var se=evt.srcElement,doc=(se&&se.ownerDocument)||document;
var _158=((dojo.isIE<6)||(doc["compatMode"]=="BackCompat"))?doc.body:doc.documentElement;
var _159=dojo._getIeDocumentElementOffset();
evt.pageX=evt.clientX+dojo._fixIeBiDiScrollLeft(_158.scrollLeft||0)-_159.x;
evt.pageY=evt.clientY+(_158.scrollTop||0)-_159.y;
if(evt.type=="mouseover"){
evt.relatedTarget=evt.fromElement;
}
if(evt.type=="mouseout"){
evt.relatedTarget=evt.toElement;
}
if(dojo.isIE<9||dojo.isQuirks){
evt.stopPropagation=del._stopPropagation;
evt.preventDefault=del._preventDefault;
}
return del._fixKeys(evt);
},_fixKeys:function(evt){
switch(evt.type){
case "keypress":
var c=("charCode" in evt?evt.charCode:evt.keyCode);
if(c==10){
c=0;
evt.keyCode=13;
}else{
if(c==13||c==27){
c=0;
}else{
if(c==3){
c=99;
}
}
}
evt.charCode=c;
del._setKeyChar(evt);
break;
}
return evt;
},_stealthKeyDown:function(evt){
var kp=evt.currentTarget.onkeypress;
if(!kp||!kp[_14c]){
return;
}
var k=evt.keyCode;
var _15a=k!=13&&k!=32&&k!=27&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);
if(_15a||evt.ctrlKey){
var c=_15a?0:k;
if(evt.ctrlKey){
if(k==3||k==13){
return;
}else{
if(c>95&&c<106){
c-=48;
}else{
if((!evt.shiftKey)&&(c>=65&&c<=90)){
c+=32;
}else{
c=del._punctMap[c]||c;
}
}
}
}
var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});
kp.call(evt.currentTarget,faux);
evt.cancelBubble=faux.cancelBubble;
evt.returnValue=faux.returnValue;
_14b(evt,faux.keyCode);
}
},_stopPropagation:function(){
this.cancelBubble=true;
},_preventDefault:function(){
this.bubbledKeyCode=this.keyCode;
if(this.ctrlKey){
_14b(this,0);
}
this.returnValue=false;
}});
dojo.stopEvent=(dojo.isIE<9||dojo.isQuirks)?function(evt){
evt=evt||window.event;
del._stopPropagation.call(evt);
del._preventDefault.call(evt);
}:dojo.stopEvent;
}
del._synthesizeEvent=function(evt,_15b){
var faux=dojo.mixin({},evt,_15b);
del._setKeyChar(faux);
faux.preventDefault=function(){
evt.preventDefault();
};
faux.stopPropagation=function(){
evt.stopPropagation();
};
return faux;
};
if(dojo.isOpera){
dojo.mixin(del,{_fixEvent:function(evt,_15c){
switch(evt.type){
case "keypress":
var c=evt.which;
if(c==3){
c=99;
}
c=c<41&&!evt.shiftKey?0:c;
if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){
c+=32;
}
return del._synthesizeEvent(evt,{charCode:c});
}
return evt;
}});
}
if(dojo.isWebKit){
del._add=del.add;
del._remove=del.remove;
dojo.mixin(del,{add:function(node,_15d,fp){
if(!node){
return;
}
var _15e=del._add(node,_15d,fp);
if(del._normalizeEventName(_15d)=="keypress"){
_15e._stealthKeyDownHandle=del._add(node,"keydown",function(evt){
var k=evt.keyCode;
var _15f=k!=13&&k!=32&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);
if(_15f||evt.ctrlKey){
var c=_15f?0:k;
if(evt.ctrlKey){
if(k==3||k==13){
return;
}else{
if(c>95&&c<106){
c-=48;
}else{
if(!evt.shiftKey&&c>=65&&c<=90){
c+=32;
}else{
c=del._punctMap[c]||c;
}
}
}
}
var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});
fp.call(evt.currentTarget,faux);
}
});
}
return _15e;
},remove:function(node,_160,_161){
if(node){
if(_161._stealthKeyDownHandle){
del._remove(node,"keydown",_161._stealthKeyDownHandle);
}
del._remove(node,_160,_161);
}
},_fixEvent:function(evt,_162){
switch(evt.type){
case "keypress":
if(evt.faux){
return evt;
}
var c=evt.charCode;
c=c>=32?c:0;
return del._synthesizeEvent(evt,{charCode:c,faux:true});
}
return evt;
}});
}
})();
if(dojo.isIE){
dojo._ieDispatcher=function(args,_163){
var ap=Array.prototype,h=dojo._ie_listener.handlers,c=args.callee,ls=c[dojo._ieListenersName],t=h[c.target];
var r=t&&t.apply(_163,args);
var lls=[].concat(ls);
for(var i in lls){
var f=h[lls[i]];
if(!(i in ap)&&f){
f.apply(_163,args);
}
}
return r;
};
dojo._getIeDispatcher=function(){
return new Function(dojo._scopeName+"._ieDispatcher(arguments, this)");
};
dojo._event_listener._fixCallback=function(fp){
var f=dojo._event_listener._fixEvent;
return function(e){
return fp.call(this,f(e,this));
};
};
}
}
if(!dojo._hasResource["dojo._base.html"]){
dojo._hasResource["dojo._base.html"]=true;
dojo.provide("dojo._base.html");
try{
document.execCommand("BackgroundImageCache",false,true);
}
catch(e){
}
if(dojo.isIE){
dojo.byId=function(id,doc){
if(typeof id!="string"){
return id;
}
var _164=doc||dojo.doc,te=_164.getElementById(id);
if(te&&(te.attributes.id.value==id||te.id==id)){
return te;
}else{
var eles=_164.all[id];
if(!eles||eles.nodeName){
eles=[eles];
}
var i=0;
while((te=eles[i++])){
if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){
return te;
}
}
}
};
}else{
dojo.byId=function(id,doc){
return ((typeof id=="string")?(doc||dojo.doc).getElementById(id):id)||null;
};
}
(function(){
var d=dojo;
var byId=d.byId;
var _165=null,_166;
d.addOnWindowUnload(function(){
_165=null;
});
dojo._destroyElement=dojo.destroy=function(node){
node=byId(node);
try{
var doc=node.ownerDocument;
if(!_165||_166!=doc){
_165=doc.createElement("div");
_166=doc;
}
_165.appendChild(node.parentNode?node.parentNode.removeChild(node):node);
_165.innerHTML="";
}
catch(e){
}
};
dojo.isDescendant=function(node,_167){
try{
node=byId(node);
_167=byId(_167);
while(node){
if(node==_167){
return true;
}
node=node.parentNode;
}
}
catch(e){
}
return false;
};
dojo.setSelectable=function(node,_168){
node=byId(node);
if(d.isMozilla){
node.style.MozUserSelect=_168?"":"none";
}else{
if(d.isKhtml||d.isWebKit){
node.style.KhtmlUserSelect=_168?"auto":"none";
}else{
if(d.isIE){
var v=(node.unselectable=_168?"":"on");
d.query("*",node).forEach("item.unselectable = '"+v+"'");
}
}
}
};
var _169=function(node,ref){
var _16a=ref.parentNode;
if(_16a){
_16a.insertBefore(node,ref);
}
};
var _16b=function(node,ref){
var _16c=ref.parentNode;
if(_16c){
if(_16c.lastChild==ref){
_16c.appendChild(node);
}else{
_16c.insertBefore(node,ref.nextSibling);
}
}
};
dojo.place=function(node,_16d,_16e){
_16d=byId(_16d);
if(typeof node=="string"){
node=/^\s*</.test(node)?d._toDom(node,_16d.ownerDocument):byId(node);
}
if(typeof _16e=="number"){
var cn=_16d.childNodes;
if(!cn.length||cn.length<=_16e){
_16d.appendChild(node);
}else{
_169(node,cn[_16e<0?0:_16e]);
}
}else{
switch(_16e){
case "before":
_169(node,_16d);
break;
case "after":
_16b(node,_16d);
break;
case "replace":
_16d.parentNode.replaceChild(node,_16d);
break;
case "only":
d.empty(_16d);
_16d.appendChild(node);
break;
case "first":
if(_16d.firstChild){
_169(node,_16d.firstChild);
break;
}
default:
_16d.appendChild(node);
}
}
return node;
};
dojo.boxModel="content-box";
if(d.isIE){
d.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";
}
var gcs;
if(d.isWebKit){
gcs=function(node){
var s;
if(node.nodeType==1){
var dv=node.ownerDocument.defaultView;
s=dv.getComputedStyle(node,null);
if(!s&&node.style){
node.style.display="";
s=dv.getComputedStyle(node,null);
}
}
return s||{};
};
}else{
if(d.isIE){
gcs=function(node){
return node.nodeType==1?node.currentStyle:{};
};
}else{
gcs=function(node){
return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};
};
}
}
dojo.getComputedStyle=gcs;
if(!d.isIE){
d._toPixelValue=function(_16f,_170){
return parseFloat(_170)||0;
};
}else{
d._toPixelValue=function(_171,_172){
if(!_172){
return 0;
}
if(_172=="medium"){
return 4;
}
if(_172.slice&&_172.slice(-2)=="px"){
return parseFloat(_172);
}
with(_171){
var _173=style.left;
var _174=runtimeStyle.left;
runtimeStyle.left=currentStyle.left;
try{
style.left=_172;
_172=style.pixelLeft;
}
catch(e){
_172=0;
}
style.left=_173;
runtimeStyle.left=_174;
}
return _172;
};
}
var px=d._toPixelValue;
var astr="DXImageTransform.Microsoft.Alpha";
var af=function(n,f){
try{
return n.filters.item(astr);
}
catch(e){
return f?{}:null;
}
};
dojo._getOpacity=d.isIE?function(node){
try{
return af(node).Opacity/100;
}
catch(e){
return 1;
}
}:function(node){
return gcs(node).opacity;
};
dojo._setOpacity=d.isIE?function(node,_175){
var ov=_175*100,_176=_175==1;
node.style.zoom=_176?"":1;
if(!af(node)){
if(_176){
return _175;
}
node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";
}else{
af(node,1).Opacity=ov;
}
af(node,1).Enabled=!_176;
if(node.nodeName.toLowerCase()=="tr"){
d.query("> td",node).forEach(function(i){
d._setOpacity(i,_175);
});
}
return _175;
}:function(node,_177){
return node.style.opacity=_177;
};
var _178={left:true,top:true};
var _179=/margin|padding|width|height|max|min|offset/;
var _17a=function(node,type,_17b){
type=type.toLowerCase();
if(d.isIE){
if(_17b=="auto"){
if(type=="height"){
return node.offsetHeight;
}
if(type=="width"){
return node.offsetWidth;
}
}
if(type=="fontweight"){
switch(_17b){
case 700:
return "bold";
case 400:
default:
return "normal";
}
}
}
if(!(type in _178)){
_178[type]=_179.test(type);
}
return _178[type]?px(node,_17b):_17b;
};
var _17c=d.isIE?"styleFloat":"cssFloat",_17d={"cssFloat":_17c,"styleFloat":_17c,"float":_17c};
dojo.style=function(node,_17e,_17f){
var n=byId(node),args=arguments.length,op=(_17e=="opacity");
_17e=_17d[_17e]||_17e;
if(args==3){
return op?d._setOpacity(n,_17f):n.style[_17e]=_17f;
}
if(args==2&&op){
return d._getOpacity(n);
}
var s=gcs(n);
if(args==2&&typeof _17e!="string"){
for(var x in _17e){
d.style(node,x,_17e[x]);
}
return s;
}
return (args==1)?s:_17a(n,_17e,s[_17e]||n.style[_17e]);
};
dojo._getPadExtents=function(n,_180){
var s=_180||gcs(n),l=px(n,s.paddingLeft),t=px(n,s.paddingTop);
return {l:l,t:t,w:l+px(n,s.paddingRight),h:t+px(n,s.paddingBottom)};
};
dojo._getBorderExtents=function(n,_181){
var ne="none",s=_181||gcs(n),bl=(s.borderLeftStyle!=ne?px(n,s.borderLeftWidth):0),bt=(s.borderTopStyle!=ne?px(n,s.borderTopWidth):0);
return {l:bl,t:bt,w:bl+(s.borderRightStyle!=ne?px(n,s.borderRightWidth):0),h:bt+(s.borderBottomStyle!=ne?px(n,s.borderBottomWidth):0)};
};
dojo._getPadBorderExtents=function(n,_182){
var s=_182||gcs(n),p=d._getPadExtents(n,s),b=d._getBorderExtents(n,s);
return {l:p.l+b.l,t:p.t+b.t,w:p.w+b.w,h:p.h+b.h};
};
dojo._getMarginExtents=function(n,_183){
var s=_183||gcs(n),l=px(n,s.marginLeft),t=px(n,s.marginTop),r=px(n,s.marginRight),b=px(n,s.marginBottom);
if(d.isWebKit&&(s.position!="absolute")){
r=l;
}
return {l:l,t:t,w:l+r,h:t+b};
};
dojo._getMarginBox=function(node,_184){
var s=_184||gcs(node),me=d._getMarginExtents(node,s);
var l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode;
if(d.isMoz){
var sl=parseFloat(s.left),st=parseFloat(s.top);
if(!isNaN(sl)&&!isNaN(st)){
l=sl,t=st;
}else{
if(p&&p.style){
var pcs=gcs(p);
if(pcs.overflow!="visible"){
var be=d._getBorderExtents(p,pcs);
l+=be.l,t+=be.t;
}
}
}
}else{
if(d.isOpera||(d.isIE>7&&!d.isQuirks)){
if(p){
be=d._getBorderExtents(p);
l-=be.l;
t-=be.t;
}
}
}
return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};
};
dojo._getMarginSize=function(node,_185){
node=byId(node);
var me=d._getMarginExtents(node,_185||gcs(node));
var size=node.getBoundingClientRect();
return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};
};
dojo._getContentBox=function(node,_186){
var s=_186||gcs(node),pe=d._getPadExtents(node,s),be=d._getBorderExtents(node,s),w=node.clientWidth,h;
if(!w){
w=node.offsetWidth,h=node.offsetHeight;
}else{
h=node.clientHeight,be.w=be.h=0;
}
if(d.isOpera){
pe.l+=be.l;
pe.t+=be.t;
}
return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};
};
dojo._getBorderBox=function(node,_187){
var s=_187||gcs(node),pe=d._getPadExtents(node,s),cb=d._getContentBox(node,s);
return {l:cb.l-pe.l,t:cb.t-pe.t,w:cb.w+pe.w,h:cb.h+pe.h};
};
dojo._setBox=function(node,l,t,w,h,u){
u=u||"px";
var s=node.style;
if(!isNaN(l)){
s.left=l+u;
}
if(!isNaN(t)){
s.top=t+u;
}
if(w>=0){
s.width=w+u;
}
if(h>=0){
s.height=h+u;
}
};
dojo._isButtonTag=function(node){
return node.tagName=="BUTTON"||node.tagName=="INPUT"&&(node.getAttribute("type")||"").toUpperCase()=="BUTTON";
};
dojo._usesBorderBox=function(node){
var n=node.tagName;
return d.boxModel=="border-box"||n=="TABLE"||d._isButtonTag(node);
};
dojo._setContentSize=function(node,_188,_189,_18a){
if(d._usesBorderBox(node)){
var pb=d._getPadBorderExtents(node,_18a);
if(_188>=0){
_188+=pb.w;
}
if(_189>=0){
_189+=pb.h;
}
}
d._setBox(node,NaN,NaN,_188,_189);
};
dojo._setMarginBox=function(node,_18b,_18c,_18d,_18e,_18f){
var s=_18f||gcs(node),bb=d._usesBorderBox(node),pb=bb?_190:d._getPadBorderExtents(node,s);
if(d.isWebKit){
if(d._isButtonTag(node)){
var ns=node.style;
if(_18d>=0&&!ns.width){
ns.width="4px";
}
if(_18e>=0&&!ns.height){
ns.height="4px";
}
}
}
var mb=d._getMarginExtents(node,s);
if(_18d>=0){
_18d=Math.max(_18d-pb.w-mb.w,0);
}
if(_18e>=0){
_18e=Math.max(_18e-pb.h-mb.h,0);
}
d._setBox(node,_18b,_18c,_18d,_18e);
};
var _190={l:0,t:0,w:0,h:0};
dojo.marginBox=function(node,box){
var n=byId(node),s=gcs(n),b=box;
return !b?d._getMarginBox(n,s):d._setMarginBox(n,b.l,b.t,b.w,b.h,s);
};
dojo.contentBox=function(node,box){
var n=byId(node),s=gcs(n),b=box;
return !b?d._getContentBox(n,s):d._setContentSize(n,b.w,b.h,s);
};
var _191=function(node,prop){
if(!(node=(node||0).parentNode)){
return 0;
}
var val,_192=0,_193=d.body();
while(node&&node.style){
if(gcs(node).position=="fixed"){
return 0;
}
val=node[prop];
if(val){
_192+=val-0;
if(node==_193){
break;
}
}
node=node.parentNode;
}
return _192;
};
dojo._docScroll=function(){
var n=d.global;
return "pageXOffset" in n?{x:n.pageXOffset,y:n.pageYOffset}:(n=d.isQuirks?d.doc.body:d.doc.documentElement,{x:d._fixIeBiDiScrollLeft(n.scrollLeft||0),y:n.scrollTop||0});
};
dojo._isBodyLtr=function(){
return "_bodyLtr" in d?d._bodyLtr:d._bodyLtr=(d.body().dir||d.doc.documentElement.dir||"ltr").toLowerCase()=="ltr";
};
dojo._getIeDocumentElementOffset=function(){
var de=d.doc.documentElement;
if(d.isIE<8){
var r=de.getBoundingClientRect();
var l=r.left,t=r.top;
if(d.isIE<7){
l+=de.clientLeft;
t+=de.clientTop;
}
return {x:l<0?0:l,y:t<0?0:t};
}else{
return {x:0,y:0};
}
};
dojo._fixIeBiDiScrollLeft=function(_194){
var ie=d.isIE;
if(ie&&!d._isBodyLtr()){
var qk=d.isQuirks,de=qk?d.doc.body:d.doc.documentElement;
if(ie==6&&!qk&&d.global.frameElement&&de.scrollHeight>de.clientHeight){
_194+=de.clientLeft;
}
return (ie<8||qk)?(_194+de.clientWidth-de.scrollWidth):-_194;
}
return _194;
};
dojo._abs=dojo.position=function(node,_195){
node=byId(node);
var db=d.body(),dh=db.parentNode,ret=node.getBoundingClientRect();
ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};
if(d.isIE){
var _196=d._getIeDocumentElementOffset();
ret.x-=_196.x+(d.isQuirks?db.clientLeft+db.offsetLeft:0);
ret.y-=_196.y+(d.isQuirks?db.clientTop+db.offsetTop:0);
}else{
if(d.isFF==3){
var cs=gcs(dh);
ret.x-=px(dh,cs.marginLeft)+px(dh,cs.borderLeftWidth);
ret.y-=px(dh,cs.marginTop)+px(dh,cs.borderTopWidth);
}
}
if(_195){
var _197=d._docScroll();
ret.x+=_197.x;
ret.y+=_197.y;
}
return ret;
};
dojo.coords=function(node,_198){
var n=byId(node),s=gcs(n),mb=d._getMarginBox(n,s);
var abs=d.position(n,_198);
mb.x=abs.x;
mb.y=abs.y;
return mb;
};
var _199={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},_19a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"},_19b={innerHTML:1,className:1,htmlFor:d.isIE,value:1};
var _19c=function(name){
return _19a[name.toLowerCase()]||name;
};
var _19d=function(node,name){
var attr=node.getAttributeNode&&node.getAttributeNode(name);
return attr&&attr.specified;
};
dojo.hasAttr=function(node,name){
var lc=name.toLowerCase();
return _19b[_199[lc]||name]||_19d(byId(node),_19a[lc]||name);
};
var _19e={},_19f=0,_1a0=dojo._scopeName+"attrid",_1a1={col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1};
dojo.attr=function(node,name,_1a2){
node=byId(node);
var args=arguments.length,prop;
if(args==2&&typeof name!="string"){
for(var x in name){
d.attr(node,x,name[x]);
}
return node;
}
var lc=name.toLowerCase(),_1a3=_199[lc]||name,_1a4=_19b[_1a3],_1a5=_19a[lc]||name;
if(args==3){
do{
if(_1a3=="style"&&typeof _1a2!="string"){
d.style(node,_1a2);
break;
}
if(_1a3=="innerHTML"){
if(d.isIE&&node.tagName.toLowerCase() in _1a1){
d.empty(node);
node.appendChild(d._toDom(_1a2,node.ownerDocument));
}else{
node[_1a3]=_1a2;
}
break;
}
if(d.isFunction(_1a2)){
var _1a6=d.attr(node,_1a0);
if(!_1a6){
_1a6=_19f++;
d.attr(node,_1a0,_1a6);
}
if(!_19e[_1a6]){
_19e[_1a6]={};
}
var h=_19e[_1a6][_1a3];
if(h){
d.disconnect(h);
}else{
try{
delete node[_1a3];
}
catch(e){
}
}
_19e[_1a6][_1a3]=d.connect(node,_1a3,_1a2);
break;
}
if(_1a4||typeof _1a2=="boolean"){
node[_1a3]=_1a2;
break;
}
node.setAttribute(_1a5,_1a2);
}while(false);
return node;
}
_1a2=node[_1a3];
if(_1a4&&typeof _1a2!="undefined"){
return _1a2;
}
if(_1a3!="href"&&(typeof _1a2=="boolean"||d.isFunction(_1a2))){
return _1a2;
}
return _19d(node,_1a5)?node.getAttribute(_1a5):null;
};
dojo.removeAttr=function(node,name){
byId(node).removeAttribute(_19c(name));
};
dojo.getNodeProp=function(node,name){
node=byId(node);
var lc=name.toLowerCase(),_1a7=_199[lc]||name;
if((_1a7 in node)&&_1a7!="href"){
return node[_1a7];
}
var _1a8=_19a[lc]||name;
return _19d(node,_1a8)?node.getAttribute(_1a8):null;
};
dojo.create=function(tag,_1a9,_1aa,pos){
var doc=d.doc;
if(_1aa){
_1aa=byId(_1aa);
doc=_1aa.ownerDocument;
}
if(typeof tag=="string"){
tag=doc.createElement(tag);
}
if(_1a9){
d.attr(tag,_1a9);
}
if(_1aa){
d.place(tag,_1aa,pos);
}
return tag;
};
d.empty=d.isIE?function(node){
node=byId(node);
for(var c;c=node.lastChild;){
d.destroy(c);
}
}:function(node){
byId(node).innerHTML="";
};
var _1ab={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_1ac=/<\s*([\w\:]+)/,_1ad={},_1ae=0,_1af="__"+d._scopeName+"ToDomId";
for(var _1b0 in _1ab){
if(_1ab.hasOwnProperty(_1b0)){
var tw=_1ab[_1b0];
tw.pre=_1b0=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";
tw.post="</"+tw.reverse().join("></")+">";
}
}
d._toDom=function(frag,doc){
doc=doc||d.doc;
var _1b1=doc[_1af];
if(!_1b1){
doc[_1af]=_1b1=++_1ae+"";
_1ad[_1b1]=doc.createElement("div");
}
frag+="";
var _1b2=frag.match(_1ac),tag=_1b2?_1b2[1].toLowerCase():"",_1b3=_1ad[_1b1],wrap,i,fc,df;
if(_1b2&&_1ab[tag]){
wrap=_1ab[tag];
_1b3.innerHTML=wrap.pre+frag+wrap.post;
for(i=wrap.length;i;--i){
_1b3=_1b3.firstChild;
}
}else{
_1b3.innerHTML=frag;
}
if(_1b3.childNodes.length==1){
return _1b3.removeChild(_1b3.firstChild);
}
df=doc.createDocumentFragment();
while(fc=_1b3.firstChild){
df.appendChild(fc);
}
return df;
};
var _1b4="className";
dojo.hasClass=function(node,_1b5){
return ((" "+byId(node)[_1b4]+" ").indexOf(" "+_1b5+" ")>=0);
};
var _1b6=/\s+/,a1=[""],_1b7={},_1b8=function(s){
if(typeof s=="string"||s instanceof String){
if(s.indexOf(" ")<0){
a1[0]=s;
return a1;
}else{
return s.split(_1b6);
}
}
return s||"";
};
dojo.addClass=function(node,_1b9){
node=byId(node);
_1b9=_1b8(_1b9);
var cls=node[_1b4],_1ba;
cls=cls?" "+cls+" ":" ";
_1ba=cls.length;
for(var i=0,len=_1b9.length,c;i<len;++i){
c=_1b9[i];
if(c&&cls.indexOf(" "+c+" ")<0){
cls+=c+" ";
}
}
if(_1ba<cls.length){
node[_1b4]=cls.substr(1,cls.length-2);
}
};
dojo.removeClass=function(node,_1bb){
node=byId(node);
var cls;
if(_1bb!==undefined){
_1bb=_1b8(_1bb);
cls=" "+node[_1b4]+" ";
for(var i=0,len=_1bb.length;i<len;++i){
cls=cls.replace(" "+_1bb[i]+" "," ");
}
cls=d.trim(cls);
}else{
cls="";
}
if(node[_1b4]!=cls){
node[_1b4]=cls;
}
};
dojo.replaceClass=function(node,_1bc,_1bd){
node=byId(node);
_1b7.className=node.className;
dojo.removeClass(_1b7,_1bd);
dojo.addClass(_1b7,_1bc);
if(node.className!==_1b7.className){
node.className=_1b7.className;
}
};
dojo.toggleClass=function(node,_1be,_1bf){
if(_1bf===undefined){
_1bf=!d.hasClass(node,_1be);
}
d[_1bf?"addClass":"removeClass"](node,_1be);
};
})();
}
if(!dojo._hasResource["dojo._base.NodeList"]){
dojo._hasResource["dojo._base.NodeList"]=true;
dojo.provide("dojo._base.NodeList");
(function(){
var d=dojo;
var ap=Array.prototype,aps=ap.slice,apc=ap.concat;
var tnl=function(a,_1c0,_1c1){
if(!a.sort){
a=aps.call(a,0);
}
var ctor=_1c1||this._NodeListCtor||d._NodeListCtor;
a.constructor=ctor;
dojo._mixin(a,ctor.prototype);
a._NodeListCtor=ctor;
return _1c0?a._stash(_1c0):a;
};
var _1c2=function(f,a,o){
a=[0].concat(aps.call(a,0));
o=o||d.global;
return function(node){
a[0]=node;
return f.apply(o,a);
};
};
var _1c3=function(f,o){
return function(){
this.forEach(_1c2(f,arguments,o));
return this;
};
};
var _1c4=function(f,o){
return function(){
return this.map(_1c2(f,arguments,o));
};
};
var _1c5=function(f,o){
return function(){
return this.filter(_1c2(f,arguments,o));
};
};
var _1c6=function(f,g,o){
return function(){
var a=arguments,body=_1c2(f,a,o);
if(g.call(o||d.global,a)){
return this.map(body);
}
this.forEach(body);
return this;
};
};
var _1c7=function(a){
return a.length==1&&(typeof a[0]=="string");
};
var _1c8=function(node){
var p=node.parentNode;
if(p){
p.removeChild(node);
}
};
dojo.NodeList=function(){
return tnl(Array.apply(null,arguments));
};
d._NodeListCtor=d.NodeList;
var nl=d.NodeList,nlp=nl.prototype;
nl._wrap=nlp._wrap=tnl;
nl._adaptAsMap=_1c4;
nl._adaptAsForEach=_1c3;
nl._adaptAsFilter=_1c5;
nl._adaptWithCondition=_1c6;
d.forEach(["slice","splice"],function(name){
var f=ap[name];
nlp[name]=function(){
return this._wrap(f.apply(this,arguments),name=="slice"?this:null);
};
});
d.forEach(["indexOf","lastIndexOf","every","some"],function(name){
var f=d[name];
nlp[name]=function(){
return f.apply(d,[this].concat(aps.call(arguments,0)));
};
});
d.forEach(["attr","style"],function(name){
nlp[name]=_1c6(d[name],_1c7);
});
d.forEach(["connect","addClass","removeClass","replaceClass","toggleClass","empty","removeAttr"],function(name){
nlp[name]=_1c3(d[name]);
});
dojo.extend(dojo.NodeList,{_normalize:function(_1c9,_1ca){
var _1cb=_1c9.parse===true?true:false;
if(typeof _1c9.template=="string"){
var _1cc=_1c9.templateFunc||(dojo.string&&dojo.string.substitute);
_1c9=_1cc?_1cc(_1c9.template,_1c9):_1c9;
}
var type=(typeof _1c9);
if(type=="string"||type=="number"){
_1c9=dojo._toDom(_1c9,(_1ca&&_1ca.ownerDocument));
if(_1c9.nodeType==11){
_1c9=dojo._toArray(_1c9.childNodes);
}else{
_1c9=[_1c9];
}
}else{
if(!dojo.isArrayLike(_1c9)){
_1c9=[_1c9];
}else{
if(!dojo.isArray(_1c9)){
_1c9=dojo._toArray(_1c9);
}
}
}
if(_1cb){
_1c9._runParse=true;
}
return _1c9;
},_cloneNode:function(node){
return node.cloneNode(true);
},_place:function(ary,_1cd,_1ce,_1cf){
if(_1cd.nodeType!=1&&_1ce=="only"){
return;
}
var _1d0=_1cd,_1d1;
var _1d2=ary.length;
for(var i=_1d2-1;i>=0;i--){
var node=(_1cf?this._cloneNode(ary[i]):ary[i]);
if(ary._runParse&&dojo.parser&&dojo.parser.parse){
if(!_1d1){
_1d1=_1d0.ownerDocument.createElement("div");
}
_1d1.appendChild(node);
dojo.parser.parse(_1d1);
node=_1d1.firstChild;
while(_1d1.firstChild){
_1d1.removeChild(_1d1.firstChild);
}
}
if(i==_1d2-1){
dojo.place(node,_1d0,_1ce);
}else{
_1d0.parentNode.insertBefore(node,_1d0);
}
_1d0=node;
}
},_stash:function(_1d3){
this._parent=_1d3;
return this;
},end:function(){
if(this._parent){
return this._parent;
}else{
return new this._NodeListCtor();
}
},concat:function(item){
var t=d.isArray(this)?this:aps.call(this,0),m=d.map(arguments,function(a){
return a&&!d.isArray(a)&&(typeof NodeList!="undefined"&&a.constructor===NodeList||a.constructor===this._NodeListCtor)?aps.call(a,0):a;
});
return this._wrap(apc.apply(t,m),this);
},map:function(func,obj){
return this._wrap(d.map(this,func,obj),this);
},forEach:function(_1d4,_1d5){
d.forEach(this,_1d4,_1d5);
return this;
},coords:_1c4(d.coords),position:_1c4(d.position),place:function(_1d6,_1d7){
var item=d.query(_1d6)[0];
return this.forEach(function(node){
d.place(node,item,_1d7);
});
},orphan:function(_1d8){
return (_1d8?d._filterQueryResult(this,_1d8):this).forEach(_1c8);
},adopt:function(_1d9,_1da){
return d.query(_1d9).place(this[0],_1da)._stash(this);
},query:function(_1db){
if(!_1db){
return this;
}
var ret=this.map(function(node){
return d.query(_1db,node).filter(function(_1dc){
return _1dc!==undefined;
});
});
return this._wrap(apc.apply([],ret),this);
},filter:function(_1dd){
var a=arguments,_1de=this,_1df=0;
if(typeof _1dd=="string"){
_1de=d._filterQueryResult(this,a[0]);
if(a.length==1){
return _1de._stash(this);
}
_1df=1;
}
return this._wrap(d.filter(_1de,a[_1df],a[_1df+1]),this);
},addContent:function(_1e0,_1e1){
_1e0=this._normalize(_1e0,this[0]);
for(var i=0,node;(node=this[i]);i++){
this._place(_1e0,node,_1e1,i>0);
}
return this;
},instantiate:function(_1e2,_1e3){
var c=d.isFunction(_1e2)?_1e2:d.getObject(_1e2);
_1e3=_1e3||{};
return this.forEach(function(node){
new c(_1e3,node);
});
},at:function(){
var t=new this._NodeListCtor();
d.forEach(arguments,function(i){
if(i<0){
i=this.length+i;
}
if(this[i]){
t.push(this[i]);
}
},this);
return t._stash(this);
}});
nl.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];
d.forEach(nl.events,function(evt){
var _1e4="on"+evt;
nlp[_1e4]=function(a,b){
return this.connect(_1e4,a,b);
};
});
})();
}
if(!dojo._hasResource["dojo._base.query"]){
dojo._hasResource["dojo._base.query"]=true;
(function(){
var _1e5=function(d){
var trim=d.trim;
var each=d.forEach;
var qlc=(d._NodeListCtor=d.NodeList);
var _1e6=function(){
return d.doc;
};
var _1e7=((d.isWebKit||d.isMozilla)&&((_1e6().compatMode)=="BackCompat"));
var _1e8=!!_1e6().firstChild["children"]?"children":"childNodes";
var _1e9=">~+";
var _1ea=false;
var _1eb=function(){
return true;
};
var _1ec=function(_1ed){
if(_1e9.indexOf(_1ed.slice(-1))>=0){
_1ed+=" * ";
}else{
_1ed+=" ";
}
var ts=function(s,e){
return trim(_1ed.slice(s,e));
};
var _1ee=[];
var _1ef=-1,_1f0=-1,_1f1=-1,_1f2=-1,_1f3=-1,inId=-1,_1f4=-1,lc="",cc="",_1f5;
var x=0,ql=_1ed.length,_1f6=null,_1f7=null;
var _1f8=function(){
if(_1f4>=0){
var tv=(_1f4==x)?null:ts(_1f4,x);
_1f6[(_1e9.indexOf(tv)<0)?"tag":"oper"]=tv;
_1f4=-1;
}
};
var _1f9=function(){
if(inId>=0){
_1f6.id=ts(inId,x).replace(/\\/g,"");
inId=-1;
}
};
var _1fa=function(){
if(_1f3>=0){
_1f6.classes.push(ts(_1f3+1,x).replace(/\\/g,""));
_1f3=-1;
}
};
var _1fb=function(){
_1f9();
_1f8();
_1fa();
};
var _1fc=function(){
_1fb();
if(_1f2>=0){
_1f6.pseudos.push({name:ts(_1f2+1,x)});
}
_1f6.loops=(_1f6.pseudos.length||_1f6.attrs.length||_1f6.classes.length);
_1f6.oquery=_1f6.query=ts(_1f5,x);
_1f6.otag=_1f6.tag=(_1f6["oper"])?null:(_1f6.tag||"*");
if(_1f6.tag){
_1f6.tag=_1f6.tag.toUpperCase();
}
if(_1ee.length&&(_1ee[_1ee.length-1].oper)){
_1f6.infixOper=_1ee.pop();
_1f6.query=_1f6.infixOper.query+" "+_1f6.query;
}
_1ee.push(_1f6);
_1f6=null;
};
for(;lc=cc,cc=_1ed.charAt(x),x<ql;x++){
if(lc=="\\"){
continue;
}
if(!_1f6){
_1f5=x;
_1f6={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){
return (_1ea)?this.otag:this.tag;
}};
_1f4=x;
}
if(_1ef>=0){
if(cc=="]"){
if(!_1f7.attr){
_1f7.attr=ts(_1ef+1,x);
}else{
_1f7.matchFor=ts((_1f1||_1ef+1),x);
}
var cmf=_1f7.matchFor;
if(cmf){
if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){
_1f7.matchFor=cmf.slice(1,-1);
}
}
_1f6.attrs.push(_1f7);
_1f7=null;
_1ef=_1f1=-1;
}else{
if(cc=="="){
var _1fd=("|~^$*".indexOf(lc)>=0)?lc:"";
_1f7.type=_1fd+cc;
_1f7.attr=ts(_1ef+1,x-_1fd.length);
_1f1=x+1;
}
}
}else{
if(_1f0>=0){
if(cc==")"){
if(_1f2>=0){
_1f7.value=ts(_1f0+1,x);
}
_1f2=_1f0=-1;
}
}else{
if(cc=="#"){
_1fb();
inId=x+1;
}else{
if(cc=="."){
_1fb();
_1f3=x;
}else{
if(cc==":"){
_1fb();
_1f2=x;
}else{
if(cc=="["){
_1fb();
_1ef=x;
_1f7={};
}else{
if(cc=="("){
if(_1f2>=0){
_1f7={name:ts(_1f2+1,x),value:null};
_1f6.pseudos.push(_1f7);
}
_1f0=x;
}else{
if((cc==" ")&&(lc!=cc)){
_1fc();
}
}
}
}
}
}
}
}
}
return _1ee;
};
var _1fe=function(_1ff,_200){
if(!_1ff){
return _200;
}
if(!_200){
return _1ff;
}
return function(){
return _1ff.apply(window,arguments)&&_200.apply(window,arguments);
};
};
var _201=function(i,arr){
var r=arr||[];
if(i){
r.push(i);
}
return r;
};
var _202=function(n){
return (1==n.nodeType);
};
var _203="";
var _204=function(elem,attr){
if(!elem){
return _203;
}
if(attr=="class"){
return elem.className||_203;
}
if(attr=="for"){
return elem.htmlFor||_203;
}
if(attr=="style"){
return elem.style.cssText||_203;
}
return (_1ea?elem.getAttribute(attr):elem.getAttribute(attr,2))||_203;
};
var _205={"*=":function(attr,_206){
return function(elem){
return (_204(elem,attr).indexOf(_206)>=0);
};
},"^=":function(attr,_207){
return function(elem){
return (_204(elem,attr).indexOf(_207)==0);
};
},"$=":function(attr,_208){
var tval=" "+_208;
return function(elem){
var ea=" "+_204(elem,attr);
return (ea.lastIndexOf(_208)==(ea.length-_208.length));
};
},"~=":function(attr,_209){
var tval=" "+_209+" ";
return function(elem){
var ea=" "+_204(elem,attr)+" ";
return (ea.indexOf(tval)>=0);
};
},"|=":function(attr,_20a){
var _20b=" "+_20a+"-";
return function(elem){
var ea=" "+_204(elem,attr);
return ((ea==_20a)||(ea.indexOf(_20b)==0));
};
},"=":function(attr,_20c){
return function(elem){
return (_204(elem,attr)==_20c);
};
}};
var _20d=(typeof _1e6().firstChild.nextElementSibling=="undefined");
var _20e=!_20d?"nextElementSibling":"nextSibling";
var _20f=!_20d?"previousElementSibling":"previousSibling";
var _210=(_20d?_202:_1eb);
var _211=function(node){
while(node=node[_20f]){
if(_210(node)){
return false;
}
}
return true;
};
var _212=function(node){
while(node=node[_20e]){
if(_210(node)){
return false;
}
}
return true;
};
var _213=function(node){
var root=node.parentNode;
var i=0,tret=root[_1e8],ci=(node["_i"]||-1),cl=(root["_l"]||-1);
if(!tret){
return -1;
}
var l=tret.length;
if(cl==l&&ci>=0&&cl>=0){
return ci;
}
root["_l"]=l;
ci=-1;
for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_20e]){
if(_210(te)){
te["_i"]=++i;
if(node===te){
ci=i;
}
}
}
return ci;
};
var _214=function(elem){
return !((_213(elem))%2);
};
var _215=function(elem){
return ((_213(elem))%2);
};
var _216={"checked":function(name,_217){
return function(elem){
return !!("checked" in elem?elem.checked:elem.selected);
};
},"first-child":function(){
return _211;
},"last-child":function(){
return _212;
},"only-child":function(name,_218){
return function(node){
if(!_211(node)){
return false;
}
if(!_212(node)){
return false;
}
return true;
};
},"empty":function(name,_219){
return function(elem){
var cn=elem.childNodes;
var cnl=elem.childNodes.length;
for(var x=cnl-1;x>=0;x--){
var nt=cn[x].nodeType;
if((nt===1)||(nt==3)){
return false;
}
}
return true;
};
},"contains":function(name,_21a){
var cz=_21a.charAt(0);
if(cz=="\""||cz=="'"){
_21a=_21a.slice(1,-1);
}
return function(elem){
return (elem.innerHTML.indexOf(_21a)>=0);
};
},"not":function(name,_21b){
var p=_1ec(_21b)[0];
var _21c={el:1};
if(p.tag!="*"){
_21c.tag=1;
}
if(!p.classes.length){
_21c.classes=1;
}
var ntf=_21d(p,_21c);
return function(elem){
return (!ntf(elem));
};
},"nth-child":function(name,_21e){
var pi=parseInt;
if(_21e=="odd"){
return _215;
}else{
if(_21e=="even"){
return _214;
}
}
if(_21e.indexOf("n")!=-1){
var _21f=_21e.split("n",2);
var pred=_21f[0]?((_21f[0]=="-")?-1:pi(_21f[0])):1;
var idx=_21f[1]?pi(_21f[1]):0;
var lb=0,ub=-1;
if(pred>0){
if(idx<0){
idx=(idx%pred)&&(pred+(idx%pred));
}else{
if(idx>0){
if(idx>=pred){
lb=idx-idx%pred;
}
idx=idx%pred;
}
}
}else{
if(pred<0){
pred*=-1;
if(idx>0){
ub=idx;
idx=idx%pred;
}
}
}
if(pred>0){
return function(elem){
var i=_213(elem);
return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);
};
}else{
_21e=idx;
}
}
var _220=pi(_21e);
return function(elem){
return (_213(elem)==_220);
};
}};
var _221=(d.isIE<9||(dojo.isIE&&dojo.isQuirks))?function(cond){
var clc=cond.toLowerCase();
if(clc=="class"){
cond="className";
}
return function(elem){
return (_1ea?elem.getAttribute(cond):elem[cond]||elem[clc]);
};
}:function(cond){
return function(elem){
return (elem&&elem.getAttribute&&elem.hasAttribute(cond));
};
};
var _21d=function(_222,_223){
if(!_222){
return _1eb;
}
_223=_223||{};
var ff=null;
if(!("el" in _223)){
ff=_1fe(ff,_202);
}
if(!("tag" in _223)){
if(_222.tag!="*"){
ff=_1fe(ff,function(elem){
return (elem&&(elem.tagName==_222.getTag()));
});
}
}
if(!("classes" in _223)){
each(_222.classes,function(_224,idx,arr){
var re=new RegExp("(?:^|\\s)"+_224+"(?:\\s|$)");
ff=_1fe(ff,function(elem){
return re.test(elem.className);
});
ff.count=idx;
});
}
if(!("pseudos" in _223)){
each(_222.pseudos,function(_225){
var pn=_225.name;
if(_216[pn]){
ff=_1fe(ff,_216[pn](pn,_225.value));
}
});
}
if(!("attrs" in _223)){
each(_222.attrs,function(attr){
var _226;
var a=attr.attr;
if(attr.type&&_205[attr.type]){
_226=_205[attr.type](a,attr.matchFor);
}else{
if(a.length){
_226=_221(a);
}
}
if(_226){
ff=_1fe(ff,_226);
}
});
}
if(!("id" in _223)){
if(_222.id){
ff=_1fe(ff,function(elem){
return (!!elem&&(elem.id==_222.id));
});
}
}
if(!ff){
if(!("default" in _223)){
ff=_1eb;
}
}
return ff;
};
var _227=function(_228){
return function(node,ret,bag){
while(node=node[_20e]){
if(_20d&&(!_202(node))){
continue;
}
if((!bag||_229(node,bag))&&_228(node)){
ret.push(node);
}
break;
}
return ret;
};
};
var _22a=function(_22b){
return function(root,ret,bag){
var te=root[_20e];
while(te){
if(_210(te)){
if(bag&&!_229(te,bag)){
break;
}
if(_22b(te)){
ret.push(te);
}
}
te=te[_20e];
}
return ret;
};
};
var _22c=function(_22d){
_22d=_22d||_1eb;
return function(root,ret,bag){
var te,x=0,tret=root[_1e8];
while(te=tret[x++]){
if(_210(te)&&(!bag||_229(te,bag))&&(_22d(te,x))){
ret.push(te);
}
}
return ret;
};
};
var _22e=function(node,root){
var pn=node.parentNode;
while(pn){
if(pn==root){
break;
}
pn=pn.parentNode;
}
return !!pn;
};
var _22f={};
var _230=function(_231){
var _232=_22f[_231.query];
if(_232){
return _232;
}
var io=_231.infixOper;
var oper=(io?io.oper:"");
var _233=_21d(_231,{el:1});
var qt=_231.tag;
var _234=("*"==qt);
var ecs=_1e6()["getElementsByClassName"];
if(!oper){
if(_231.id){
_233=(!_231.loops&&_234)?_1eb:_21d(_231,{el:1,id:1});
_232=function(root,arr){
var te=d.byId(_231.id,(root.ownerDocument||root));
if(!te||!_233(te)){
return;
}
if(9==root.nodeType){
return _201(te,arr);
}else{
if(_22e(te,root)){
return _201(te,arr);
}
}
};
}else{
if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_231.classes.length&&!_1e7){
_233=_21d(_231,{el:1,classes:1,id:1});
var _235=_231.classes.join(" ");
_232=function(root,arr,bag){
var ret=_201(0,arr),te,x=0;
var tret=root.getElementsByClassName(_235);
while((te=tret[x++])){
if(_233(te,root)&&_229(te,bag)){
ret.push(te);
}
}
return ret;
};
}else{
if(!_234&&!_231.loops){
_232=function(root,arr,bag){
var ret=_201(0,arr),te,x=0;
var tret=root.getElementsByTagName(_231.getTag());
while((te=tret[x++])){
if(_229(te,bag)){
ret.push(te);
}
}
return ret;
};
}else{
_233=_21d(_231,{el:1,tag:1,id:1});
_232=function(root,arr,bag){
var ret=_201(0,arr),te,x=0;
var tret=root.getElementsByTagName(_231.getTag());
while((te=tret[x++])){
if(_233(te,root)&&_229(te,bag)){
ret.push(te);
}
}
return ret;
};
}
}
}
}else{
var _236={el:1};
if(_234){
_236.tag=1;
}
_233=_21d(_231,_236);
if("+"==oper){
_232=_227(_233);
}else{
if("~"==oper){
_232=_22a(_233);
}else{
if(">"==oper){
_232=_22c(_233);
}
}
}
}
return _22f[_231.query]=_232;
};
var _237=function(root,_238){
var _239=_201(root),qp,x,te,qpl=_238.length,bag,ret;
for(var i=0;i<qpl;i++){
ret=[];
qp=_238[i];
x=_239.length-1;
if(x>0){
bag={};
ret.nozip=true;
}
var gef=_230(qp);
for(var j=0;(te=_239[j]);j++){
gef(te,ret,bag);
}
if(!ret.length){
break;
}
_239=ret;
}
return ret;
};
var _23a={},_23b={};
var _23c=function(_23d){
var _23e=_1ec(trim(_23d));
if(_23e.length==1){
var tef=_230(_23e[0]);
return function(root){
var r=tef(root,new qlc());
if(r){
r.nozip=true;
}
return r;
};
}
return function(root){
return _237(root,_23e);
};
};
var nua=navigator.userAgent;
var wk="WebKit/";
var _23f=(d.isWebKit&&(nua.indexOf(wk)>0)&&(parseFloat(nua.split(wk)[1])>528));
var _240=d.isIE?"commentStrip":"nozip";
var qsa="querySelectorAll";
var _241=(!!_1e6()[qsa]&&(!d.isSafari||(d.isSafari>3.1)||_23f));
var _242=/n\+\d|([^ ])?([>~+])([^ =])?/g;
var _243=function(_244,pre,ch,post){
return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_244;
};
var _245=function(_246,_247){
_246=_246.replace(_242,_243);
if(_241){
var _248=_23b[_246];
if(_248&&!_247){
return _248;
}
}
var _249=_23a[_246];
if(_249){
return _249;
}
var qcz=_246.charAt(0);
var _24a=(-1==_246.indexOf(" "));
if((_246.indexOf("#")>=0)&&(_24a)){
_247=true;
}
var _24b=(_241&&(!_247)&&(_1e9.indexOf(qcz)==-1)&&(!d.isIE||(_246.indexOf(":")==-1))&&(!(_1e7&&(_246.indexOf(".")>=0)))&&(_246.indexOf(":contains")==-1)&&(_246.indexOf(":checked")==-1)&&(_246.indexOf("|=")==-1));
if(_24b){
var tq=(_1e9.indexOf(_246.charAt(_246.length-1))>=0)?(_246+" *"):_246;
return _23b[_246]=function(root){
try{
if(!((9==root.nodeType)||_24a)){
throw "";
}
var r=root[qsa](tq);
r[_240]=true;
return r;
}
catch(e){
return _245(_246,true)(root);
}
};
}else{
var _24c=_246.split(/\s*,\s*/);
return _23a[_246]=((_24c.length<2)?_23c(_246):function(root){
var _24d=0,ret=[],tp;
while((tp=_24c[_24d++])){
ret=ret.concat(_23c(tp)(root));
}
return ret;
});
}
};
var _24e=0;
var _24f=d.isIE?function(node){
if(_1ea){
return (node.getAttribute("_uid")||node.setAttribute("_uid",++_24e)||_24e);
}else{
return node.uniqueID;
}
}:function(node){
return (node._uid||(node._uid=++_24e));
};
var _229=function(node,bag){
if(!bag){
return 1;
}
var id=_24f(node);
if(!bag[id]){
return bag[id]=1;
}
return 0;
};
var _250="_zipIdx";
var _251=function(arr){
if(arr&&arr.nozip){
return (qlc._wrap)?qlc._wrap(arr):arr;
}
var ret=new qlc();
if(!arr||!arr.length){
return ret;
}
if(arr[0]){
ret.push(arr[0]);
}
if(arr.length<2){
return ret;
}
_24e++;
if(d.isIE&&_1ea){
var _252=_24e+"";
arr[0].setAttribute(_250,_252);
for(var x=1,te;te=arr[x];x++){
if(arr[x].getAttribute(_250)!=_252){
ret.push(te);
}
te.setAttribute(_250,_252);
}
}else{
if(d.isIE&&arr.commentStrip){
try{
for(var x=1,te;te=arr[x];x++){
if(_202(te)){
ret.push(te);
}
}
}
catch(e){
}
}else{
if(arr[0]){
arr[0][_250]=_24e;
}
for(var x=1,te;te=arr[x];x++){
if(arr[x][_250]!=_24e){
ret.push(te);
}
te[_250]=_24e;
}
}
}
return ret;
};
d.query=function(_253,root){
qlc=d._NodeListCtor;
if(!_253){
return new qlc();
}
if(_253.constructor==qlc){
return _253;
}
if(typeof _253!="string"){
return new qlc(_253);
}
if(typeof root=="string"){
root=d.byId(root);
if(!root){
return new qlc();
}
}
root=root||_1e6();
var od=root.ownerDocument||root.documentElement;
_1ea=(root.contentType&&root.contentType=="application/xml")||(d.isOpera&&(root.doctype||od.toString()=="[object XMLDocument]"))||(!!od)&&(d.isIE?od.xml:(root.xmlVersion||od.xmlVersion));
var r=_245(_253)(root);
if(r&&r.nozip&&!qlc._wrap){
return r;
}
return _251(r);
};
d.query.pseudos=_216;
d._filterQueryResult=function(_254,_255,root){
var _256=new d._NodeListCtor(),_257=_1ec(_255),_258=(_257.length==1&&!/[^\w#\.]/.test(_255))?_21d(_257[0]):function(node){
return dojo.query(_255,root).indexOf(node)!=-1;
};
for(var x=0,te;te=_254[x];x++){
if(_258(te)){
_256.push(te);
}
}
return _256;
};
};
var _259=function(){
acme={trim:function(str){
str=str.replace(/^\s+/,"");
for(var i=str.length-1;i>=0;i--){
if(/\S/.test(str.charAt(i))){
str=str.substring(0,i+1);
break;
}
}
return str;
},forEach:function(arr,_25a,_25b){
if(!arr||!arr.length){
return;
}
for(var i=0,l=arr.length;i<l;++i){
_25a.call(_25b||window,arr[i],i,arr);
}
},byId:function(id,doc){
if(typeof id=="string"){
return (doc||document).getElementById(id);
}else{
return id;
}
},doc:document,NodeList:Array};
var n=navigator;
var dua=n.userAgent;
var dav=n.appVersion;
var tv=parseFloat(dav);
acme.isOpera=(dua.indexOf("Opera")>=0)?tv:undefined;
acme.isKhtml=(dav.indexOf("Konqueror")>=0)?tv:undefined;
acme.isWebKit=parseFloat(dua.split("WebKit/")[1])||undefined;
acme.isChrome=parseFloat(dua.split("Chrome/")[1])||undefined;
var _25c=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);
if(_25c&&!acme.isChrome){
acme.isSafari=parseFloat(dav.split("Version/")[1]);
if(!acme.isSafari||parseFloat(dav.substr(_25c+7))<=419.3){
acme.isSafari=2;
}
}
if(document.all&&!acme.isOpera){
acme.isIE=parseFloat(dav.split("MSIE ")[1])||undefined;
}
Array._wrap=function(arr){
return arr;
};
return acme;
};
if(this["dojo"]){
dojo.provide("dojo._base.query");
_1e5(this["queryPortability"]||this["acme"]||dojo);
}else{
_1e5(this["queryPortability"]||this["acme"]||_259());
}
})();
}
if(!dojo._hasResource["dojo._base.xhr"]){
dojo._hasResource["dojo._base.xhr"]=true;
dojo.provide("dojo._base.xhr");
(function(){
var _25d=dojo,cfg=_25d.config;
function _25e(obj,name,_25f){
if(_25f===null){
return;
}
var val=obj[name];
if(typeof val=="string"){
obj[name]=[val,_25f];
}else{
if(_25d.isArray(val)){
val.push(_25f);
}else{
obj[name]=_25f;
}
}
};
dojo.fieldToObject=function(_260){
var ret=null;
var item=_25d.byId(_260);
if(item){
var _261=item.name;
var type=(item.type||"").toLowerCase();
if(_261&&type&&!item.disabled){
if(type=="radio"||type=="checkbox"){
if(item.checked){
ret=item.value;
}
}else{
if(item.multiple){
ret=[];
_25d.query("option",item).forEach(function(opt){
if(opt.selected){
ret.push(opt.value);
}
});
}else{
ret=item.value;
}
}
}
}
return ret;
};
dojo.formToObject=function(_262){
var ret={};
var _263="file|submit|image|reset|button|";
_25d.forEach(dojo.byId(_262).elements,function(item){
var _264=item.name;
var type=(item.type||"").toLowerCase();
if(_264&&type&&_263.indexOf(type)==-1&&!item.disabled){
_25e(ret,_264,_25d.fieldToObject(item));
if(type=="image"){
ret[_264+".x"]=ret[_264+".y"]=ret[_264].x=ret[_264].y=0;
}
}
});
return ret;
};
dojo.objectToQuery=function(map){
var enc=encodeURIComponent;
var _265=[];
var _266={};
for(var name in map){
var _267=map[name];
if(_267!=_266[name]){
var _268=enc(name)+"=";
if(_25d.isArray(_267)){
for(var i=0;i<_267.length;i++){
_265.push(_268+enc(_267[i]));
}
}else{
_265.push(_268+enc(_267));
}
}
}
return _265.join("&");
};
dojo.formToQuery=function(_269){
return _25d.objectToQuery(_25d.formToObject(_269));
};
dojo.formToJson=function(_26a,_26b){
return _25d.toJson(_25d.formToObject(_26a),_26b);
};
dojo.queryToObject=function(str){
var ret={};
var qp=str.split("&");
var dec=decodeURIComponent;
_25d.forEach(qp,function(item){
if(item.length){
var _26c=item.split("=");
var name=dec(_26c.shift());
var val=dec(_26c.join("="));
if(typeof ret[name]=="string"){
ret[name]=[ret[name]];
}
if(_25d.isArray(ret[name])){
ret[name].push(val);
}else{
ret[name]=val;
}
}
});
return ret;
};
dojo._blockAsync=false;
var _26d=_25d._contentHandlers=dojo.contentHandlers={text:function(xhr){
return xhr.responseText;
},json:function(xhr){
return _25d.fromJson(xhr.responseText||null);
},"json-comment-filtered":function(xhr){
if(!dojo.config.useCommentedJson){
console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");
}
var _26e=xhr.responseText;
var _26f=_26e.indexOf("/*");
var _270=_26e.lastIndexOf("*/");
if(_26f==-1||_270==-1){
throw new Error("JSON was not comment filtered");
}
return _25d.fromJson(_26e.substring(_26f+2,_270));
},javascript:function(xhr){
return _25d.eval(xhr.responseText);
},xml:function(xhr){
var _271=xhr.responseXML;
if(_25d.isIE&&(!_271||!_271.documentElement)){
var ms=function(n){
return "MSXML"+n+".DOMDocument";
};
var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];
_25d.some(dp,function(p){
try{
var dom=new ActiveXObject(p);
dom.async=false;
dom.loadXML(xhr.responseText);
_271=dom;
}
catch(e){
return false;
}
return true;
});
}
return _271;
},"json-comment-optional":function(xhr){
if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){
return _26d["json-comment-filtered"](xhr);
}else{
return _26d["json"](xhr);
}
}};
dojo._ioSetArgs=function(args,_272,_273,_274){
var _275={args:args,url:args.url};
var _276=null;
if(args.form){
var form=_25d.byId(args.form);
var _277=form.getAttributeNode("action");
_275.url=_275.url||(_277?_277.value:null);
_276=_25d.formToObject(form);
}
var _278=[{}];
if(_276){
_278.push(_276);
}
if(args.content){
_278.push(args.content);
}
if(args.preventCache){
_278.push({"dojo.preventCache":new Date().valueOf()});
}
_275.query=_25d.objectToQuery(_25d.mixin.apply(null,_278));
_275.handleAs=args.handleAs||"text";
var d=new _25d.Deferred(_272);
d.addCallbacks(_273,function(_279){
return _274(_279,d);
});
var ld=args.load;
if(ld&&_25d.isFunction(ld)){
d.addCallback(function(_27a){
return ld.call(args,_27a,_275);
});
}
var err=args.error;
if(err&&_25d.isFunction(err)){
d.addErrback(function(_27b){
return err.call(args,_27b,_275);
});
}
var _27c=args.handle;
if(_27c&&_25d.isFunction(_27c)){
d.addBoth(function(_27d){
return _27c.call(args,_27d,_275);
});
}
if(cfg.ioPublish&&_25d.publish&&_275.args.ioPublish!==false){
d.addCallbacks(function(res){
_25d.publish("/dojo/io/load",[d,res]);
return res;
},function(res){
_25d.publish("/dojo/io/error",[d,res]);
return res;
});
d.addBoth(function(res){
_25d.publish("/dojo/io/done",[d,res]);
return res;
});
}
d.ioArgs=_275;
return d;
};
var _27e=function(dfd){
dfd.canceled=true;
var xhr=dfd.ioArgs.xhr;
var _27f=typeof xhr.abort;
if(_27f=="function"||_27f=="object"||_27f=="unknown"){
xhr.abort();
}
var err=dfd.ioArgs.error;
if(!err){
err=new Error("xhr cancelled");
err.dojoType="cancel";
}
return err;
};
var _280=function(dfd){
var ret=_26d[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);
return ret===undefined?null:ret;
};
var _281=function(_282,dfd){
if(!dfd.ioArgs.args.failOk){
console.error(_282);
}
return _282;
};
var _283=null;
var _284=[];
var _285=0;
var _286=function(dfd){
if(_285<=0){
_285=0;
if(cfg.ioPublish&&_25d.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){
_25d.publish("/dojo/io/stop");
}
}
};
var _287=function(){
var now=(new Date()).getTime();
if(!_25d._blockAsync){
for(var i=0,tif;i<_284.length&&(tif=_284[i]);i++){
var dfd=tif.dfd;
var func=function(){
if(!dfd||dfd.canceled||!tif.validCheck(dfd)){
_284.splice(i--,1);
_285-=1;
}else{
if(tif.ioCheck(dfd)){
_284.splice(i--,1);
tif.resHandle(dfd);
_285-=1;
}else{
if(dfd.startTime){
if(dfd.startTime+(dfd.ioArgs.args.timeout||0)<now){
_284.splice(i--,1);
var err=new Error("timeout exceeded");
err.dojoType="timeout";
dfd.errback(err);
dfd.cancel();
_285-=1;
}
}
}
}
};
if(dojo.config.debugAtAllCosts){
func.call(this);
}else{
try{
func.call(this);
}
catch(e){
dfd.errback(e);
}
}
}
}
_286(dfd);
if(!_284.length){
clearInterval(_283);
_283=null;
return;
}
};
dojo._ioCancelAll=function(){
try{
_25d.forEach(_284,function(i){
try{
i.dfd.cancel();
}
catch(e){
}
});
}
catch(e){
}
};
if(_25d.isIE){
_25d.addOnWindowUnload(_25d._ioCancelAll);
}
_25d._ioNotifyStart=function(dfd){
if(cfg.ioPublish&&_25d.publish&&dfd.ioArgs.args.ioPublish!==false){
if(!_285){
_25d.publish("/dojo/io/start");
}
_285+=1;
_25d.publish("/dojo/io/send",[dfd]);
}
};
_25d._ioWatch=function(dfd,_288,_289,_28a){
var args=dfd.ioArgs.args;
if(args.timeout){
dfd.startTime=(new Date()).getTime();
}
_284.push({dfd:dfd,validCheck:_288,ioCheck:_289,resHandle:_28a});
if(!_283){
_283=setInterval(_287,50);
}
if(args.sync){
_287();
}
};
var _28b="application/x-www-form-urlencoded";
var _28c=function(dfd){
return dfd.ioArgs.xhr.readyState;
};
var _28d=function(dfd){
return 4==dfd.ioArgs.xhr.readyState;
};
var _28e=function(dfd){
var xhr=dfd.ioArgs.xhr;
if(_25d._isDocumentOk(xhr)){
dfd.callback(dfd);
}else{
var err=new Error("Unable to load "+dfd.ioArgs.url+" status:"+xhr.status);
err.status=xhr.status;
err.responseText=xhr.responseText;
dfd.errback(err);
}
};
dojo._ioAddQueryToUrl=function(_28f){
if(_28f.query.length){
_28f.url+=(_28f.url.indexOf("?")==-1?"?":"&")+_28f.query;
_28f.query=null;
}
};
dojo.xhr=function(_290,args,_291){
var dfd=_25d._ioSetArgs(args,_27e,_280,_281);
var _292=dfd.ioArgs;
var xhr=_292.xhr=_25d._xhrObj(_292.args);
if(!xhr){
dfd.cancel();
return dfd;
}
if("postData" in args){
_292.query=args.postData;
}else{
if("putData" in args){
_292.query=args.putData;
}else{
if("rawBody" in args){
_292.query=args.rawBody;
}else{
if((arguments.length>2&&!_291)||"POST|PUT".indexOf(_290.toUpperCase())==-1){
_25d._ioAddQueryToUrl(_292);
}
}
}
}
xhr.open(_290,_292.url,args.sync!==true,args.user||undefined,args.password||undefined);
if(args.headers){
for(var hdr in args.headers){
if(hdr.toLowerCase()==="content-type"&&!args.contentType){
args.contentType=args.headers[hdr];
}else{
if(args.headers[hdr]){
xhr.setRequestHeader(hdr,args.headers[hdr]);
}
}
}
}
xhr.setRequestHeader("Content-Type",args.contentType||_28b);
if(!args.headers||!("X-Requested-With" in args.headers)){
xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");
}
_25d._ioNotifyStart(dfd);
if(dojo.config.debugAtAllCosts){
xhr.send(_292.query);
}else{
try{
xhr.send(_292.query);
}
catch(e){
_292.error=e;
dfd.cancel();
}
}
_25d._ioWatch(dfd,_28c,_28d,_28e);
xhr=null;
return dfd;
};
dojo.xhrGet=function(args){
return _25d.xhr("GET",args);
};
dojo.rawXhrPost=dojo.xhrPost=function(args){
return _25d.xhr("POST",args,true);
};
dojo.rawXhrPut=dojo.xhrPut=function(args){
return _25d.xhr("PUT",args,true);
};
dojo.xhrDelete=function(args){
return _25d.xhr("DELETE",args);
};
})();
}
if(!dojo._hasResource["dojo._base.fx"]){
dojo._hasResource["dojo._base.fx"]=true;
dojo.provide("dojo._base.fx");
(function(){
var d=dojo;
var _293=d._mixin;
dojo._Line=function(_294,end){
this.start=_294;
this.end=end;
};
dojo._Line.prototype.getValue=function(n){
return ((this.end-this.start)*n)+this.start;
};
dojo.Animation=function(args){
_293(this,args);
if(d.isArray(this.curve)){
this.curve=new d._Line(this.curve[0],this.curve[1]);
}
};
d._Animation=d.Animation;
d.extend(dojo.Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){
var _295=this._percent,_296=this.easing;
return _296?_296(_295):_295;
},_fire:function(evt,args){
var a=args||[];
if(this[evt]){
if(d.config.debugAtAllCosts){
this[evt].apply(this,a);
}else{
try{
this[evt].apply(this,a);
}
catch(e){
console.error("exception in animation handler for:",evt);
console.error(e);
}
}
}
return this;
},play:function(_297,_298){
var _299=this;
if(_299._delayTimer){
_299._clearTimer();
}
if(_298){
_299._stopTimer();
_299._active=_299._paused=false;
_299._percent=0;
}else{
if(_299._active&&!_299._paused){
return _299;
}
}
_299._fire("beforeBegin",[_299.node]);
var de=_297||_299.delay,_29a=dojo.hitch(_299,"_play",_298);
if(de>0){
_299._delayTimer=setTimeout(_29a,de);
return _299;
}
_29a();
return _299;
},_play:function(_29b){
var _29c=this;
if(_29c._delayTimer){
_29c._clearTimer();
}
_29c._startTime=new Date().valueOf();
if(_29c._paused){
_29c._startTime-=_29c.duration*_29c._percent;
}
_29c._active=true;
_29c._paused=false;
var _29d=_29c.curve.getValue(_29c._getStep());
if(!_29c._percent){
if(!_29c._startRepeatCount){
_29c._startRepeatCount=_29c.repeat;
}
_29c._fire("onBegin",[_29d]);
}
_29c._fire("onPlay",[_29d]);
_29c._cycle();
return _29c;
},pause:function(){
var _29e=this;
if(_29e._delayTimer){
_29e._clearTimer();
}
_29e._stopTimer();
if(!_29e._active){
return _29e;
}
_29e._paused=true;
_29e._fire("onPause",[_29e.curve.getValue(_29e._getStep())]);
return _29e;
},gotoPercent:function(_29f,_2a0){
var _2a1=this;
_2a1._stopTimer();
_2a1._active=_2a1._paused=true;
_2a1._percent=_29f;
if(_2a0){
_2a1.play();
}
return _2a1;
},stop:function(_2a2){
var _2a3=this;
if(_2a3._delayTimer){
_2a3._clearTimer();
}
if(!_2a3._timer){
return _2a3;
}
_2a3._stopTimer();
if(_2a2){
_2a3._percent=1;
}
_2a3._fire("onStop",[_2a3.curve.getValue(_2a3._getStep())]);
_2a3._active=_2a3._paused=false;
return _2a3;
},status:function(){
if(this._active){
return this._paused?"paused":"playing";
}
return "stopped";
},_cycle:function(){
var _2a4=this;
if(_2a4._active){
var curr=new Date().valueOf();
var step=(curr-_2a4._startTime)/(_2a4.duration);
if(step>=1){
step=1;
}
_2a4._percent=step;
if(_2a4.easing){
step=_2a4.easing(step);
}
_2a4._fire("onAnimate",[_2a4.curve.getValue(step)]);
if(_2a4._percent<1){
_2a4._startTimer();
}else{
_2a4._active=false;
if(_2a4.repeat>0){
_2a4.repeat--;
_2a4.play(null,true);
}else{
if(_2a4.repeat==-1){
_2a4.play(null,true);
}else{
if(_2a4._startRepeatCount){
_2a4.repeat=_2a4._startRepeatCount;
_2a4._startRepeatCount=0;
}
}
}
_2a4._percent=0;
_2a4._fire("onEnd",[_2a4.node]);
!_2a4.repeat&&_2a4._stopTimer();
}
}
return _2a4;
},_clearTimer:function(){
clearTimeout(this._delayTimer);
delete this._delayTimer;
}});
var ctr=0,_2a5=null,_2a6={run:function(){
}};
d.extend(d.Animation,{_startTimer:function(){
if(!this._timer){
this._timer=d.connect(_2a6,"run",this,"_cycle");
ctr++;
}
if(!_2a5){
_2a5=setInterval(d.hitch(_2a6,"run"),this.rate);
}
},_stopTimer:function(){
if(this._timer){
d.disconnect(this._timer);
this._timer=null;
ctr--;
}
if(ctr<=0){
clearInterval(_2a5);
_2a5=null;
ctr=0;
}
}});
var _2a7=d.isIE?function(node){
var ns=node.style;
if(!ns.width.length&&d.style(node,"width")=="auto"){
ns.width="auto";
}
}:function(){
};
dojo._fade=function(args){
args.node=d.byId(args.node);
var _2a8=_293({properties:{}},args),_2a9=(_2a8.properties.opacity={});
_2a9.start=!("start" in _2a8)?function(){
return +d.style(_2a8.node,"opacity")||0;
}:_2a8.start;
_2a9.end=_2a8.end;
var anim=d.animateProperty(_2a8);
d.connect(anim,"beforeBegin",d.partial(_2a7,_2a8.node));
return anim;
};
dojo.fadeIn=function(args){
return d._fade(_293({end:1},args));
};
dojo.fadeOut=function(args){
return d._fade(_293({end:0},args));
};
dojo._defaultEasing=function(n){
return 0.5+((Math.sin((n+1.5)*Math.PI))/2);
};
var _2aa=function(_2ab){
this._properties=_2ab;
for(var p in _2ab){
var prop=_2ab[p];
if(prop.start instanceof d.Color){
prop.tempColor=new d.Color();
}
}
};
_2aa.prototype.getValue=function(r){
var ret={};
for(var p in this._properties){
var prop=this._properties[p],_2ac=prop.start;
if(_2ac instanceof d.Color){
ret[p]=d.blendColors(_2ac,prop.end,r,prop.tempColor).toCss();
}else{
if(!d.isArray(_2ac)){
ret[p]=((prop.end-_2ac)*r)+_2ac+(p!="opacity"?prop.units||"px":0);
}
}
}
return ret;
};
dojo.animateProperty=function(args){
var n=args.node=d.byId(args.node);
if(!args.easing){
args.easing=d._defaultEasing;
}
var anim=new d.Animation(args);
d.connect(anim,"beforeBegin",anim,function(){
var pm={};
for(var p in this.properties){
if(p=="width"||p=="height"){
this.node.display="block";
}
var prop=this.properties[p];
if(d.isFunction(prop)){
prop=prop(n);
}
prop=pm[p]=_293({},(d.isObject(prop)?prop:{end:prop}));
if(d.isFunction(prop.start)){
prop.start=prop.start(n);
}
if(d.isFunction(prop.end)){
prop.end=prop.end(n);
}
var _2ad=(p.toLowerCase().indexOf("color")>=0);
function _2ae(node,p){
var v={height:node.offsetHeight,width:node.offsetWidth}[p];
if(v!==undefined){
return v;
}
v=d.style(node,p);
return (p=="opacity")?+v:(_2ad?v:parseFloat(v));
};
if(!("end" in prop)){
prop.end=_2ae(n,p);
}else{
if(!("start" in prop)){
prop.start=_2ae(n,p);
}
}
if(_2ad){
prop.start=new d.Color(prop.start);
prop.end=new d.Color(prop.end);
}else{
prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);
}
}
this.curve=new _2aa(pm);
});
d.connect(anim,"onAnimate",d.hitch(d,"style",anim.node));
return anim;
};
dojo.anim=function(node,_2af,_2b0,_2b1,_2b2,_2b3){
return d.animateProperty({node:node,duration:_2b0||d.Animation.prototype.duration,properties:_2af,easing:_2b1,onEnd:_2b2}).play(_2b3||0);
};
})();
}
if(!dojo._hasResource["dojo._base.browser"]){
dojo._hasResource["dojo._base.browser"]=true;
dojo.provide("dojo._base.browser");
dojo.forEach(dojo.config.require,function(i){
dojo["require"](i);
});
}
if(!dojo._hasResource["dojo._base"]){
dojo._hasResource["dojo._base"]=true;
dojo.provide("dojo._base");
}
if(!dojo._hasResource["dojo.dnd.common"]){
dojo._hasResource["dojo.dnd.common"]=true;
dojo.provide("dojo.dnd.common");
dojo.getObject("dnd",true,dojo);
dojo.dnd.getCopyKeyState=dojo.isCopyKey;
dojo.dnd._uniqueId=0;
dojo.dnd.getUniqueId=function(){
var id;
do{
id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);
}while(dojo.byId(id));
return id;
};
dojo.dnd._empty={};
dojo.dnd.isFormElement=function(e){
var t=e.target;
if(t.nodeType==3){
t=t.parentNode;
}
return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;
};
}
if(!dojo._hasResource["dojo.window"]){
dojo._hasResource["dojo.window"]=true;
dojo.provide("dojo.window");
dojo.getObject("window",true,dojo);
dojo.window.getBox=function(){
var _2b4=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;
var _2b5=dojo._docScroll();
return {w:_2b4.clientWidth,h:_2b4.clientHeight,l:_2b5.x,t:_2b5.y};
};
dojo.window.get=function(doc){
if(dojo.isIE&&window!==document.parentWindow){
doc.parentWindow.execScript("document._parentWindow = window;","Javascript");
var win=doc._parentWindow;
doc._parentWindow=null;
return win;
}
return doc.parentWindow||doc.defaultView;
};
dojo.window.scrollIntoView=function(node,pos){
try{
node=dojo.byId(node);
var doc=node.ownerDocument||dojo.doc,body=doc.body||dojo.body(),html=doc.documentElement||body.parentNode,isIE=dojo.isIE,isWK=dojo.isWebKit;
if((!(dojo.isMoz||isIE||isWK||dojo.isOpera)||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){
node.scrollIntoView(false);
return;
}
var _2b6=doc.compatMode=="BackCompat",_2b7=_2b6?body:html,_2b8=isWK?body:_2b7,_2b9=_2b7.clientWidth,_2ba=_2b7.clientHeight,rtl=!dojo._isBodyLtr(),_2bb=pos||dojo.position(node),el=node.parentNode,_2bc=function(el){
return ((isIE<=6||(isIE&&_2b6))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));
};
if(_2bc(node)){
return;
}
while(el){
if(el==body){
el=_2b8;
}
var _2bd=dojo.position(el),_2be=_2bc(el);
if(el==_2b8){
_2bd.w=_2b9;
_2bd.h=_2ba;
if(_2b8==html&&isIE&&rtl){
_2bd.x+=_2b8.offsetWidth-_2bd.w;
}
if(_2bd.x<0||!isIE){
_2bd.x=0;
}
if(_2bd.y<0||!isIE){
_2bd.y=0;
}
}else{
var pb=dojo._getPadBorderExtents(el);
_2bd.w-=pb.w;
_2bd.h-=pb.h;
_2bd.x+=pb.l;
_2bd.y+=pb.t;
}
if(el!=_2b8){
var _2bf=el.clientWidth,_2c0=_2bd.w-_2bf;
if(_2bf>0&&_2c0>0){
_2bd.w=_2bf;
if(isIE&&rtl){
_2bd.x+=_2c0;
}
}
_2bf=el.clientHeight;
_2c0=_2bd.h-_2bf;
if(_2bf>0&&_2c0>0){
_2bd.h=_2bf;
}
}
if(_2be){
if(_2bd.y<0){
_2bd.h+=_2bd.y;
_2bd.y=0;
}
if(_2bd.x<0){
_2bd.w+=_2bd.x;
_2bd.x=0;
}
if(_2bd.y+_2bd.h>_2ba){
_2bd.h=_2ba-_2bd.y;
}
if(_2bd.x+_2bd.w>_2b9){
_2bd.w=_2b9-_2bd.x;
}
}
var l=_2bb.x-_2bd.x,t=_2bb.y-Math.max(_2bd.y,0),r=l+_2bb.w-_2bd.w,bot=t+_2bb.h-_2bd.h;
if(r*l>0){
var s=Math[l<0?"max":"min"](l,r);
_2bb.x+=el.scrollLeft;
el.scrollLeft+=(isIE>=8&&!_2b6&&rtl)?-s:s;
_2bb.x-=el.scrollLeft;
}
if(bot*t>0){
_2bb.y+=el.scrollTop;
el.scrollTop+=Math[t<0?"max":"min"](t,bot);
_2bb.y-=el.scrollTop;
}
el=(el!=_2b8)&&!_2be&&el.parentNode;
}
}
catch(error){
console.error("scrollIntoView: "+error);
node.scrollIntoView(false);
}
};
}
if(!dojo._hasResource["dojo.dnd.autoscroll"]){
dojo._hasResource["dojo.dnd.autoscroll"]=true;
dojo.provide("dojo.dnd.autoscroll");
dojo.getObject("dnd",true,dojo);
dojo.dnd.getViewport=dojo.window.getBox;
dojo.dnd.V_TRIGGER_AUTOSCROLL=32;
dojo.dnd.H_TRIGGER_AUTOSCROLL=32;
dojo.dnd.V_AUTOSCROLL_VALUE=16;
dojo.dnd.H_AUTOSCROLL_VALUE=16;
dojo.dnd.autoScroll=function(e){
var v=dojo.window.getBox(),dx=0,dy=0;
if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){
dx=-dojo.dnd.H_AUTOSCROLL_VALUE;
}else{
if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){
dx=dojo.dnd.H_AUTOSCROLL_VALUE;
}
}
if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){
dy=-dojo.dnd.V_AUTOSCROLL_VALUE;
}else{
if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){
dy=dojo.dnd.V_AUTOSCROLL_VALUE;
}
}
window.scrollBy(dx,dy);
};
dojo.dnd._validNodes={"div":1,"p":1,"td":1};
dojo.dnd._validOverflow={"auto":1,"scroll":1};
dojo.dnd.autoScrollNodes=function(e){
for(var n=e.target;n;){
if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){
var s=dojo.getComputedStyle(n);
if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){
var b=dojo._getContentBox(n,s),t=dojo.position(n,true);
var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;
if(dojo.isWebKit||dojo.isOpera){
rx+=dojo.body().scrollLeft;
ry+=dojo.body().scrollTop;
}
if(rx>0&&rx<b.w){
if(rx<w){
dx=-w;
}else{
if(rx>b.w-w){
dx=w;
}
}
}
if(ry>0&&ry<b.h){
if(ry<h){
dy=-h;
}else{
if(ry>b.h-h){
dy=h;
}
}
}
var _2c1=n.scrollLeft,_2c2=n.scrollTop;
n.scrollLeft=n.scrollLeft+dx;
n.scrollTop=n.scrollTop+dy;
if(_2c1!=n.scrollLeft||_2c2!=n.scrollTop){
return;
}
}
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
dojo.dnd.autoScroll(e);
};
}
if(!dojo._hasResource["dojo.dnd.Mover"]){
dojo._hasResource["dojo.dnd.Mover"]=true;
dojo.provide("dojo.dnd.Mover");
dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){
this.node=dojo.byId(node);
var pos=e.touches?e.touches[0]:e;
this.marginBox={l:pos.pageX,t:pos.pageY};
this.mouseButton=e.button;
var h=(this.host=host),d=node.ownerDocument;
this.events=[dojo.connect(d,"onmousemove",this,"onFirstMove"),dojo.connect(d,"ontouchmove",this,"onFirstMove"),dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"ontouchmove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ontouchend",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent)];
if(h&&h.onMoveStart){
h.onMoveStart(this);
}
},onMouseMove:function(e){
dojo.dnd.autoScroll(e);
var m=this.marginBox,pos=e.touches?e.touches[0]:e;
this.host.onMove(this,{l:m.l+pos.pageX,t:m.t+pos.pageY},e);
dojo.stopEvent(e);
},onMouseUp:function(e){
if(dojo.isWebKit&&dojo.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){
this.destroy();
}
dojo.stopEvent(e);
},onFirstMove:function(e){
var s=this.node.style,l,t,h=this.host;
switch(s.position){
case "relative":
case "absolute":
l=Math.round(parseFloat(s.left))||0;
t=Math.round(parseFloat(s.top))||0;
break;
default:
s.position="absolute";
var m=dojo.marginBox(this.node);
var b=dojo.doc.body;
var bs=dojo.getComputedStyle(b);
var bm=dojo._getMarginBox(b,bs);
var bc=dojo._getContentBox(b,bs);
l=m.l-(bc.l-bm.l);
t=m.t-(bc.t-bm.t);
break;
}
this.marginBox.l=l-this.marginBox.l;
this.marginBox.t=t-this.marginBox.t;
if(h&&h.onFirstMove){
h.onFirstMove(this,e);
}
dojo.disconnect(this.events.shift());
dojo.disconnect(this.events.shift());
},destroy:function(){
dojo.forEach(this.events,dojo.disconnect);
var h=this.host;
if(h&&h.onMoveStop){
h.onMoveStop(this);
}
this.events=this.node=this.host=null;
}});
}
if(!dojo._hasResource["dojo.dnd.Moveable"]){
dojo._hasResource["dojo.dnd.Moveable"]=true;
dojo.provide("dojo.dnd.Moveable");
dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_2c3){
this.node=dojo.byId(node);
if(!_2c3){
_2c3={};
}
this.handle=_2c3.handle?dojo.byId(_2c3.handle):null;
if(!this.handle){
this.handle=this.node;
}
this.delay=_2c3.delay>0?_2c3.delay:0;
this.skip=_2c3.skip;
this.mover=_2c3.mover?_2c3.mover:dojo.dnd.Mover;
this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ontouchstart",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];
},markupFactory:function(_2c4,node){
return new dojo.dnd.Moveable(node,_2c4);
},destroy:function(){
dojo.forEach(this.events,dojo.disconnect);
this.events=this.node=this.handle=null;
},onMouseDown:function(e){
if(this.skip&&dojo.dnd.isFormElement(e)){
return;
}
if(this.delay){
this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"ontouchmove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"),dojo.connect(this.handle,"ontouchend",this,"onMouseUp"));
var pos=e.touches?e.touches[0]:e;
this._lastX=pos.pageX;
this._lastY=pos.pageY;
}else{
this.onDragDetected(e);
}
dojo.stopEvent(e);
},onMouseMove:function(e){
var pos=e.touches?e.touches[0]:e;
if(Math.abs(pos.pageX-this._lastX)>this.delay||Math.abs(pos.pageY-this._lastY)>this.delay){
this.onMouseUp(e);
this.onDragDetected(e);
}
dojo.stopEvent(e);
},onMouseUp:function(e){
for(var i=0;i<2;++i){
dojo.disconnect(this.events.pop());
}
dojo.stopEvent(e);
},onSelectStart:function(e){
if(!this.skip||!dojo.dnd.isFormElement(e)){
dojo.stopEvent(e);
}
},onDragDetected:function(e){
new this.mover(this.node,e,this);
},onMoveStart:function(_2c5){
dojo.publish("/dnd/move/start",[_2c5]);
dojo.addClass(dojo.body(),"dojoMove");
dojo.addClass(this.node,"dojoMoveItem");
},onMoveStop:function(_2c6){
dojo.publish("/dnd/move/stop",[_2c6]);
dojo.removeClass(dojo.body(),"dojoMove");
dojo.removeClass(this.node,"dojoMoveItem");
},onFirstMove:function(_2c7,e){
},onMove:function(_2c8,_2c9,e){
this.onMoving(_2c8,_2c9);
var s=_2c8.node.style;
s.left=_2c9.l+"px";
s.top=_2c9.t+"px";
this.onMoved(_2c8,_2c9);
},onMoving:function(_2ca,_2cb){
},onMoved:function(_2cc,_2cd){
}});
}
if(!dojo._hasResource["dojo.dnd.move"]){
dojo._hasResource["dojo.dnd.move"]=true;
dojo.provide("dojo.dnd.move");
dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){
},within:false,markupFactory:function(_2ce,node){
return new dojo.dnd.move.constrainedMoveable(node,_2ce);
},constructor:function(node,_2cf){
if(!_2cf){
_2cf={};
}
this.constraints=_2cf.constraints;
this.within=_2cf.within;
},onFirstMove:function(_2d0){
var c=this.constraintBox=this.constraints.call(this,_2d0);
c.r=c.l+c.w;
c.b=c.t+c.h;
if(this.within){
var mb=dojo._getMarginSize(_2d0.node);
c.r-=mb.w;
c.b-=mb.h;
}
},onMove:function(_2d1,_2d2){
var c=this.constraintBox,s=_2d1.node.style;
this.onMoving(_2d1,_2d2);
_2d2.l=_2d2.l<c.l?c.l:c.r<_2d2.l?c.r:_2d2.l;
_2d2.t=_2d2.t<c.t?c.t:c.b<_2d2.t?c.b:_2d2.t;
s.left=_2d2.l+"px";
s.top=_2d2.t+"px";
this.onMoved(_2d1,_2d2);
}});
dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_2d3,node){
return new dojo.dnd.move.boxConstrainedMoveable(node,_2d3);
},constructor:function(node,_2d4){
var box=_2d4&&_2d4.box;
this.constraints=function(){
return box;
};
}});
dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_2d5,node){
return new dojo.dnd.move.parentConstrainedMoveable(node,_2d5);
},constructor:function(node,_2d6){
var area=_2d6&&_2d6.area;
this.constraints=function(){
var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);
if(area=="margin"){
return mb;
}
var t=dojo._getMarginExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="border"){
return mb;
}
t=dojo._getBorderExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="padding"){
return mb;
}
t=dojo._getPadExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
return mb;
};
}});
dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;
dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;
dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;
}
if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){
dojo._hasResource["dojo.dnd.TimedMoveable"]=true;
dojo.provide("dojo.dnd.TimedMoveable");
(function(){
var _2d7=dojo.dnd.Moveable.prototype.onMove;
dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(node,_2d8){
if(!_2d8){
_2d8={};
}
if(_2d8.timeout&&typeof _2d8.timeout=="number"&&_2d8.timeout>=0){
this.timeout=_2d8.timeout;
}
},markupFactory:function(_2d9,node){
return new dojo.dnd.TimedMoveable(node,_2d9);
},onMoveStop:function(_2da){
if(_2da._timer){
clearTimeout(_2da._timer);
_2d7.call(this,_2da,_2da._leftTop);
}
dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);
},onMove:function(_2db,_2dc){
_2db._leftTop=_2dc;
if(!_2db._timer){
var _2dd=this;
_2db._timer=setTimeout(function(){
_2db._timer=null;
_2d7.call(_2dd,_2db,_2db._leftTop);
},this.timeout);
}
}});
})();
}
if(!dojo._hasResource["dojo.fx.Toggler"]){
dojo._hasResource["dojo.fx.Toggler"]=true;
dojo.provide("dojo.fx.Toggler");
dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){
var _2de=this;
dojo.mixin(_2de,args);
_2de.node=args.node;
_2de._showArgs=dojo.mixin({},args);
_2de._showArgs.node=_2de.node;
_2de._showArgs.duration=_2de.showDuration;
_2de.showAnim=_2de.showFunc(_2de._showArgs);
_2de._hideArgs=dojo.mixin({},args);
_2de._hideArgs.node=_2de.node;
_2de._hideArgs.duration=_2de.hideDuration;
_2de.hideAnim=_2de.hideFunc(_2de._hideArgs);
dojo.connect(_2de.showAnim,"beforeBegin",dojo.hitch(_2de.hideAnim,"stop",true));
dojo.connect(_2de.hideAnim,"beforeBegin",dojo.hitch(_2de.showAnim,"stop",true));
},show:function(_2df){
return this.showAnim.play(_2df||0);
},hide:function(_2e0){
return this.hideAnim.play(_2e0||0);
}});
}
if(!dojo._hasResource["dojo.fx"]){
dojo._hasResource["dojo.fx"]=true;
dojo.provide("dojo.fx");
(function(){
var d=dojo,_2e1={_fire:function(evt,args){
if(this[evt]){
this[evt].apply(this,args||[]);
}
return this;
}};
var _2e2=function(_2e3){
this._index=-1;
this._animations=_2e3||[];
this._current=this._onAnimateCtx=this._onEndCtx=null;
this.duration=0;
d.forEach(this._animations,function(a){
this.duration+=a.duration;
if(a.delay){
this.duration+=a.delay;
}
},this);
};
d.extend(_2e2,{_onAnimate:function(){
this._fire("onAnimate",arguments);
},_onEnd:function(){
d.disconnect(this._onAnimateCtx);
d.disconnect(this._onEndCtx);
this._onAnimateCtx=this._onEndCtx=null;
if(this._index+1==this._animations.length){
this._fire("onEnd");
}else{
this._current=this._animations[++this._index];
this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");
this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");
this._current.play(0,true);
}
},play:function(_2e4,_2e5){
if(!this._current){
this._current=this._animations[this._index=0];
}
if(!_2e5&&this._current.status()=="playing"){
return this;
}
var _2e6=d.connect(this._current,"beforeBegin",this,function(){
this._fire("beforeBegin");
}),_2e7=d.connect(this._current,"onBegin",this,function(arg){
this._fire("onBegin",arguments);
}),_2e8=d.connect(this._current,"onPlay",this,function(arg){
this._fire("onPlay",arguments);
d.disconnect(_2e6);
d.disconnect(_2e7);
d.disconnect(_2e8);
});
if(this._onAnimateCtx){
d.disconnect(this._onAnimateCtx);
}
this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");
if(this._onEndCtx){
d.disconnect(this._onEndCtx);
}
this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");
this._current.play.apply(this._current,arguments);
return this;
},pause:function(){
if(this._current){
var e=d.connect(this._current,"onPause",this,function(arg){
this._fire("onPause",arguments);
d.disconnect(e);
});
this._current.pause();
}
return this;
},gotoPercent:function(_2e9,_2ea){
this.pause();
var _2eb=this.duration*_2e9;
this._current=null;
d.some(this._animations,function(a){
if(a.duration<=_2eb){
this._current=a;
return true;
}
_2eb-=a.duration;
return false;
});
if(this._current){
this._current.gotoPercent(_2eb/this._current.duration,_2ea);
}
return this;
},stop:function(_2ec){
if(this._current){
if(_2ec){
for(;this._index+1<this._animations.length;++this._index){
this._animations[this._index].stop(true);
}
this._current=this._animations[this._index];
}
var e=d.connect(this._current,"onStop",this,function(arg){
this._fire("onStop",arguments);
d.disconnect(e);
});
this._current.stop();
}
return this;
},status:function(){
return this._current?this._current.status():"stopped";
},destroy:function(){
if(this._onAnimateCtx){
d.disconnect(this._onAnimateCtx);
}
if(this._onEndCtx){
d.disconnect(this._onEndCtx);
}
}});
d.extend(_2e2,_2e1);
dojo.fx.chain=function(_2ed){
return new _2e2(_2ed);
};
var _2ee=function(_2ef){
this._animations=_2ef||[];
this._connects=[];
this._finished=0;
this.duration=0;
d.forEach(_2ef,function(a){
var _2f0=a.duration;
if(a.delay){
_2f0+=a.delay;
}
if(this.duration<_2f0){
this.duration=_2f0;
}
this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));
},this);
this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});
var self=this;
d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){
self._connects.push(d.connect(self._pseudoAnimation,evt,function(){
self._fire(evt,arguments);
}));
});
};
d.extend(_2ee,{_doAction:function(_2f1,args){
d.forEach(this._animations,function(a){
a[_2f1].apply(a,args);
});
return this;
},_onEnd:function(){
if(++this._finished>this._animations.length){
this._fire("onEnd");
}
},_call:function(_2f2,args){
var t=this._pseudoAnimation;
t[_2f2].apply(t,args);
},play:function(_2f3,_2f4){
this._finished=0;
this._doAction("play",arguments);
this._call("play",arguments);
return this;
},pause:function(){
this._doAction("pause",arguments);
this._call("pause",arguments);
return this;
},gotoPercent:function(_2f5,_2f6){
var ms=this.duration*_2f5;
d.forEach(this._animations,function(a){
a.gotoPercent(a.duration<ms?1:(ms/a.duration),_2f6);
});
this._call("gotoPercent",arguments);
return this;
},stop:function(_2f7){
this._doAction("stop",arguments);
this._call("stop",arguments);
return this;
},status:function(){
return this._pseudoAnimation.status();
},destroy:function(){
d.forEach(this._connects,dojo.disconnect);
}});
d.extend(_2ee,_2e1);
dojo.fx.combine=function(_2f8){
return new _2ee(_2f8);
};
dojo.fx.wipeIn=function(args){
var node=args.node=d.byId(args.node),s=node.style,o;
var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){
o=s.overflow;
s.overflow="hidden";
if(s.visibility=="hidden"||s.display=="none"){
s.height="1px";
s.display="";
s.visibility="";
return 1;
}else{
var _2f9=d.style(node,"height");
return Math.max(_2f9,1);
}
},end:function(){
return node.scrollHeight;
}}}},args));
d.connect(anim,"onEnd",function(){
s.height="auto";
s.overflow=o;
});
return anim;
};
dojo.fx.wipeOut=function(args){
var node=args.node=d.byId(args.node),s=node.style,o;
var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));
d.connect(anim,"beforeBegin",function(){
o=s.overflow;
s.overflow="hidden";
s.display="";
});
d.connect(anim,"onEnd",function(){
s.overflow=o;
s.height="auto";
s.display="none";
});
return anim;
};
dojo.fx.slideTo=function(args){
var node=args.node=d.byId(args.node),top=null,left=null;
var init=(function(n){
return function(){
var cs=d.getComputedStyle(n);
var pos=cs.position;
top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);
left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);
if(pos!="absolute"&&pos!="relative"){
var ret=d.position(n,true);
top=ret.y;
left=ret.x;
n.style.position="absolute";
n.style.top=top+"px";
n.style.left=left+"px";
}
};
})(node);
init();
var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));
d.connect(anim,"beforeBegin",anim,init);
return anim;
};
})();
}
if(!dojo._hasResource["dijit._base.manager"]){
dojo._hasResource["dijit._base.manager"]=true;
dojo.provide("dijit._base.manager");
dojo.declare("dijit.WidgetSet",null,{constructor:function(){
this._hash={};
this.length=0;
},add:function(_2fa){
if(this._hash[_2fa.id]){
throw new Error("Tried to register widget with id=="+_2fa.id+" but that id is already registered");
}
this._hash[_2fa.id]=_2fa;
this.length++;
},remove:function(id){
if(this._hash[id]){
delete this._hash[id];
this.length--;
}
},forEach:function(func,_2fb){
_2fb=_2fb||dojo.global;
var i=0,id;
for(id in this._hash){
func.call(_2fb,this._hash[id],i++,this._hash);
}
return this;
},filter:function(_2fc,_2fd){
_2fd=_2fd||dojo.global;
var res=new dijit.WidgetSet(),i=0,id;
for(id in this._hash){
var w=this._hash[id];
if(_2fc.call(_2fd,w,i++,this._hash)){
res.add(w);
}
}
return res;
},byId:function(id){
return this._hash[id];
},byClass:function(cls){
var res=new dijit.WidgetSet(),id,_2fe;
for(id in this._hash){
_2fe=this._hash[id];
if(_2fe.declaredClass==cls){
res.add(_2fe);
}
}
return res;
},toArray:function(){
var ar=[];
for(var id in this._hash){
ar.push(this._hash[id]);
}
return ar;
},map:function(func,_2ff){
return dojo.map(this.toArray(),func,_2ff);
},every:function(func,_300){
_300=_300||dojo.global;
var x=0,i;
for(i in this._hash){
if(!func.call(_300,this._hash[i],x++,this._hash)){
return false;
}
}
return true;
},some:function(func,_301){
_301=_301||dojo.global;
var x=0,i;
for(i in this._hash){
if(func.call(_301,this._hash[i],x++,this._hash)){
return true;
}
}
return false;
}});
(function(){
dijit.registry=new dijit.WidgetSet();
var hash=dijit.registry._hash,attr=dojo.attr,_302=dojo.hasAttr,_303=dojo.style;
dijit.byId=function(id){
return typeof id=="string"?hash[id]:id;
};
var _304={};
dijit.getUniqueId=function(_305){
var id;
do{
id=_305+"_"+(_305 in _304?++_304[_305]:_304[_305]=0);
}while(hash[id]);
return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;
};
dijit.findWidgets=function(root){
var _306=[];
function _307(root){
for(var node=root.firstChild;node;node=node.nextSibling){
if(node.nodeType==1){
var _308=node.getAttribute("widgetId");
if(_308){
var _309=hash[_308];
if(_309){
_306.push(_309);
}
}else{
_307(node);
}
}
}
};
_307(root);
return _306;
};
dijit._destroyAll=function(){
dijit._curFocus=null;
dijit._prevFocus=null;
dijit._activeStack=[];
dojo.forEach(dijit.findWidgets(dojo.body()),function(_30a){
if(!_30a._destroyed){
if(_30a.destroyRecursive){
_30a.destroyRecursive();
}else{
if(_30a.destroy){
_30a.destroy();
}
}
}
});
};
if(dojo.isIE){
dojo.addOnWindowUnload(function(){
dijit._destroyAll();
});
}
dijit.byNode=function(node){
return hash[node.getAttribute("widgetId")];
};
dijit.getEnclosingWidget=function(node){
while(node){
var id=node.getAttribute&&node.getAttribute("widgetId");
if(id){
return hash[id];
}
node=node.parentNode;
}
return null;
};
var _30b=(dijit._isElementShown=function(elem){
var s=_303(elem);
return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(attr(elem,"type")!="hidden");
});
dijit.hasDefaultTabStop=function(elem){
switch(elem.nodeName.toLowerCase()){
case "a":
return _302(elem,"href");
case "area":
case "button":
case "input":
case "object":
case "select":
case "textarea":
return true;
case "iframe":
var body;
try{
var _30c=elem.contentDocument;
if("designMode" in _30c&&_30c.designMode=="on"){
return true;
}
body=_30c.body;
}
catch(e1){
try{
body=elem.contentWindow.document.body;
}
catch(e2){
return false;
}
}
return body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true");
default:
return elem.contentEditable=="true";
}
};
var _30d=(dijit.isTabNavigable=function(elem){
if(attr(elem,"disabled")){
return false;
}else{
if(_302(elem,"tabIndex")){
return attr(elem,"tabIndex")>=0;
}else{
return dijit.hasDefaultTabStop(elem);
}
}
});
dijit._getTabNavigable=function(root){
var _30e,last,_30f,_310,_311,_312,_313={};
function _314(node){
return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();
};
var _315=function(_316){
dojo.query("> *",_316).forEach(function(_317){
if((dojo.isIE&&_317.scopeName!=="HTML")||!_30b(_317)){
return;
}
if(_30d(_317)){
var _318=attr(_317,"tabIndex");
if(!_302(_317,"tabIndex")||_318==0){
if(!_30e){
_30e=_317;
}
last=_317;
}else{
if(_318>0){
if(!_30f||_318<_310){
_310=_318;
_30f=_317;
}
if(!_311||_318>=_312){
_312=_318;
_311=_317;
}
}
}
var rn=_314(_317);
if(dojo.attr(_317,"checked")&&rn){
_313[rn]=_317;
}
}
if(_317.nodeName.toUpperCase()!="SELECT"){
_315(_317);
}
});
};
if(_30b(root)){
_315(root);
}
function rs(node){
return _313[_314(node)]||node;
};
return {first:rs(_30e),last:rs(last),lowest:rs(_30f),highest:rs(_311)};
};
dijit.getFirstInTabbingOrder=function(root){
var _319=dijit._getTabNavigable(dojo.byId(root));
return _319.lowest?_319.lowest:_319.first;
};
dijit.getLastInTabbingOrder=function(root){
var _31a=dijit._getTabNavigable(dojo.byId(root));
return _31a.last?_31a.last:_31a.highest;
};
dijit.defaultDuration=dojo.config["defaultDuration"]||200;
})();
}
if(!dojo._hasResource["dojo.Stateful"]){
dojo._hasResource["dojo.Stateful"]=true;
dojo.provide("dojo.Stateful");
dojo.declare("dojo.Stateful",null,{postscript:function(_31b){
if(_31b){
dojo.mixin(this,_31b);
}
},get:function(name){
return this[name];
},set:function(name,_31c){
if(typeof name==="object"){
for(var x in name){
this.set(x,name[x]);
}
return this;
}
var _31d=this[name];
this[name]=_31c;
if(this._watchCallbacks){
this._watchCallbacks(name,_31d,_31c);
}
return this;
},watch:function(name,_31e){
var _31f=this._watchCallbacks;
if(!_31f){
var self=this;
_31f=this._watchCallbacks=function(name,_320,_321,_322){
var _323=function(_324){
if(_324){
_324=_324.slice();
for(var i=0,l=_324.length;i<l;i++){
try{
_324[i].call(self,name,_320,_321);
}
catch(e){
console.error(e);
}
}
}
};
_323(_31f["_"+name]);
if(!_322){
_323(_31f["*"]);
}
};
}
if(!_31e&&typeof name==="function"){
_31e=name;
name="*";
}else{
name="_"+name;
}
var _325=_31f[name];
if(typeof _325!=="object"){
_325=_31f[name]=[];
}
_325.push(_31e);
return {unwatch:function(){
_325.splice(dojo.indexOf(_325,_31e),1);
}};
}});
}
if(!dojo._hasResource["dijit._WidgetBase"]){
dojo._hasResource["dijit._WidgetBase"]=true;
dojo.provide("dijit._WidgetBase");
(function(){
dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_326,_327){
this.create(_326,_327);
},create:function(_328,_329){
this.srcNodeRef=dojo.byId(_329);
this._connects=[];
this._subscribes=[];
if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){
this.id=this.srcNodeRef.id;
}
if(_328){
this.params=_328;
dojo._mixin(this,_328);
}
this.postMixInProperties();
if(!this.id){
this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));
}
dijit.registry.add(this);
this.buildRendering();
if(this.domNode){
this._applyAttributes();
var _32a=this.srcNodeRef;
if(_32a&&_32a.parentNode&&this.domNode!==_32a){
_32a.parentNode.replaceChild(this.domNode,_32a);
}
}
if(this.domNode){
this.domNode.setAttribute("widgetId",this.id);
}
this.postCreate();
if(this.srcNodeRef&&!this.srcNodeRef.parentNode){
delete this.srcNodeRef;
}
this._created=true;
},_applyAttributes:function(){
var _32b=function(attr,_32c){
if((_32c.params&&attr in _32c.params)||_32c[attr]){
_32c.set(attr,_32c[attr]);
}
};
for(var attr in this.attributeMap){
_32b(attr,this);
}
dojo.forEach(this._getSetterAttributes(),function(a){
if(!(a in this.attributeMap)){
_32b(a,this);
}
},this);
},_getSetterAttributes:function(){
var ctor=this.constructor;
if(!ctor._setterAttrs){
var r=(ctor._setterAttrs=[]),_32d,_32e=ctor.prototype;
for(var _32f in _32e){
if(dojo.isFunction(_32e[_32f])&&(_32d=_32f.match(/^_set([a-zA-Z]*)Attr$/))&&_32d[1]){
r.push(_32d[1].charAt(0).toLowerCase()+_32d[1].substr(1));
}
}
}
return ctor._setterAttrs;
},postMixInProperties:function(){
},buildRendering:function(){
if(!this.domNode){
this.domNode=this.srcNodeRef||dojo.create("div");
}
if(this.baseClass){
var _330=this.baseClass.split(" ");
if(!this.isLeftToRight()){
_330=_330.concat(dojo.map(_330,function(name){
return name+"Rtl";
}));
}
dojo.addClass(this.domNode,_330);
}
},postCreate:function(){
},startup:function(){
this._started=true;
},destroyRecursive:function(_331){
this._beingDestroyed=true;
this.destroyDescendants(_331);
this.destroy(_331);
},destroy:function(_332){
this._beingDestroyed=true;
this.uninitialize();
var d=dojo,dfe=d.forEach,dun=d.unsubscribe;
dfe(this._connects,function(_333){
dfe(_333,d.disconnect);
});
dfe(this._subscribes,function(_334){
dun(_334);
});
dfe(this._supportingWidgets||[],function(w){
if(w.destroyRecursive){
w.destroyRecursive();
}else{
if(w.destroy){
w.destroy();
}
}
});
this.destroyRendering(_332);
dijit.registry.remove(this.id);
this._destroyed=true;
},destroyRendering:function(_335){
if(this.bgIframe){
this.bgIframe.destroy(_335);
delete this.bgIframe;
}
if(this.domNode){
if(_335){
dojo.removeAttr(this.domNode,"widgetId");
}else{
dojo.destroy(this.domNode);
}
delete this.domNode;
}
if(this.srcNodeRef){
if(!_335){
dojo.destroy(this.srcNodeRef);
}
delete this.srcNodeRef;
}
},destroyDescendants:function(_336){
dojo.forEach(this.getChildren(),function(_337){
if(_337.destroyRecursive){
_337.destroyRecursive(_336);
}
});
},uninitialize:function(){
return false;
},_setClassAttr:function(_338){
var _339=this[this.attributeMap["class"]||"domNode"];
dojo.replaceClass(_339,_338,this["class"]);
this._set("class",_338);
},_setStyleAttr:function(_33a){
var _33b=this[this.attributeMap.style||"domNode"];
if(dojo.isObject(_33a)){
dojo.style(_33b,_33a);
}else{
if(_33b.style.cssText){
_33b.style.cssText+="; "+_33a;
}else{
_33b.style.cssText=_33a;
}
}
this._set("style",_33a);
},_attrToDom:function(attr,_33c){
var _33d=this.attributeMap[attr];
dojo.forEach(dojo.isArray(_33d)?_33d:[_33d],function(_33e){
var _33f=this[_33e.node||_33e||"domNode"];
var type=_33e.type||"attribute";
switch(type){
case "attribute":
if(dojo.isFunction(_33c)){
_33c=dojo.hitch(this,_33c);
}
var _340=_33e.attribute?_33e.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);
dojo.attr(_33f,_340,_33c);
break;
case "innerText":
_33f.innerHTML="";
_33f.appendChild(dojo.doc.createTextNode(_33c));
break;
case "innerHTML":
_33f.innerHTML=_33c;
break;
case "class":
dojo.replaceClass(_33f,_33c,this[attr]);
break;
}
},this);
},get:function(name){
var _341=this._getAttrNames(name);
return this[_341.g]?this[_341.g]():this[name];
},set:function(name,_342){
if(typeof name==="object"){
for(var x in name){
this.set(x,name[x]);
}
return this;
}
var _343=this._getAttrNames(name);
if(this[_343.s]){
var _344=this[_343.s].apply(this,Array.prototype.slice.call(arguments,1));
}else{
if(name in this.attributeMap){
this._attrToDom(name,_342);
}
this._set(name,_342);
}
return _344||this;
},_attrPairNames:{},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
var uc=name.charAt(0).toUpperCase()+name.substr(1);
return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});
},_set:function(name,_345){
var _346=this[name];
this[name]=_345;
if(this._watchCallbacks&&this._created&&_345!==_346){
this._watchCallbacks(name,_346,_345);
}
},toString:function(){
return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";
},getDescendants:function(){
return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];
},getChildren:function(){
return this.containerNode?dijit.findWidgets(this.containerNode):[];
},connect:function(obj,_347,_348){
var _349=[dojo._connect(obj,_347,this,_348)];
this._connects.push(_349);
return _349;
},disconnect:function(_34a){
for(var i=0;i<this._connects.length;i++){
if(this._connects[i]==_34a){
dojo.forEach(_34a,dojo.disconnect);
this._connects.splice(i,1);
return;
}
}
},subscribe:function(_34b,_34c){
var _34d=dojo.subscribe(_34b,this,_34c);
this._subscribes.push(_34d);
return _34d;
},unsubscribe:function(_34e){
for(var i=0;i<this._subscribes.length;i++){
if(this._subscribes[i]==_34e){
dojo.unsubscribe(_34e);
this._subscribes.splice(i,1);
return;
}
}
},isLeftToRight:function(){
return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();
},placeAt:function(_34f,_350){
if(_34f.declaredClass&&_34f.addChild){
_34f.addChild(this,_350);
}else{
dojo.place(this.domNode,_34f,_350);
}
return this;
}});
})();
}
if(!dojo._hasResource["dijit._base.focus"]){
dojo._hasResource["dijit._base.focus"]=true;
dojo.provide("dijit._base.focus");
dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){
return dijit.getBookmark().isCollapsed;
},getBookmark:function(){
var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;
if(dojo.global.getSelection){
sel=dojo.global.getSelection();
if(sel){
if(sel.isCollapsed){
tg=cf?cf.tagName:"";
if(tg){
tg=tg.toLowerCase();
if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){
sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};
return {isCollapsed:(sel.end<=sel.start),mark:sel};
}
}
bm={isCollapsed:true};
}else{
rg=sel.getRangeAt(0);
bm={isCollapsed:false,mark:rg.cloneRange()};
}
}
}else{
if(sel){
tg=cf?cf.tagName:"";
tg=tg.toLowerCase();
if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){
if(sel.type&&sel.type.toLowerCase()=="none"){
return {isCollapsed:true,mark:null};
}else{
rg=sel.createRange();
return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};
}
}
bm={};
try{
rg=sel.createRange();
bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);
}
catch(e){
bm.isCollapsed=true;
return bm;
}
if(sel.type.toUpperCase()=="CONTROL"){
if(rg.length){
bm.mark=[];
var i=0,len=rg.length;
while(i<len){
bm.mark.push(rg.item(i++));
}
}else{
bm.isCollapsed=true;
bm.mark=null;
}
}else{
bm.mark=rg.getBookmark();
}
}else{
console.warn("No idea how to store the current selection for this browser!");
}
}
return bm;
},moveToBookmark:function(_351){
var _352=dojo.doc,mark=_351.mark;
if(mark){
if(dojo.global.getSelection){
var sel=dojo.global.getSelection();
if(sel&&sel.removeAllRanges){
if(mark.pRange){
var r=mark;
var n=r.node;
n.selectionStart=r.start;
n.selectionEnd=r.end;
}else{
sel.removeAllRanges();
sel.addRange(mark);
}
}else{
console.warn("No idea how to restore selection for this browser!");
}
}else{
if(_352.selection&&mark){
var rg;
if(mark.pRange){
rg=mark.range;
}else{
if(dojo.isArray(mark)){
rg=_352.body.createControlRange();
dojo.forEach(mark,function(n){
rg.addElement(n);
});
}else{
rg=_352.body.createTextRange();
rg.moveToBookmark(mark);
}
}
rg.select();
}
}
}
},getFocus:function(menu,_353){
var node=!dijit._curFocus||(menu&&dojo.isDescendant(dijit._curFocus,menu.domNode))?dijit._prevFocus:dijit._curFocus;
return {node:node,bookmark:(node==dijit._curFocus)&&dojo.withGlobal(_353||dojo.global,dijit.getBookmark),openedForWindow:_353};
},focus:function(_354){
if(!_354){
return;
}
var node="node" in _354?_354.node:_354,_355=_354.bookmark,_356=_354.openedForWindow,_357=_355?_355.isCollapsed:false;
if(node){
var _358=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;
if(_358&&_358.focus){
try{
_358.focus();
}
catch(e){
}
}
dijit._onFocusNode(node);
}
if(_355&&dojo.withGlobal(_356||dojo.global,dijit.isCollapsed)&&!_357){
if(_356){
_356.focus();
}
try{
dojo.withGlobal(_356||dojo.global,dijit.moveToBookmark,null,[_355]);
}
catch(e2){
}
}
},_activeStack:[],registerIframe:function(_359){
return dijit.registerWin(_359.contentWindow,_359);
},unregisterIframe:function(_35a){
dijit.unregisterWin(_35a);
},registerWin:function(_35b,_35c){
var _35d=function(evt){
dijit._justMouseDowned=true;
setTimeout(function(){
dijit._justMouseDowned=false;
},0);
if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){
return;
}
dijit._onTouchNode(_35c||evt.target||evt.srcElement,"mouse");
};
var doc=dojo.isIE?_35b.document.documentElement:_35b.document;
if(doc){
if(dojo.isIE){
_35b.document.body.attachEvent("onmousedown",_35d);
var _35e=function(evt){
if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){
dijit._onFocusNode(_35c||evt.srcElement);
}else{
dijit._onTouchNode(_35c||evt.srcElement);
}
};
doc.attachEvent("onactivate",_35e);
var _35f=function(evt){
dijit._onBlurNode(_35c||evt.srcElement);
};
doc.attachEvent("ondeactivate",_35f);
return function(){
_35b.document.detachEvent("onmousedown",_35d);
doc.detachEvent("onactivate",_35e);
doc.detachEvent("ondeactivate",_35f);
doc=null;
};
}else{
doc.body.addEventListener("mousedown",_35d,true);
var _360=function(evt){
dijit._onFocusNode(_35c||evt.target);
};
doc.addEventListener("focus",_360,true);
var _361=function(evt){
dijit._onBlurNode(_35c||evt.target);
};
doc.addEventListener("blur",_361,true);
return function(){
doc.body.removeEventListener("mousedown",_35d,true);
doc.removeEventListener("focus",_360,true);
doc.removeEventListener("blur",_361,true);
doc=null;
};
}
}
},unregisterWin:function(_362){
_362&&_362();
},_onBlurNode:function(node){
dijit._prevFocus=dijit._curFocus;
dijit._curFocus=null;
if(dijit._justMouseDowned){
return;
}
if(dijit._clearActiveWidgetsTimer){
clearTimeout(dijit._clearActiveWidgetsTimer);
}
dijit._clearActiveWidgetsTimer=setTimeout(function(){
delete dijit._clearActiveWidgetsTimer;
dijit._setStack([]);
dijit._prevFocus=null;
},100);
},_onTouchNode:function(node,by){
if(dijit._clearActiveWidgetsTimer){
clearTimeout(dijit._clearActiveWidgetsTimer);
delete dijit._clearActiveWidgetsTimer;
}
var _363=[];
try{
while(node){
var _364=dojo.attr(node,"dijitPopupParent");
if(_364){
node=dijit.byId(_364).domNode;
}else{
if(node.tagName&&node.tagName.toLowerCase()=="body"){
if(node===dojo.body()){
break;
}
node=dojo.window.get(node.ownerDocument).frameElement;
}else{
var id=node.getAttribute&&node.getAttribute("widgetId"),_365=id&&dijit.byId(id);
if(_365&&!(by=="mouse"&&_365.get("disabled"))){
_363.unshift(id);
}
node=node.parentNode;
}
}
}
}
catch(e){
}
dijit._setStack(_363,by);
},_onFocusNode:function(node){
if(!node){
return;
}
if(node.nodeType==9){
return;
}
dijit._onTouchNode(node);
if(node==dijit._curFocus){
return;
}
if(dijit._curFocus){
dijit._prevFocus=dijit._curFocus;
}
dijit._curFocus=node;
dojo.publish("focusNode",[node]);
},_setStack:function(_366,by){
var _367=dijit._activeStack;
dijit._activeStack=_366;
for(var _368=0;_368<Math.min(_367.length,_366.length);_368++){
if(_367[_368]!=_366[_368]){
break;
}
}
var _369;
for(var i=_367.length-1;i>=_368;i--){
_369=dijit.byId(_367[i]);
if(_369){
_369._focused=false;
_369.set("focused",false);
_369._hasBeenBlurred=true;
if(_369._onBlur){
_369._onBlur(by);
}
dojo.publish("widgetBlur",[_369,by]);
}
}
for(i=_368;i<_366.length;i++){
_369=dijit.byId(_366[i]);
if(_369){
_369._focused=true;
_369.set("focused",true);
if(_369._onFocus){
_369._onFocus(by);
}
dojo.publish("widgetFocus",[_369,by]);
}
}
}});
dojo.addOnLoad(function(){
var _36a=dijit.registerWin(window);
if(dojo.isIE){
dojo.addOnWindowUnload(function(){
dijit.unregisterWin(_36a);
_36a=null;
});
}
});
}
if(!dojo._hasResource["dojo.AdapterRegistry"]){
dojo._hasResource["dojo.AdapterRegistry"]=true;
dojo.provide("dojo.AdapterRegistry");
dojo.AdapterRegistry=function(_36b){
this.pairs=[];
this.returnWrappers=_36b||false;
};
dojo.extend(dojo.AdapterRegistry,{register:function(name,_36c,wrap,_36d,_36e){
this.pairs[((_36e)?"unshift":"push")]([name,_36c,wrap,_36d]);
},match:function(){
for(var i=0;i<this.pairs.length;i++){
var pair=this.pairs[i];
if(pair[1].apply(this,arguments)){
if((pair[3])||(this.returnWrappers)){
return pair[2];
}else{
return pair[2].apply(this,arguments);
}
}
}
throw new Error("No match found");
},unregister:function(name){
for(var i=0;i<this.pairs.length;i++){
var pair=this.pairs[i];
if(pair[0]==name){
this.pairs.splice(i,1);
return true;
}
}
return false;
}});
}
if(!dojo._hasResource["dijit._base.place"]){
dojo._hasResource["dijit._base.place"]=true;
dojo.provide("dijit._base.place");
dijit.getViewport=function(){
return dojo.window.getBox();
};
dijit.placeOnScreen=function(node,pos,_36f,_370){
var _371=dojo.map(_36f,function(_372){
var c={corner:_372,pos:{x:pos.x,y:pos.y}};
if(_370){
c.pos.x+=_372.charAt(1)=="L"?_370.x:-_370.x;
c.pos.y+=_372.charAt(0)=="T"?_370.y:-_370.y;
}
return c;
});
return dijit._place(node,_371);
};
dijit._place=function(node,_373,_374,_375){
var view=dojo.window.getBox();
if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){
dojo.body().appendChild(node);
}
var best=null;
dojo.some(_373,function(_376){
var _377=_376.corner;
var pos=_376.pos;
var _378=0;
var _379={w:_377.charAt(1)=="L"?(view.l+view.w)-pos.x:pos.x-view.l,h:_377.charAt(1)=="T"?(view.t+view.h)-pos.y:pos.y-view.t};
if(_374){
var res=_374(node,_376.aroundCorner,_377,_379,_375);
_378=typeof res=="undefined"?0:res;
}
var _37a=node.style;
var _37b=_37a.display;
var _37c=_37a.visibility;
_37a.visibility="hidden";
_37a.display="";
var mb=dojo.marginBox(node);
_37a.display=_37b;
_37a.visibility=_37c;
var _37d=Math.max(view.l,_377.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_37e=Math.max(view.t,_377.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_377.charAt(1)=="L"?(_37d+mb.w):pos.x),endY=Math.min(view.t+view.h,_377.charAt(0)=="T"?(_37e+mb.h):pos.y),_37f=endX-_37d,_380=endY-_37e;
_378+=(mb.w-_37f)+(mb.h-_380);
if(best==null||_378<best.overflow){
best={corner:_377,aroundCorner:_376.aroundCorner,x:_37d,y:_37e,w:_37f,h:_380,overflow:_378,spaceAvailable:_379};
}
return !_378;
});
if(best.overflow&&_374){
_374(node,best.aroundCorner,best.corner,best.spaceAvailable,_375);
}
var l=dojo._isBodyLtr(),s=node.style;
s.top=best.y+"px";
s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";
return best;
};
dijit.placeOnScreenAroundNode=function(node,_381,_382,_383){
_381=dojo.byId(_381);
var _384=dojo.position(_381,true);
return dijit._placeOnScreenAroundRect(node,_384.x,_384.y,_384.w,_384.h,_382,_383);
};
dijit.placeOnScreenAroundRectangle=function(node,_385,_386,_387){
return dijit._placeOnScreenAroundRect(node,_385.x,_385.y,_385.width,_385.height,_386,_387);
};
dijit._placeOnScreenAroundRect=function(node,x,y,_388,_389,_38a,_38b){
var _38c=[];
for(var _38d in _38a){
_38c.push({aroundCorner:_38d,corner:_38a[_38d],pos:{x:x+(_38d.charAt(1)=="L"?0:_388),y:y+(_38d.charAt(0)=="T"?0:_389)}});
}
return dijit._place(node,_38c,_38b,{w:_388,h:_389});
};
dijit.placementRegistry=new dojo.AdapterRegistry();
dijit.placementRegistry.register("node",function(n,x){
return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";
},dijit.placeOnScreenAroundNode);
dijit.placementRegistry.register("rect",function(n,x){
return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;
},dijit.placeOnScreenAroundRectangle);
dijit.placeOnScreenAroundElement=function(node,_38e,_38f,_390){
return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);
};
dijit.getPopupAroundAlignment=function(_391,_392){
var _393={};
dojo.forEach(_391,function(pos){
switch(pos){
case "after":
_393[_392?"BR":"BL"]=_392?"BL":"BR";
break;
case "before":
_393[_392?"BL":"BR"]=_392?"BR":"BL";
break;
case "below-alt":
_392=!_392;
case "below":
_393[_392?"BL":"BR"]=_392?"TL":"TR";
_393[_392?"BR":"BL"]=_392?"TR":"TL";
break;
case "above-alt":
_392=!_392;
case "above":
default:
_393[_392?"TL":"TR"]=_392?"BL":"BR";
_393[_392?"TR":"TL"]=_392?"BR":"BL";
break;
}
});
return _393;
};
}
if(!dojo._hasResource["dijit._base.window"]){
dojo._hasResource["dijit._base.window"]=true;
dojo.provide("dijit._base.window");
dijit.getDocumentWindow=function(doc){
return dojo.window.get(doc);
};
}
if(!dojo._hasResource["dijit._base.popup"]){
dojo._hasResource["dijit._base.popup"]=true;
dojo.provide("dijit._base.popup");
dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_394){
var _395=_394.declaredClass?_394._popupWrapper:(dojo.hasClass(_394.parentNode,"dijitPopup")&&_394.parentNode),node=_394.domNode||_394;
if(!_395){
_395=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());
_395.appendChild(node);
var s=node.style;
s.display="";
s.visibility="";
s.position="";
s.top="0px";
if(_394.declaredClass){
_394._popupWrapper=_395;
dojo.connect(_394,"destroy",function(){
dojo.destroy(_395);
delete _394._popupWrapper;
});
}
}
return _395;
},moveOffScreen:function(_396){
var _397=this._createWrapper(_396);
dojo.style(_397,{visibility:"hidden",top:"-9999px",display:""});
},hide:function(_398){
var _399=this._createWrapper(_398);
dojo.style(_399,"display","none");
},getTopPopup:function(){
var _39a=this._stack;
for(var pi=_39a.length-1;pi>0&&_39a[pi].parent===_39a[pi-1].widget;pi--){
}
return _39a[pi];
},open:function(args){
var _39b=this._stack,_39c=args.popup,_39d=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_39e=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);
while(_39b.length&&(!args.parent||!dojo.isDescendant(args.parent.domNode,_39b[_39b.length-1].widget.domNode))){
dijit.popup.close(_39b[_39b.length-1].widget);
}
var _39f=this._createWrapper(_39c);
dojo.attr(_39f,{id:id,style:{zIndex:this._beginZIndex+_39b.length},"class":"dijitPopup "+(_39c.baseClass||_39c["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});
if(dojo.isIE||dojo.isMoz){
if(!_39c.bgIframe){
_39c.bgIframe=new dijit.BackgroundIframe(_39f);
}
}
var best=_39e?dijit.placeOnScreenAroundElement(_39f,_39e,_39d,_39c.orient?dojo.hitch(_39c,"orient"):null):dijit.placeOnScreen(_39f,args,_39d=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);
_39f.style.display="";
_39f.style.visibility="visible";
_39c.domNode.style.visibility="visible";
var _3a0=[];
_3a0.push(dojo.connect(_39f,"onkeypress",this,function(evt){
if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){
dojo.stopEvent(evt);
args.onCancel();
}else{
if(evt.charOrCode===dojo.keys.TAB){
dojo.stopEvent(evt);
var _3a1=this.getTopPopup();
if(_3a1&&_3a1.onCancel){
_3a1.onCancel();
}
}
}
}));
if(_39c.onCancel){
_3a0.push(dojo.connect(_39c,"onCancel",args.onCancel));
}
_3a0.push(dojo.connect(_39c,_39c.onExecute?"onExecute":"onChange",this,function(){
var _3a2=this.getTopPopup();
if(_3a2&&_3a2.onExecute){
_3a2.onExecute();
}
}));
_39b.push({widget:_39c,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_3a0});
if(_39c.onOpen){
_39c.onOpen(best);
}
return best;
},close:function(_3a3){
var _3a4=this._stack;
while((_3a3&&dojo.some(_3a4,function(elem){
return elem.widget==_3a3;
}))||(!_3a3&&_3a4.length)){
var top=_3a4.pop(),_3a5=top.widget,_3a6=top.onClose;
if(_3a5.onClose){
_3a5.onClose();
}
dojo.forEach(top.handlers,dojo.disconnect);
if(_3a5&&_3a5.domNode){
this.hide(_3a5);
}
if(_3a6){
_3a6();
}
}
}};
dijit._frames=new function(){
var _3a7=[];
this.pop=function(){
var _3a8;
if(_3a7.length){
_3a8=_3a7.pop();
_3a8.style.display="";
}else{
if(dojo.isIE<9){
var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";
var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";
_3a8=dojo.doc.createElement(html);
}else{
_3a8=dojo.create("iframe");
_3a8.src="javascript:\"\"";
_3a8.className="dijitBackgroundIframe";
dojo.style(_3a8,"opacity",0.1);
}
_3a8.tabIndex=-1;
dijit.setWaiRole(_3a8,"presentation");
}
return _3a8;
};
this.push=function(_3a9){
_3a9.style.display="none";
_3a7.push(_3a9);
};
}();
dijit.BackgroundIframe=function(node){
if(!node.id){
throw new Error("no id");
}
if(dojo.isIE||dojo.isMoz){
var _3aa=(this.iframe=dijit._frames.pop());
node.appendChild(_3aa);
if(dojo.isIE<7||dojo.isQuirks){
this.resize(node);
this._conn=dojo.connect(node,"onresize",this,function(){
this.resize(node);
});
}else{
dojo.style(_3aa,{width:"100%",height:"100%"});
}
}
};
dojo.extend(dijit.BackgroundIframe,{resize:function(node){
if(this.iframe){
dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});
}
},destroy:function(){
if(this._conn){
dojo.disconnect(this._conn);
this._conn=null;
}
if(this.iframe){
dijit._frames.push(this.iframe);
delete this.iframe;
}
}});
}
if(!dojo._hasResource["dijit._base.scroll"]){
dojo._hasResource["dijit._base.scroll"]=true;
dojo.provide("dijit._base.scroll");
dijit.scrollIntoView=function(node,pos){
dojo.window.scrollIntoView(node,pos);
};
}
if(!dojo._hasResource["dojo.uacss"]){
dojo._hasResource["dojo.uacss"]=true;
dojo.provide("dojo.uacss");
(function(){
var d=dojo,html=d.doc.documentElement,ie=d.isIE,_3ab=d.isOpera,maj=Math.floor,ff=d.isFF,_3ac=d.boxModel.replace(/-/,""),_3ad={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_3ab,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};
_3ad["dj_"+_3ac]=true;
var _3ae="";
for(var clz in _3ad){
if(_3ad[clz]){
_3ae+=clz+" ";
}
}
html.className=d.trim(html.className+" "+_3ae);
dojo._loaders.unshift(function(){
if(!dojo._isBodyLtr()){
var _3af="dj_rtl dijitRtl "+_3ae.replace(/ /g,"-rtl ");
html.className=d.trim(html.className+" "+_3af);
}
});
})();
}
if(!dojo._hasResource["dijit._base.sniff"]){
dojo._hasResource["dijit._base.sniff"]=true;
dojo.provide("dijit._base.sniff");
}
if(!dojo._hasResource["dijit._base.typematic"]){
dojo._hasResource["dijit._base.typematic"]=true;
dojo.provide("dijit._base.typematic");
dijit.typematic={_fireEventAndReload:function(){
this._timer=null;
this._callback(++this._count,this._node,this._evt);
this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);
this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);
},trigger:function(evt,_3b0,node,_3b1,obj,_3b2,_3b3,_3b4){
if(obj!=this._obj){
this.stop();
this._initialDelay=_3b3||500;
this._subsequentDelay=_3b2||0.9;
this._minDelay=_3b4||10;
this._obj=obj;
this._evt=evt;
this._node=node;
this._currentTimeout=-1;
this._count=-1;
this._callback=dojo.hitch(_3b0,_3b1);
this._fireEventAndReload();
this._evt=dojo.mixin({faux:true},evt);
}
},stop:function(){
if(this._timer){
clearTimeout(this._timer);
this._timer=null;
}
if(this._obj){
this._callback(-1,this._node,this._evt);
this._obj=null;
}
},addKeyListener:function(node,_3b5,_3b6,_3b7,_3b8,_3b9,_3ba){
if(_3b5.keyCode){
_3b5.charOrCode=_3b5.keyCode;
dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");
}else{
if(_3b5.charCode){
_3b5.charOrCode=String.fromCharCode(_3b5.charCode);
dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");
}
}
return [dojo.connect(node,"onkeypress",this,function(evt){
if(evt.charOrCode==_3b5.charOrCode&&(_3b5.ctrlKey===undefined||_3b5.ctrlKey==evt.ctrlKey)&&(_3b5.altKey===undefined||_3b5.altKey==evt.altKey)&&(_3b5.metaKey===undefined||_3b5.metaKey==(evt.metaKey||false))&&(_3b5.shiftKey===undefined||_3b5.shiftKey==evt.shiftKey)){
dojo.stopEvent(evt);
dijit.typematic.trigger(evt,_3b6,node,_3b7,_3b5,_3b8,_3b9,_3ba);
}else{
if(dijit.typematic._obj==_3b5){
dijit.typematic.stop();
}
}
}),dojo.connect(node,"onkeyup",this,function(evt){
if(dijit.typematic._obj==_3b5){
dijit.typematic.stop();
}
})];
},addMouseListener:function(node,_3bb,_3bc,_3bd,_3be,_3bf){
var dc=dojo.connect;
return [dc(node,"mousedown",this,function(evt){
dojo.stopEvent(evt);
dijit.typematic.trigger(evt,_3bb,node,_3bc,node,_3bd,_3be,_3bf);
}),dc(node,"mouseup",this,function(evt){
dojo.stopEvent(evt);
dijit.typematic.stop();
}),dc(node,"mouseout",this,function(evt){
dojo.stopEvent(evt);
dijit.typematic.stop();
}),dc(node,"mousemove",this,function(evt){
evt.preventDefault();
}),dc(node,"dblclick",this,function(evt){
dojo.stopEvent(evt);
if(dojo.isIE){
dijit.typematic.trigger(evt,_3bb,node,_3bc,node,_3bd,_3be,_3bf);
setTimeout(dojo.hitch(this,dijit.typematic.stop),50);
}
})];
},addListener:function(_3c0,_3c1,_3c2,_3c3,_3c4,_3c5,_3c6,_3c7){
return this.addKeyListener(_3c1,_3c2,_3c3,_3c4,_3c5,_3c6,_3c7).concat(this.addMouseListener(_3c0,_3c3,_3c4,_3c5,_3c6,_3c7));
}};
}
if(!dojo._hasResource["dijit._base.wai"]){
dojo._hasResource["dijit._base.wai"]=true;
dojo.provide("dijit._base.wai");
dijit.wai={onload:function(){
var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());
var cs=dojo.getComputedStyle(div);
if(cs){
var _3c8=cs.backgroundImage;
var _3c9=(cs.borderTopColor==cs.borderRightColor)||(_3c8!=null&&(_3c8=="none"||_3c8=="url(invalid-url:)"));
dojo[_3c9?"addClass":"removeClass"](dojo.body(),"dijit_a11y");
if(dojo.isIE){
div.outerHTML="";
}else{
dojo.body().removeChild(div);
}
}
}};
if(dojo.isIE||dojo.isMoz){
dojo._loaders.unshift(dijit.wai.onload);
}
dojo.mixin(dijit,{hasWaiRole:function(elem,role){
var _3ca=this.getWaiRole(elem);
return role?(_3ca.indexOf(role)>-1):(_3ca.length>0);
},getWaiRole:function(elem){
return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));
},setWaiRole:function(elem,role){
dojo.attr(elem,"role",role);
},removeWaiRole:function(elem,role){
var _3cb=dojo.attr(elem,"role");
if(!_3cb){
return;
}
if(role){
var t=dojo.trim((" "+_3cb+" ").replace(" "+role+" "," "));
dojo.attr(elem,"role",t);
}else{
elem.removeAttribute("role");
}
},hasWaiState:function(elem,_3cc){
return elem.hasAttribute?elem.hasAttribute("aria-"+_3cc):!!elem.getAttribute("aria-"+_3cc);
},getWaiState:function(elem,_3cd){
return elem.getAttribute("aria-"+_3cd)||"";
},setWaiState:function(elem,_3ce,_3cf){
elem.setAttribute("aria-"+_3ce,_3cf);
},removeWaiState:function(elem,_3d0){
elem.removeAttribute("aria-"+_3d0);
}});
}
if(!dojo._hasResource["dijit._base"]){
dojo._hasResource["dijit._base"]=true;
dojo.provide("dijit._base");
}
if(!dojo._hasResource["dijit._Widget"]){
dojo._hasResource["dijit._Widget"]=true;
dojo.provide("dijit._Widget");
dojo.connect(dojo,"_connect",function(_3d1,_3d2){
if(_3d1&&dojo.isFunction(_3d1._onConnect)){
_3d1._onConnect(_3d2);
}
});
dijit._connectOnUseEventHandler=function(_3d3){
};
dijit._lastKeyDownNode=null;
if(dojo.isIE){
(function(){
var _3d4=function(evt){
dijit._lastKeyDownNode=evt.srcElement;
};
dojo.doc.attachEvent("onkeydown",_3d4);
dojo.addOnWindowUnload(function(){
dojo.doc.detachEvent("onkeydown",_3d4);
});
})();
}else{
dojo.doc.addEventListener("keydown",function(evt){
dijit._lastKeyDownNode=evt.target;
},true);
}
(function(){
dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_3d5,_3d6){
this._deferredConnects=dojo.clone(this._deferredConnects);
for(var attr in this.attributeMap){
delete this._deferredConnects[attr];
}
for(attr in this._deferredConnects){
if(this[attr]!==dijit._connectOnUseEventHandler){
delete this._deferredConnects[attr];
}
}
this.inherited(arguments);
if(this.domNode){
for(attr in this.params){
this._onConnect(attr);
}
}
},_onConnect:function(_3d7){
if(_3d7 in this._deferredConnects){
var _3d8=this[this._deferredConnects[_3d7]||"domNode"];
this.connect(_3d8,_3d7.toLowerCase(),_3d7);
delete this._deferredConnects[_3d7];
}
},focused:false,isFocusable:function(){
return this.focus&&(dojo.style(this.domNode,"display")!="none");
},onFocus:function(){
},onBlur:function(){
},_onFocus:function(e){
this.onFocus();
},_onBlur:function(){
this.onBlur();
},setAttribute:function(attr,_3d9){
dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");
this.set(attr,_3d9);
},attr:function(name,_3da){
if(dojo.config.isDebug){
var _3db=arguments.callee._ach||(arguments.callee._ach={}),_3dc=(arguments.callee.caller||"unknown caller").toString();
if(!_3db[_3dc]){
dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_3dc,"","2.0");
_3db[_3dc]=true;
}
}
var args=arguments.length;
if(args>=2||typeof name==="object"){
return this.set.apply(this,arguments);
}else{
return this.get(name);
}
},nodesWithKeyClick:["input","button"],connect:function(obj,_3dd,_3de){
var d=dojo,dc=d._connect,_3df=this.inherited(arguments,[obj,_3dd=="ondijitclick"?"onclick":_3dd,_3de]);
if(_3dd=="ondijitclick"){
if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){
var m=d.hitch(this,_3de);
_3df.push(dc(obj,"onkeydown",this,function(e){
if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){
dijit._lastKeyDownNode=e.target;
if(!("openDropDown" in this&&obj==this._buttonNode)){
e.preventDefault();
}
}
}),dc(obj,"onkeyup",this,function(e){
if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){
dijit._lastKeyDownNode=null;
return m(e);
}
}));
}
}
return _3df;
},_onShow:function(){
this.onShow();
},onShow:function(){
},onHide:function(){
},onClose:function(){
return true;
}});
})();
}
if(!dojo._hasResource["dojo.string"]){
dojo._hasResource["dojo.string"]=true;
dojo.provide("dojo.string");
dojo.getObject("string",true,dojo);
dojo.string.rep=function(str,num){
if(num<=0||!str){
return "";
}
var buf=[];
for(;;){
if(num&1){
buf.push(str);
}
if(!(num>>=1)){
break;
}
str+=str;
}
return buf.join("");
};
dojo.string.pad=function(text,size,ch,end){
if(!ch){
ch="0";
}
var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));
return end?out+pad:pad+out;
};
dojo.string.substitute=function(_3e0,map,_3e1,_3e2){
_3e2=_3e2||dojo.global;
_3e1=_3e1?dojo.hitch(_3e2,_3e1):function(v){
return v;
};
return _3e0.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_3e3,key,_3e4){
var _3e5=dojo.getObject(key,false,map);
if(_3e4){
_3e5=dojo.getObject(_3e4,false,_3e2).call(_3e2,_3e5,key);
}
return _3e1(_3e5,key).toString();
});
};
dojo.string.trim=String.prototype.trim?dojo.trim:function(str){
str=str.replace(/^\s+/,"");
for(var i=str.length-1;i>=0;i--){
if(/\S/.test(str.charAt(i))){
str=str.substring(0,i+1);
break;
}
}
return str;
};
}
if(!dojo._hasResource["dojo.date.stamp"]){
dojo._hasResource["dojo.date.stamp"]=true;
dojo.provide("dojo.date.stamp");
dojo.getObject("date.stamp",true,dojo);
dojo.date.stamp.fromISOString=function(_3e6,_3e7){
if(!dojo.date.stamp._isoRegExp){
dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
}
var _3e8=dojo.date.stamp._isoRegExp.exec(_3e6),_3e9=null;
if(_3e8){
_3e8.shift();
if(_3e8[1]){
_3e8[1]--;
}
if(_3e8[6]){
_3e8[6]*=1000;
}
if(_3e7){
_3e7=new Date(_3e7);
dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){
return _3e7["get"+prop]();
}),function(_3ea,_3eb){
_3e8[_3eb]=_3e8[_3eb]||_3ea;
});
}
_3e9=new Date(_3e8[0]||1970,_3e8[1]||0,_3e8[2]||1,_3e8[3]||0,_3e8[4]||0,_3e8[5]||0,_3e8[6]||0);
if(_3e8[0]<100){
_3e9.setFullYear(_3e8[0]||1970);
}
var _3ec=0,_3ed=_3e8[7]&&_3e8[7].charAt(0);
if(_3ed!="Z"){
_3ec=((_3e8[8]||0)*60)+(Number(_3e8[9])||0);
if(_3ed!="-"){
_3ec*=-1;
}
}
if(_3ed){
_3ec-=_3e9.getTimezoneOffset();
}
if(_3ec){
_3e9.setTime(_3e9.getTime()+_3ec*60000);
}
}
return _3e9;
};
dojo.date.stamp.toISOString=function(_3ee,_3ef){
var _3f0=function(n){
return (n<10)?"0"+n:n;
};
_3ef=_3ef||{};
var _3f1=[],_3f2=_3ef.zulu?"getUTC":"get",date="";
if(_3ef.selector!="time"){
var year=_3ee[_3f2+"FullYear"]();
date=["0000".substr((year+"").length)+year,_3f0(_3ee[_3f2+"Month"]()+1),_3f0(_3ee[_3f2+"Date"]())].join("-");
}
_3f1.push(date);
if(_3ef.selector!="date"){
var time=[_3f0(_3ee[_3f2+"Hours"]()),_3f0(_3ee[_3f2+"Minutes"]()),_3f0(_3ee[_3f2+"Seconds"]())].join(":");
var _3f3=_3ee[_3f2+"Milliseconds"]();
if(_3ef.milliseconds){
time+="."+(_3f3<100?"0":"")+_3f0(_3f3);
}
if(_3ef.zulu){
time+="Z";
}else{
if(_3ef.selector!="time"){
var _3f4=_3ee.getTimezoneOffset();
var _3f5=Math.abs(_3f4);
time+=(_3f4>0?"-":"+")+_3f0(Math.floor(_3f5/60))+":"+_3f0(_3f5%60);
}
}
_3f1.push(time);
}
return _3f1.join("T");
};
}
if(!dojo._hasResource["dojo.parser"]){
dojo._hasResource["dojo.parser"]=true;
dojo.provide("dojo.parser");
new Date("X");
dojo.parser=new function(){
var d=dojo;
function _3f6(_3f7){
if(d.isString(_3f7)){
return "string";
}
if(typeof _3f7=="number"){
return "number";
}
if(typeof _3f7=="boolean"){
return "boolean";
}
if(d.isFunction(_3f7)){
return "function";
}
if(d.isArray(_3f7)){
return "array";
}
if(_3f7 instanceof Date){
return "date";
}
if(_3f7 instanceof d._Url){
return "url";
}
return "object";
};
function _3f8(_3f9,type){
switch(type){
case "string":
return _3f9;
case "number":
return _3f9.length?Number(_3f9):NaN;
case "boolean":
return typeof _3f9=="boolean"?_3f9:!(_3f9.toLowerCase()=="false");
case "function":
if(d.isFunction(_3f9)){
_3f9=_3f9.toString();
_3f9=d.trim(_3f9.substring(_3f9.indexOf("{")+1,_3f9.length-1));
}
try{
if(_3f9===""||_3f9.search(/[^\w\.]+/i)!=-1){
return new Function(_3f9);
}else{
return d.getObject(_3f9,false)||new Function(_3f9);
}
}
catch(e){
return new Function();
}
case "array":
return _3f9?_3f9.split(/\s*,\s*/):[];
case "date":
switch(_3f9){
case "":
return new Date("");
case "now":
return new Date();
default:
return d.date.stamp.fromISOString(_3f9);
}
case "url":
return d.baseUrl+_3f9;
default:
return d.fromJson(_3f9);
}
};
var _3fa={},_3fb={};
d.connect(d,"extend",function(){
_3fb={};
});
function _3fc(cls,_3fd){
for(var name in cls){
if(name.charAt(0)=="_"){
continue;
}
if(name in _3fa){
continue;
}
_3fd[name]=_3f6(cls[name]);
}
return _3fd;
};
function _3fe(_3ff,_400){
var c=_3fb[_3ff];
if(!c){
var cls=d.getObject(_3ff),_401=null;
if(!cls){
return null;
}
if(!_400){
_401=_3fc(cls.prototype,{});
}
c={cls:cls,params:_401};
}else{
if(!_400&&!c.params){
c.params=_3fc(c.cls.prototype,{});
}
}
return c;
};
this._functionFromScript=function(_402,_403){
var _404="";
var _405="";
var _406=(_402.getAttribute(_403+"args")||_402.getAttribute("args"));
if(_406){
d.forEach(_406.split(/\s*,\s*/),function(part,idx){
_404+="var "+part+" = arguments["+idx+"]; ";
});
}
var _407=_402.getAttribute("with");
if(_407&&_407.length){
d.forEach(_407.split(/\s*,\s*/),function(part){
_404+="with("+part+"){";
_405+="}";
});
}
return new Function(_404+_402.innerHTML+_405);
};
this.instantiate=function(_408,_409,args){
var _40a=[],_409=_409||{};
args=args||{};
var _40b=(args.scope||d._scopeName)+"Type",_40c="data-"+(args.scope||d._scopeName)+"-";
d.forEach(_408,function(obj){
if(!obj){
return;
}
var node,type,_40d,_40e,_40f,_410;
if(obj.node){
node=obj.node;
type=obj.type;
_410=obj.fastpath;
_40d=obj.clsInfo||(type&&_3fe(type,_410));
_40e=_40d&&_40d.cls;
_40f=obj.scripts;
}else{
node=obj;
type=_40b in _409?_409[_40b]:node.getAttribute(_40b);
_40d=type&&_3fe(type);
_40e=_40d&&_40d.cls;
_40f=(_40e&&(_40e._noScript||_40e.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));
}
if(!_40d){
throw new Error("Could not load class '"+type);
}
var _411={};
if(args.defaults){
d._mixin(_411,args.defaults);
}
if(obj.inherited){
d._mixin(_411,obj.inherited);
}
if(_410){
var _412=node.getAttribute(_40c+"props");
if(_412&&_412.length){
try{
_412=d.fromJson.call(args.propsThis,"{"+_412+"}");
d._mixin(_411,_412);
}
catch(e){
throw new Error(e.toString()+" in data-dojo-props='"+_412+"'");
}
}
var _413=node.getAttribute(_40c+"attach-point");
if(_413){
_411.dojoAttachPoint=_413;
}
var _414=node.getAttribute(_40c+"attach-event");
if(_414){
_411.dojoAttachEvent=_414;
}
dojo.mixin(_411,_409);
}else{
var _415=node.attributes;
for(var name in _40d.params){
var item=name in _409?{value:_409[name],specified:true}:_415.getNamedItem(name);
if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){
continue;
}
var _416=item.value;
switch(name){
case "class":
_416="className" in _409?_409.className:node.className;
break;
case "style":
_416="style" in _409?_409.style:(node.style&&node.style.cssText);
}
var _417=_40d.params[name];
if(typeof _416=="string"){
_411[name]=_3f8(_416,_417);
}else{
_411[name]=_416;
}
}
}
var _418=[],_419=[];
d.forEach(_40f,function(_41a){
node.removeChild(_41a);
var _41b=(_41a.getAttribute(_40c+"event")||_41a.getAttribute("event")),type=_41a.getAttribute("type"),nf=d.parser._functionFromScript(_41a,_40c);
if(_41b){
if(type=="dojo/connect"){
_418.push({event:_41b,func:nf});
}else{
_411[_41b]=nf;
}
}else{
_419.push(nf);
}
});
var _41c=_40e.markupFactory||_40e.prototype&&_40e.prototype.markupFactory;
var _41d=_41c?_41c(_411,node,_40e):new _40e(_411,node);
_40a.push(_41d);
var _41e=(node.getAttribute(_40c+"id")||node.getAttribute("jsId"));
if(_41e){
d.setObject(_41e,_41d);
}
d.forEach(_418,function(_41f){
d.connect(_41d,_41f.event,null,_41f.func);
});
d.forEach(_419,function(func){
func.call(_41d);
});
});
if(!_409._started){
d.forEach(_40a,function(_420){
if(!args.noStart&&_420&&dojo.isFunction(_420.startup)&&!_420._started&&(!_420.getParent||!_420.getParent())){
_420.startup();
}
});
}
return _40a;
};
this.parse=function(_421,args){
var root;
if(!args&&_421&&_421.rootNode){
args=_421;
root=args.rootNode;
}else{
root=_421;
}
args=args||{};
var _422=(args.scope||d._scopeName)+"Type",_423="data-"+(args.scope||d._scopeName)+"-";
function scan(_424,list){
var _425=dojo.clone(_424.inherited);
dojo.forEach(["dir","lang"],function(name){
var val=_424.node.getAttribute(name);
if(val){
_425[name]=val;
}
});
var _426=_424.clsInfo&&!_424.clsInfo.cls.prototype._noScript?_424.scripts:null;
var _427=(!_424.clsInfo||!_424.clsInfo.cls.prototype.stopParser)||(args&&args.template);
for(var _428=_424.node.firstChild;_428;_428=_428.nextSibling){
if(_428.nodeType==1){
var type,_429=_427&&_428.getAttribute(_423+"type");
if(_429){
type=_429;
}else{
type=_427&&_428.getAttribute(_422);
}
var _42a=_429==type;
if(type){
var _42b={"type":type,fastpath:_42a,clsInfo:_3fe(type,_42a),node:_428,scripts:[],inherited:_425};
list.push(_42b);
scan(_42b,list);
}else{
if(_426&&_428.nodeName.toLowerCase()=="script"){
type=_428.getAttribute("type");
if(type&&/^dojo\/\w/i.test(type)){
_426.push(_428);
}
}else{
if(_427){
scan({node:_428,inherited:_425},list);
}
}
}
}
}
};
var list=[];
scan({node:root?dojo.byId(root):dojo.body(),inherited:(args&&args.inherited)||{dir:dojo._isBodyLtr()?"ltr":"rtl"}},list);
var _42c=args&&args.template?{template:true}:null;
return this.instantiate(list,_42c,args);
};
}();
(function(){
var _42d=function(){
if(dojo.config.parseOnLoad){
dojo.parser.parse();
}
};
if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){
dojo._loaders.splice(1,0,_42d);
}else{
dojo._loaders.unshift(_42d);
}
})();
}
if(!dojo._hasResource["dojo.cache"]){
dojo._hasResource["dojo.cache"]=true;
dojo.provide("dojo.cache");
var _42e={};
dojo.cache=function(_42f,url,_430){
if(typeof _42f=="string"){
var _431=dojo.moduleUrl(_42f,url);
}else{
_431=_42f;
_430=url;
}
var key=_431.toString();
var val=_430;
if(_430!=undefined&&!dojo.isString(_430)){
val=("value" in _430?_430.value:undefined);
}
var _432=_430&&_430.sanitize?true:false;
if(typeof val=="string"){
val=_42e[key]=_432?dojo.cache._sanitize(val):val;
}else{
if(val===null){
delete _42e[key];
}else{
if(!(key in _42e)){
val=dojo._getText(key);
_42e[key]=_432?dojo.cache._sanitize(val):val;
}
val=_42e[key];
}
}
return val;
};
dojo.cache._sanitize=function(val){
if(val){
val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");
var _433=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_433){
val=_433[1];
}
}else{
val="";
}
return val;
};
}
if(!dojo._hasResource["dijit._Templated"]){
dojo._hasResource["dijit._Templated"]=true;
dojo.provide("dijit._Templated");
dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){
this._attachPoints=[];
this._attachEvents=[];
},_stringRepl:function(tmpl){
var _434=this.declaredClass,_435=this;
return dojo.string.substitute(tmpl,this,function(_436,key){
if(key.charAt(0)=="!"){
_436=dojo.getObject(key.substr(1),false,_435);
}
if(typeof _436=="undefined"){
throw new Error(_434+" template:"+key);
}
if(_436==null){
return "";
}
return key.charAt(0)=="!"?_436:_436.toString().replace(/"/g,"&quot;");
},this);
},buildRendering:function(){
var _437=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);
var node;
if(dojo.isString(_437)){
node=dojo._toDom(this._stringRepl(_437));
if(node.nodeType!=1){
throw new Error("Invalid template: "+_437);
}
}else{
node=_437.cloneNode(true);
}
this.domNode=node;
this.inherited(arguments);
this._attachTemplateNodes(node);
if(this.widgetsInTemplate){
var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));
this._supportingWidgets=dijit.findWidgets(node);
this._attachTemplateNodes(cw,function(n,p){
return n[p];
});
}
this._fillContent(this.srcNodeRef);
},_fillContent:function(_438){
var dest=this.containerNode;
if(_438&&dest){
while(_438.hasChildNodes()){
dest.appendChild(_438.firstChild);
}
}
},_attachTemplateNodes:function(_439,_43a){
_43a=_43a||function(n,p){
return n.getAttribute(p);
};
var _43b=dojo.isArray(_439)?_439:(_439.all||_439.getElementsByTagName("*"));
var x=dojo.isArray(_439)?0:-1;
for(;x<_43b.length;x++){
var _43c=(x==-1)?_439:_43b[x];
if(this.widgetsInTemplate&&(_43a(_43c,"dojoType")||_43a(_43c,"data-dojo-type"))){
continue;
}
var _43d=_43a(_43c,"dojoAttachPoint")||_43a(_43c,"data-dojo-attach-point");
if(_43d){
var _43e,_43f=_43d.split(/\s*,\s*/);
while((_43e=_43f.shift())){
if(dojo.isArray(this[_43e])){
this[_43e].push(_43c);
}else{
this[_43e]=_43c;
}
this._attachPoints.push(_43e);
}
}
var _440=_43a(_43c,"dojoAttachEvent")||_43a(_43c,"data-dojo-attach-event");
if(_440){
var _441,_442=_440.split(/\s*,\s*/);
var trim=dojo.trim;
while((_441=_442.shift())){
if(_441){
var _443=null;
if(_441.indexOf(":")!=-1){
var _444=_441.split(":");
_441=trim(_444[0]);
_443=trim(_444[1]);
}else{
_441=trim(_441);
}
if(!_443){
_443=_441;
}
this._attachEvents.push(this.connect(_43c,_441,_443));
}
}
}
var role=_43a(_43c,"waiRole");
if(role){
dijit.setWaiRole(_43c,role);
}
var _445=_43a(_43c,"waiState");
if(_445){
dojo.forEach(_445.split(/\s*,\s*/),function(_446){
if(_446.indexOf("-")!=-1){
var pair=_446.split("-");
dijit.setWaiState(_43c,pair[0],pair[1]);
}
});
}
}
},startup:function(){
dojo.forEach(this._startupWidgets,function(w){
if(w&&!w._started&&w.startup){
w.startup();
}
});
this.inherited(arguments);
},destroyRendering:function(){
dojo.forEach(this._attachPoints,function(_447){
delete this[_447];
},this);
this._attachPoints=[];
dojo.forEach(this._attachEvents,this.disconnect,this);
this._attachEvents=[];
this.inherited(arguments);
}});
dijit._Templated._templateCache={};
dijit._Templated.getCachedTemplate=function(_448,_449,_44a){
var _44b=dijit._Templated._templateCache;
var key=_449||_448;
var _44c=_44b[key];
if(_44c){
try{
if(!_44c.ownerDocument||_44c.ownerDocument==dojo.doc){
return _44c;
}
}
catch(e){
}
dojo.destroy(_44c);
}
if(!_449){
_449=dojo.cache(_448,{sanitize:true});
}
_449=dojo.string.trim(_449);
if(_44a||_449.match(/\$\{([^\}]+)\}/g)){
return (_44b[key]=_449);
}else{
var node=dojo._toDom(_449);
if(node.nodeType!=1){
throw new Error("Invalid template: "+_449);
}
return (_44b[key]=node);
}
};
if(dojo.isIE){
dojo.addOnWindowUnload(function(){
var _44d=dijit._Templated._templateCache;
for(var key in _44d){
var _44e=_44d[key];
if(typeof _44e=="object"){
dojo.destroy(_44e);
}
delete _44d[key];
}
});
}
dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});
}
if(!dojo._hasResource["dijit._CssStateMixin"]){
dojo._hasResource["dijit._CssStateMixin"]=true;
dojo.provide("dijit._CssStateMixin");
dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){
this.inherited(arguments);
dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){
this.connect(this.domNode,e,"_cssMouseEvent");
},this);
dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){
this.watch(attr,dojo.hitch(this,"_setStateClass"));
},this);
for(var ap in this.cssStateNodes){
this._trackMouseState(this[ap],this.cssStateNodes[ap]);
}
this._setStateClass();
},_cssMouseEvent:function(_44f){
if(!this.disabled){
switch(_44f.type){
case "mouseenter":
case "mouseover":
this._set("hovering",true);
this._set("active",this._mouseDown);
break;
case "mouseleave":
case "mouseout":
this._set("hovering",false);
this._set("active",false);
break;
case "mousedown":
this._set("active",true);
this._mouseDown=true;
var _450=this.connect(dojo.body(),"onmouseup",function(){
this._mouseDown=false;
this._set("active",false);
this.disconnect(_450);
});
break;
}
}
},_setStateClass:function(){
var _451=this.baseClass.split(" ");
function _452(_453){
_451=_451.concat(dojo.map(_451,function(c){
return c+_453;
}),"dijit"+_453);
};
if(!this.isLeftToRight()){
_452("Rtl");
}
if(this.checked){
_452("Checked");
}
if(this.state){
_452(this.state);
}
if(this.selected){
_452("Selected");
}
if(this.disabled){
_452("Disabled");
}else{
if(this.readOnly){
_452("ReadOnly");
}else{
if(this.active){
_452("Active");
}else{
if(this.hovering){
_452("Hover");
}
}
}
}
if(this._focused){
_452("Focused");
}
var tn=this.stateNode||this.domNode,_454={};
dojo.forEach(tn.className.split(" "),function(c){
_454[c]=true;
});
if("_stateClasses" in this){
dojo.forEach(this._stateClasses,function(c){
delete _454[c];
});
}
dojo.forEach(_451,function(c){
_454[c]=true;
});
var _455=[];
for(var c in _454){
_455.push(c);
}
tn.className=_455.join(" ");
this._stateClasses=_451;
},_trackMouseState:function(node,_456){
var _457=false,_458=false,_459=false;
var self=this,cn=dojo.hitch(this,"connect",node);
function _45a(){
var _45b=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);
dojo.toggleClass(node,_456+"Hover",_457&&!_458&&!_45b);
dojo.toggleClass(node,_456+"Active",_458&&!_45b);
dojo.toggleClass(node,_456+"Focused",_459&&!_45b);
};
cn("onmouseenter",function(){
_457=true;
_45a();
});
cn("onmouseleave",function(){
_457=false;
_458=false;
_45a();
});
cn("onmousedown",function(){
_458=true;
_45a();
});
cn("onmouseup",function(){
_458=false;
_45a();
});
cn("onfocus",function(){
_459=true;
_45a();
});
cn("onblur",function(){
_459=false;
_45a();
});
this.watch("disabled",_45a);
this.watch("readOnly",_45a);
}});
}
if(!dojo._hasResource["dijit.form._FormMixin"]){
dojo._hasResource["dijit.form._FormMixin"]=true;
dojo.provide("dijit.form._FormMixin");
dojo.declare("dijit.form._FormMixin",null,{state:"",reset:function(){
dojo.forEach(this.getDescendants(),function(_45c){
if(_45c.reset){
_45c.reset();
}
});
},validate:function(){
var _45d=false;
return dojo.every(dojo.map(this.getDescendants(),function(_45e){
_45e._hasBeenBlurred=true;
var _45f=_45e.disabled||!_45e.validate||_45e.validate();
if(!_45f&&!_45d){
dojo.window.scrollIntoView(_45e.containerNode||_45e.domNode);
_45e.focus();
_45d=true;
}
return _45f;
}),function(item){
return item;
});
},setValues:function(val){
dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",val);
},_setValueAttr:function(obj){
var map={};
dojo.forEach(this.getDescendants(),function(_460){
if(!_460.name){
return;
}
var _461=map[_460.name]||(map[_460.name]=[]);
_461.push(_460);
});
for(var name in map){
if(!map.hasOwnProperty(name)){
continue;
}
var _462=map[name],_463=dojo.getObject(name,false,obj);
if(_463===undefined){
continue;
}
if(!dojo.isArray(_463)){
_463=[_463];
}
if(typeof _462[0].checked=="boolean"){
dojo.forEach(_462,function(w,i){
w.set("value",dojo.indexOf(_463,w.value)!=-1);
});
}else{
if(_462[0].multiple){
_462[0].set("value",_463);
}else{
dojo.forEach(_462,function(w,i){
w.set("value",_463[i]);
});
}
}
}
},getValues:function(){
dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},_getValueAttr:function(){
var obj={};
dojo.forEach(this.getDescendants(),function(_464){
var name=_464.name;
if(!name||_464.disabled){
return;
}
var _465=_464.get("value");
if(typeof _464.checked=="boolean"){
if(/Radio/.test(_464.declaredClass)){
if(_465!==false){
dojo.setObject(name,_465,obj);
}else{
_465=dojo.getObject(name,false,obj);
if(_465===undefined){
dojo.setObject(name,null,obj);
}
}
}else{
var ary=dojo.getObject(name,false,obj);
if(!ary){
ary=[];
dojo.setObject(name,ary,obj);
}
if(_465!==false){
ary.push(_465);
}
}
}else{
var prev=dojo.getObject(name,false,obj);
if(typeof prev!="undefined"){
if(dojo.isArray(prev)){
prev.push(_465);
}else{
dojo.setObject(name,[prev,_465],obj);
}
}else{
dojo.setObject(name,_465,obj);
}
}
});
return obj;
},isValid:function(){
return this.state=="";
},onValidStateChange:function(_466){
},_getState:function(){
var _467=dojo.map(this._descendants,function(w){
return w.get("state")||"";
});
return dojo.indexOf(_467,"Error")>=0?"Error":dojo.indexOf(_467,"Incomplete")>=0?"Incomplete":"";
},disconnectChildren:function(){
dojo.forEach(this._childConnections||[],dojo.hitch(this,"disconnect"));
dojo.forEach(this._childWatches||[],function(w){
w.unwatch();
});
},connectChildren:function(_468){
var _469=this;
this.disconnectChildren();
this._descendants=this.getDescendants();
var set=_468?function(name,val){
_469[name]=val;
}:dojo.hitch(this,"_set");
set("value",this.get("value"));
set("state",this._getState());
var _46a=(this._childConnections=[]),_46b=(this._childWatches=[]);
dojo.forEach(dojo.filter(this._descendants,function(item){
return item.validate;
}),function(_46c){
dojo.forEach(["state","disabled"],function(attr){
_46b.push(_46c.watch(attr,function(attr,_46d,_46e){
_469.set("state",_469._getState());
}));
});
});
var _46f=function(){
if(_469._onChangeDelayTimer){
clearTimeout(_469._onChangeDelayTimer);
}
_469._onChangeDelayTimer=setTimeout(function(){
delete _469._onChangeDelayTimer;
_469._set("value",_469.get("value"));
},10);
};
dojo.forEach(dojo.filter(this._descendants,function(item){
return item.onChange;
}),function(_470){
_46a.push(_469.connect(_470,"onChange",_46f));
_46b.push(_470.watch("disabled",_46f));
});
},startup:function(){
this.inherited(arguments);
this.connectChildren(true);
this.watch("state",function(attr,_471,_472){
this.onValidStateChange(_472=="");
});
},destroy:function(){
this.disconnectChildren();
this.inherited(arguments);
}});
}
if(!dojo._hasResource["dijit._DialogMixin"]){
dojo._hasResource["dijit._DialogMixin"]=true;
dojo.provide("dijit._DialogMixin");
dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(_473){
},onCancel:function(){
},onExecute:function(){
},_onSubmit:function(){
this.onExecute();
this.execute(this.get("value"));
},_getFocusItems:function(){
var _474=dijit._getTabNavigable(this.containerNode);
this._firstFocusItem=_474.lowest||_474.first||this.closeButtonNode||this.domNode;
this._lastFocusItem=_474.last||_474.highest||this._firstFocusItem;
}});
}
if(!dojo._hasResource["dijit.DialogUnderlay"]){
dojo._hasResource["dijit.DialogUnderlay"]=true;
dojo.provide("dijit.DialogUnderlay");
dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(id){
dojo.attr(this.node,"id",id+"_underlay");
this._set("dialogId",id);
},_setClassAttr:function(_475){
this.node.className="dijitDialogUnderlay "+_475;
this._set("class",_475);
},postCreate:function(){
dojo.body().appendChild(this.domNode);
},layout:function(){
var is=this.node.style,os=this.domNode.style;
os.display="none";
var _476=dojo.window.getBox();
os.top=_476.t+"px";
os.left=_476.l+"px";
is.width=_476.w+"px";
is.height=_476.h+"px";
os.display="block";
},show:function(){
this.domNode.style.display="block";
this.layout();
this.bgIframe=new dijit.BackgroundIframe(this.domNode);
},hide:function(){
this.bgIframe.destroy();
delete this.bgIframe;
this.domNode.style.display="none";
}});
}
if(!dojo._hasResource["dijit._Container"]){
dojo._hasResource["dijit._Container"]=true;
dojo.provide("dijit._Container");
dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
},addChild:function(_477,_478){
var _479=this.containerNode;
if(_478&&typeof _478=="number"){
var _47a=this.getChildren();
if(_47a&&_47a.length>=_478){
_479=_47a[_478-1].domNode;
_478="after";
}
}
dojo.place(_477.domNode,_479,_478);
if(this._started&&!_477._started){
_477.startup();
}
},removeChild:function(_47b){
if(typeof _47b=="number"){
_47b=this.getChildren()[_47b];
}
if(_47b){
var node=_47b.domNode;
if(node&&node.parentNode){
node.parentNode.removeChild(node);
}
}
},hasChildren:function(){
return this.getChildren().length>0;
},destroyDescendants:function(_47c){
dojo.forEach(this.getChildren(),function(_47d){
_47d.destroyRecursive(_47c);
});
},_getSiblingOfChild:function(_47e,dir){
var node=_47e.domNode,_47f=(dir>0?"nextSibling":"previousSibling");
do{
node=node[_47f];
}while(node&&(node.nodeType!=1||!dijit.byNode(node)));
return node&&dijit.byNode(node);
},getIndexOfChild:function(_480){
return dojo.indexOf(this.getChildren(),_480);
},startup:function(){
if(this._started){
return;
}
dojo.forEach(this.getChildren(),function(_481){
_481.startup();
});
this.inherited(arguments);
}});
}
if(!dojo._hasResource["dijit._Contained"]){
dojo._hasResource["dijit._Contained"]=true;
dojo.provide("dijit._Contained");
dojo.declare("dijit._Contained",null,{getParent:function(){
var _482=dijit.getEnclosingWidget(this.domNode.parentNode);
return _482&&_482.isContainer?_482:null;
},_getSibling:function(_483){
var node=this.domNode;
do{
node=node[_483+"Sibling"];
}while(node&&node.nodeType!=1);
return node&&dijit.byNode(node);
},getPreviousSibling:function(){
return this._getSibling("previous");
},getNextSibling:function(){
return this._getSibling("next");
},getIndexInParent:function(){
var p=this.getParent();
if(!p||!p.getIndexOfChild){
return -1;
}
return p.getIndexOfChild(this);
}});
}
if(!dojo._hasResource["dijit.layout._LayoutWidget"]){
dojo._hasResource["dijit.layout._LayoutWidget"]=true;
dojo.provide("dijit.layout._LayoutWidget");
dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){
this.inherited(arguments);
dojo.addClass(this.domNode,"dijitContainer");
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
var _484=this.getParent&&this.getParent();
if(!(_484&&_484.isLayoutContainer)){
this.resize();
this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){
this.resize();
});
}
},resize:function(_485,_486){
var node=this.domNode;
if(_485){
dojo.marginBox(node,_485);
if(_485.t){
node.style.top=_485.t+"px";
}
if(_485.l){
node.style.left=_485.l+"px";
}
}
var mb=_486||{};
dojo.mixin(mb,_485||{});
if(!("h" in mb)||!("w" in mb)){
mb=dojo.mixin(dojo.marginBox(node),mb);
}
var cs=dojo.getComputedStyle(node);
var me=dojo._getMarginExtents(node,cs);
var be=dojo._getBorderExtents(node,cs);
var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});
var pe=dojo._getPadExtents(node,cs);
this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};
this.layout();
},layout:function(){
},_setupChild:function(_487){
var cls=this.baseClass+"-child "+(_487.baseClass?this.baseClass+"-"+_487.baseClass:"");
dojo.addClass(_487.domNode,cls);
},addChild:function(_488,_489){
this.inherited(arguments);
if(this._started){
this._setupChild(_488);
}
},removeChild:function(_48a){
var cls=this.baseClass+"-child"+(_48a.baseClass?" "+this.baseClass+"-"+_48a.baseClass:"");
dojo.removeClass(_48a.domNode,cls);
this.inherited(arguments);
}});
dijit.layout.marginBox2contentBox=function(node,mb){
var cs=dojo.getComputedStyle(node);
var me=dojo._getMarginExtents(node,cs);
var pb=dojo._getPadBorderExtents(node,cs);
return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};
};
(function(){
var _48b=function(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
};
var size=function(_48c,dim){
_48c.resize?_48c.resize(dim):dojo.marginBox(_48c.domNode,dim);
dojo.mixin(_48c,dojo.marginBox(_48c.domNode));
dojo.mixin(_48c,dim);
};
dijit.layout.layoutChildren=function(_48d,dim,_48e,_48f,_490){
dim=dojo.mixin({},dim);
dojo.addClass(_48d,"dijitLayoutContainer");
_48e=dojo.filter(_48e,function(item){
return item.region!="center"&&item.layoutAlign!="client";
}).concat(dojo.filter(_48e,function(item){
return item.region=="center"||item.layoutAlign=="client";
}));
dojo.forEach(_48e,function(_491){
var elm=_491.domNode,pos=(_491.region||_491.layoutAlign);
var _492=elm.style;
_492.left=dim.l+"px";
_492.top=dim.t+"px";
_492.bottom=_492.right="auto";
dojo.addClass(elm,"dijitAlign"+_48b(pos));
var _493={};
if(_48f&&_48f==_491.id){
_493[_491.region=="top"||_491.region=="bottom"?"h":"w"]=_490;
}
if(pos=="top"||pos=="bottom"){
_493.w=dim.w;
size(_491,_493);
dim.h-=_491.h;
if(pos=="top"){
dim.t+=_491.h;
}else{
_492.top=dim.t+dim.h+"px";
}
}else{
if(pos=="left"||pos=="right"){
_493.h=dim.h;
size(_491,_493);
dim.w-=_491.w;
if(pos=="left"){
dim.l+=_491.w;
}else{
_492.left=dim.l+dim.w+"px";
}
}else{
if(pos=="client"||pos=="center"){
size(_491,dim);
}
}
}
});
};
})();
}
if(!dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]){
dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]=true;
dojo.provide("dijit.layout._ContentPaneResizeMixin");
dojo.declare("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isContainer:true,isLayoutContainer:true,_startChildren:function(){
dojo.forEach(this.getChildren(),function(_494){
_494.startup();
_494._started=true;
});
},startup:function(){
if(this._started){
return;
}
var _495=dijit._Contained.prototype.getParent.call(this);
this._childOfLayoutWidget=_495&&_495.isLayoutContainer;
this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);
this._startChildren();
},_checkIfSingleChild:function(){
var _496=dojo.query("> *",this.containerNode).filter(function(node){
return node.tagName!=="SCRIPT";
}),_497=_496.filter(function(node){
return dojo.hasAttr(node,"data-dojo-type")||dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");
}),_498=dojo.filter(_497.map(dijit.byNode),function(_499){
return _499&&_499.domNode&&_499.resize;
});
if(_496.length==_497.length&&_498.length==1){
this._singleChild=_498[0];
}else{
delete this._singleChild;
}
dojo.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);
},resize:function(_49a,_49b){
this._layout(_49a,_49b);
},_layout:function(_49c,_49d){
if(_49c){
dojo.marginBox(this.domNode,_49c);
}
var cn=this.containerNode;
if(cn===this.domNode){
var mb=_49d||{};
dojo.mixin(mb,_49c||{});
if(!("h" in mb)||!("w" in mb)){
mb=dojo.mixin(dojo.marginBox(cn),mb);
}
this._contentBox=dijit.layout.marginBox2contentBox(cn,mb);
}else{
this._contentBox=dojo.contentBox(cn);
}
this._layoutChildren();
delete this._needLayout;
},_layoutChildren:function(){
if(this.doLayout){
this._checkIfSingleChild();
}
if(this._singleChild&&this._singleChild.resize){
var cb=this._contentBox||dojo.contentBox(this.containerNode);
this._singleChild.resize({w:cb.w,h:cb.h});
}else{
dojo.forEach(this.getChildren(),function(_49e){
if(_49e.resize){
_49e.resize();
}
});
}
}});
}
if(!dojo._hasResource["dojo.html"]){
dojo._hasResource["dojo.html"]=true;
dojo.provide("dojo.html");
dojo.getObject("html",true,dojo);
(function(){
var _49f=0,d=dojo;
dojo.html._secureForInnerHtml=function(cont){
return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");
};
dojo.html._emptyNode=dojo.empty;
dojo.html._setNodeContent=function(node,cont){
d.empty(node);
if(cont){
if(typeof cont=="string"){
cont=d._toDom(cont,node.ownerDocument);
}
if(!cont.nodeType&&d.isArrayLike(cont)){
for(var _4a0=cont.length,i=0;i<cont.length;i=_4a0==cont.length?i+1:0){
d.place(cont[i],node,"last");
}
}else{
d.place(cont,node,"last");
}
}
return node;
};
dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:dojo._scopeName,startup:true,constructor:function(_4a1,node){
dojo.mixin(this,_4a1||{});
node=this.node=dojo.byId(this.node||node);
if(!this.id){
this.id=["Setter",(node)?node.id||node.tagName:"",_49f++].join("_");
}
},set:function(cont,_4a2){
if(undefined!==cont){
this.content=cont;
}
if(_4a2){
this._mixin(_4a2);
}
this.onBegin();
this.setContent();
this.onEnd();
return this.node;
},setContent:function(){
var node=this.node;
if(!node){
throw new Error(this.declaredClass+": setContent given no node");
}
try{
node=dojo.html._setNodeContent(node,this.content);
}
catch(e){
var _4a3=this.onContentError(e);
try{
node.innerHTML=_4a3;
}
catch(e){
console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);
}
}
this.node=node;
},empty:function(){
if(this.parseResults&&this.parseResults.length){
dojo.forEach(this.parseResults,function(w){
if(w.destroy){
w.destroy();
}
});
delete this.parseResults;
}
dojo.html._emptyNode(this.node);
},onBegin:function(){
var cont=this.content;
if(dojo.isString(cont)){
if(this.cleanContent){
cont=dojo.html._secureForInnerHtml(cont);
}
if(this.extractContent){
var _4a4=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_4a4){
cont=_4a4[1];
}
}
}
this.empty();
this.content=cont;
return this.node;
},onEnd:function(){
if(this.parseContent){
this._parse();
}
return this.node;
},tearDown:function(){
delete this.parseResults;
delete this.node;
delete this.content;
},onContentError:function(err){
return "Error occured setting content: "+err;
},_mixin:function(_4a5){
var _4a6={},key;
for(key in _4a5){
if(key in _4a6){
continue;
}
this[key]=_4a5[key];
}
},_parse:function(){
var _4a7=this.node;
try{
this.parseResults=dojo.parser.parse({rootNode:_4a7,noStart:!this.startup,inherited:{dir:this.dir,lang:this.lang},scope:this.parserScope});
}
catch(e){
this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
}
},_onError:function(type,err,_4a8){
var _4a9=this["on"+type+"Error"].call(this,err);
if(_4a8){
console.error(_4a8,err);
}else{
if(_4a9){
dojo.html._setNodeContent(this.node,_4a9,true);
}
}
}});
dojo.html.set=function(node,cont,_4aa){
if(undefined==cont){
console.warn("dojo.html.set: no cont argument provided, using empty string");
cont="";
}
if(!_4aa){
return dojo.html._setNodeContent(node,cont,true);
}else{
var op=new dojo.html._ContentSetter(dojo.mixin(_4aa,{content:cont,node:node}));
return op.set();
}
};
})();
}
if(!dojo._hasResource["dojo.i18n"]){
dojo._hasResource["dojo.i18n"]=true;
dojo.provide("dojo.i18n");
dojo.getObject("i18n",true,dojo);
dojo.i18n.getLocalization=dojo.i18n.getLocalization||function(_4ab,_4ac,_4ad){
_4ad=dojo.i18n.normalizeLocale(_4ad);
var _4ae=_4ad.split("-");
var _4af=[_4ab,"nls",_4ac].join(".");
var _4b0=dojo._loadedModules[_4af];
if(_4b0){
var _4b1;
for(var i=_4ae.length;i>0;i--){
var loc=_4ae.slice(0,i).join("_");
if(_4b0[loc]){
_4b1=_4b0[loc];
break;
}
}
if(!_4b1){
_4b1=_4b0.ROOT;
}
if(_4b1){
var _4b2=function(){
};
_4b2.prototype=_4b1;
return new _4b2();
}
}
throw new Error("Bundle not found: "+_4ac+" in "+_4ab+" , locale="+_4ad);
};
dojo.i18n.normalizeLocale=function(_4b3){
var _4b4=_4b3?_4b3.toLowerCase():dojo.locale;
if(_4b4=="root"){
_4b4="ROOT";
}
return _4b4;
};
dojo.i18n._requireLocalization=function(_4b5,_4b6,_4b7,_4b8){
var _4b9=dojo.i18n.normalizeLocale(_4b7);
var _4ba=[_4b5,"nls",_4b6].join(".");
var _4bb="";
if(_4b8){
var _4bc=_4b8.split(",");
for(var i=0;i<_4bc.length;i++){
if(_4b9["indexOf"](_4bc[i])==0){
if(_4bc[i].length>_4bb.length){
_4bb=_4bc[i];
}
}
}
if(!_4bb){
_4bb="ROOT";
}
}
var _4bd=_4b8?_4bb:_4b9;
var _4be=dojo._loadedModules[_4ba];
var _4bf=null;
if(_4be){
if(dojo.config.localizationComplete&&_4be._built){
return;
}
var _4c0=_4bd.replace(/-/g,"_");
var _4c1=_4ba+"."+_4c0;
_4bf=dojo._loadedModules[_4c1];
}
if(!_4bf){
_4be=dojo["provide"](_4ba);
var syms=dojo._getModuleSymbols(_4b5);
var _4c2=syms.concat("nls").join("/");
var _4c3;
dojo.i18n._searchLocalePath(_4bd,_4b8,function(loc){
var _4c4=loc.replace(/-/g,"_");
var _4c5=_4ba+"."+_4c4;
var _4c6=false;
if(!dojo._loadedModules[_4c5]){
dojo["provide"](_4c5);
var _4c7=[_4c2];
if(loc!="ROOT"){
_4c7.push(loc);
}
_4c7.push(_4b6);
var _4c8=_4c7.join("/")+".js";
_4c6=dojo._loadPath(_4c8,null,function(hash){
hash=hash.root||hash;
var _4c9=function(){
};
_4c9.prototype=_4c3;
_4be[_4c4]=new _4c9();
for(var j in hash){
_4be[_4c4][j]=hash[j];
}
});
}else{
_4c6=true;
}
if(_4c6&&_4be[_4c4]){
_4c3=_4be[_4c4];
}else{
_4be[_4c4]=_4c3;
}
if(_4b8){
return true;
}
});
}
if(_4b8&&_4b9!=_4bb){
_4be[_4b9.replace(/-/g,"_")]=_4be[_4bb.replace(/-/g,"_")];
}
};
(function(){
var _4ca=dojo.config.extraLocale;
if(_4ca){
if(!_4ca instanceof Array){
_4ca=[_4ca];
}
var req=dojo.i18n._requireLocalization;
dojo.i18n._requireLocalization=function(m,b,_4cb,_4cc){
req(m,b,_4cb,_4cc);
if(_4cb){
return;
}
for(var i=0;i<_4ca.length;i++){
req(m,b,_4ca[i],_4cc);
}
};
}
})();
dojo.i18n._searchLocalePath=function(_4cd,down,_4ce){
_4cd=dojo.i18n.normalizeLocale(_4cd);
var _4cf=_4cd.split("-");
var _4d0=[];
for(var i=_4cf.length;i>0;i--){
_4d0.push(_4cf.slice(0,i).join("-"));
}
_4d0.push(false);
if(down){
_4d0.reverse();
}
for(var j=_4d0.length-1;j>=0;j--){
var loc=_4d0[j]||"ROOT";
var stop=_4ce(loc);
if(stop){
break;
}
}
};
dojo.i18n._preloadLocalizations=function(_4d1,_4d2){
function _4d3(_4d4){
_4d4=dojo.i18n.normalizeLocale(_4d4);
dojo.i18n._searchLocalePath(_4d4,true,function(loc){
for(var i=0;i<_4d2.length;i++){
if(_4d2[i]==loc){
dojo["require"](_4d1+"_"+loc);
return true;
}
}
return false;
});
};
_4d3();
var _4d5=dojo.config.extraLocale||[];
for(var i=0;i<_4d5.length;i++){
_4d3(_4d5[i]);
}
};
}
if(!dojo._hasResource["dijit.layout.ContentPane"]){
dojo._hasResource["dijit.layout.ContentPane"]=true;
dojo.provide("dijit.layout.ContentPane");
dojo.declare("dijit.layout.ContentPane",[dijit._Widget,dijit.layout._ContentPaneResizeMixin],{href:"",extractContent:false,parseOnLoad:true,parserScope:dojo._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[]}),stopParser:true,template:false,create:function(_4d6,_4d7){
if((!_4d6||!_4d6.template)&&_4d7&&!("href" in _4d6)&&!("content" in _4d6)){
var df=dojo.doc.createDocumentFragment();
_4d7=dojo.byId(_4d7);
while(_4d7.firstChild){
df.appendChild(_4d7.firstChild);
}
_4d6=dojo.delegate(_4d6,{content:df});
}
this.inherited(arguments,[_4d6,_4d7]);
},postMixInProperties:function(){
this.inherited(arguments);
var _4d8=dojo.i18n.getLocalization("dijit","loading",this.lang);
this.loadingMessage=dojo.string.substitute(this.loadingMessage,_4d8);
this.errorMessage=dojo.string.substitute(this.errorMessage,_4d8);
},buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
this.domNode.title="";
if(!dojo.attr(this.domNode,"role")){
dijit.setWaiRole(this.domNode,"group");
}
},_startChildren:function(){
this.inherited(arguments);
if(this._contentSetter){
dojo.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&dojo.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(this._isShown()){
this._onShow();
}
},setHref:function(href){
dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");
return this.set("href",href);
},_setHrefAttr:function(href){
this.cancel();
this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));
this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));
this._set("href",href);
if(this.preload||(this._created&&this._isShown())){
this._load();
}else{
this._hrefChanged=true;
}
return this.onLoadDeferred;
},setContent:function(data){
dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");
this.set("content",data);
},_setContentAttr:function(data){
this._set("href","");
this.cancel();
this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));
if(this._created){
this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));
}
this._setContent(data||"");
this._isDownloaded=false;
return this.onLoadDeferred;
},_getContentAttr:function(){
return this.containerNode.innerHTML;
},cancel:function(){
if(this._xhrDfd&&(this._xhrDfd.fired==-1)){
this._xhrDfd.cancel();
}
delete this._xhrDfd;
this.onLoadDeferred=null;
},uninitialize:function(){
if(this._beingDestroyed){
this.cancel();
}
this.inherited(arguments);
},destroyRecursive:function(_4d9){
if(this._beingDestroyed){
return;
}
this.inherited(arguments);
},resize:function(_4da,_4db){
if(!this._wasShown&&this.open!==false){
this._onShow();
}
this._resizeCalled=true;
this._scheduleLayout(_4da,_4db);
},_isShown:function(){
if(this._childOfLayoutWidget){
if(this._resizeCalled&&"open" in this){
return this.open;
}
return this._resizeCalled;
}else{
if("open" in this){
return this.open;
}else{
var node=this.domNode,_4dc=this.domNode.parentNode;
return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden")&&_4dc&&_4dc.style&&(_4dc.style.display!="none");
}
}
},_onShow:function(){
if(this.href){
if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){
var d=this.refresh();
}
}else{
if(this._needLayout){
this._layout(this._changeSize,this._resultSize);
}
}
this.inherited(arguments);
this._wasShown=true;
return d;
},refresh:function(){
this.cancel();
this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));
this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));
this._load();
return this.onLoadDeferred;
},_load:function(){
this._setContent(this.onDownloadStart(),true);
var self=this;
var _4dd={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};
if(dojo.isObject(this.ioArgs)){
dojo.mixin(_4dd,this.ioArgs);
}
var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_4dd));
hand.addCallback(function(html){
try{
self._isDownloaded=true;
self._setContent(html,false);
self.onDownloadEnd();
}
catch(err){
self._onError("Content",err);
}
delete self._xhrDfd;
return html;
});
hand.addErrback(function(err){
if(!hand.canceled){
self._onError("Download",err);
}
delete self._xhrDfd;
return err;
});
delete this._hrefChanged;
},_onLoadHandler:function(data){
this._set("isLoaded",true);
try{
this.onLoadDeferred.callback(data);
}
catch(e){
console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);
}
},_onUnloadHandler:function(){
this._set("isLoaded",false);
try{
this.onUnload();
}
catch(e){
console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);
}
},destroyDescendants:function(){
if(this.isLoaded){
this._onUnloadHandler();
}
var _4de=this._contentSetter;
dojo.forEach(this.getChildren(),function(_4df){
if(_4df.destroyRecursive){
_4df.destroyRecursive();
}
});
if(_4de){
dojo.forEach(_4de.parseResults,function(_4e0){
if(_4e0.destroyRecursive&&_4e0.domNode&&_4e0.domNode.parentNode==dojo.body()){
_4e0.destroyRecursive();
}
});
delete _4de.parseResults;
}
dojo.html._emptyNode(this.containerNode);
delete this._singleChild;
},_setContent:function(cont,_4e1){
this.destroyDescendants();
var _4e2=this._contentSetter;
if(!(_4e2&&_4e2 instanceof dojo.html._ContentSetter)){
_4e2=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){
var _4e3=this.onContentError(e);
try{
this.containerNode.innerHTML=_4e3;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
var _4e4=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang},this._contentSetterParams||{});
_4e2.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont,_4e4);
delete this._contentSetterParams;
if(this.doLayout){
this._checkIfSingleChild();
}
if(!_4e1){
if(this._started){
this._startChildren();
this._scheduleLayout();
}
this._onLoadHandler(cont);
}
},_onError:function(type,err,_4e5){
this.onLoadDeferred.errback(err);
var _4e6=this["on"+type+"Error"].call(this,err);
if(_4e5){
console.error(_4e5,err);
}else{
if(_4e6){
this._setContent(_4e6,true);
}
}
},_scheduleLayout:function(_4e7,_4e8){
if(this._isShown()){
this._layout(_4e7,_4e8);
}else{
this._needLayout=true;
this._changeSize=_4e7;
this._resultSize=_4e8;
}
},onLoad:function(data){
},onUnload:function(){
},onDownloadStart:function(){
return this.loadingMessage;
},onContentError:function(_4e9){
},onDownloadError:function(_4ea){
return this.errorMessage;
},onDownloadEnd:function(){
}});
}
if(!dojo._hasResource["dijit.TooltipDialog"]){
dojo._hasResource["dijit.TooltipDialog"]=true;
dojo.provide("dijit.TooltipDialog");
dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:dojo.cache("dijit","templates/TooltipDialog.html","<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n"),_setTitleAttr:function(_4eb){
this.containerNode.title=_4eb;
this._set("title",_4eb);
},postCreate:function(){
this.inherited(arguments);
this.connect(this.containerNode,"onkeypress","_onKey");
},orient:function(node,_4ec,_4ed){
var newC="dijitTooltipAB"+(_4ed.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_4ed.charAt(0)=="T"?"Below":"Above");
dojo.replaceClass(this.domNode,newC,this._currentOrientClass||"");
this._currentOrientClass=newC;
},focus:function(){
this._getFocusItems(this.containerNode);
dijit.focus(this._firstFocusItem);
},onOpen:function(pos){
this.orient(this.domNode,pos.aroundCorner,pos.corner);
this._onShow();
},onClose:function(){
this.onHide();
},_onKey:function(evt){
var node=evt.target;
var dk=dojo.keys;
if(evt.charOrCode===dk.TAB){
this._getFocusItems(this.containerNode);
}
var _4ee=(this._firstFocusItem==this._lastFocusItem);
if(evt.charOrCode==dk.ESCAPE){
setTimeout(dojo.hitch(this,"onCancel"),0);
dojo.stopEvent(evt);
}else{
if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){
if(!_4ee){
dijit.focus(this._lastFocusItem);
}
dojo.stopEvent(evt);
}else{
if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){
if(!_4ee){
dijit.focus(this._firstFocusItem);
}
dojo.stopEvent(evt);
}else{
if(evt.charOrCode===dk.TAB){
evt.stopPropagation();
}
}
}
}
}});
}
if(!dojo._hasResource["dijit.Dialog"]){
dojo._hasResource["dijit.Dialog"]=true;
dojo.provide("dijit.Dialog");
dojo.declare("dijit._DialogBase",[dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/Dialog.html","<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"),baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function(){
var _4ef=dojo.i18n.getLocalization("dijit","common");
dojo.mixin(this,_4ef);
this.inherited(arguments);
},postCreate:function(){
dojo.style(this.domNode,{display:"none",position:"absolute"});
dojo.body().appendChild(this.domNode);
this.inherited(arguments);
this.connect(this,"onExecute","hide");
this.connect(this,"onCancel","hide");
this._modalconnects=[];
},onLoad:function(){
this._position();
if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){
this._getFocusItems(this.domNode);
dijit.focus(this._firstFocusItem);
}
this.inherited(arguments);
},_endDrag:function(e){
if(e&&e.node&&e.node===this.domNode){
this._relativePosition=dojo.position(e.node);
}
},_setup:function(){
var node=this.domNode;
if(this.titleBar&&this.draggable){
this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});
this._dndListener=dojo.subscribe("/dnd/move/stop",this,"_endDrag");
}else{
dojo.addClass(node,"dijitDialogFixed");
}
this.underlayAttrs={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){
return s+"_underlay";
}).join(" ")};
},_size:function(){
this._checkIfSingleChild();
if(this._singleChild){
if(this._singleChildOriginalStyle){
this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;
}
delete this._singleChildOriginalStyle;
}else{
dojo.style(this.containerNode,{width:"auto",height:"auto"});
}
var mb=dojo._getMarginSize(this.domNode);
var _4f0=dojo.window.getBox();
if(mb.w>=_4f0.w||mb.h>=_4f0.h){
var w=Math.min(mb.w,Math.floor(_4f0.w*0.75)),h=Math.min(mb.h,Math.floor(_4f0.h*0.75));
if(this._singleChild&&this._singleChild.resize){
this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
this._singleChild.resize({w:w,h:h});
}else{
dojo.style(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});
}
}else{
if(this._singleChild&&this._singleChild.resize){
this._singleChild.resize();
}
}
},_position:function(){
if(!dojo.hasClass(dojo.body(),"dojoMove")){
var node=this.domNode,_4f1=dojo.window.getBox(),p=this._relativePosition,bb=p?null:dojo._getBorderBox(node),l=Math.floor(_4f1.l+(p?p.x:(_4f1.w-bb.w)/2)),t=Math.floor(_4f1.t+(p?p.y:(_4f1.h-bb.h)/2));
dojo.style(node,{left:l+"px",top:t+"px"});
}
},_onKey:function(evt){
if(evt.charOrCode){
var dk=dojo.keys;
var node=evt.target;
if(evt.charOrCode===dk.TAB){
this._getFocusItems(this.domNode);
}
var _4f2=(this._firstFocusItem==this._lastFocusItem);
if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){
if(!_4f2){
dijit.focus(this._lastFocusItem);
}
dojo.stopEvent(evt);
}else{
if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){
if(!_4f2){
dijit.focus(this._firstFocusItem);
}
dojo.stopEvent(evt);
}else{
while(node){
if(node==this.domNode||dojo.hasClass(node,"dijitPopup")){
if(evt.charOrCode==dk.ESCAPE){
this.onCancel();
}else{
return;
}
}
node=node.parentNode;
}
if(evt.charOrCode!==dk.TAB){
dojo.stopEvent(evt);
}else{
if(!dojo.isOpera){
try{
this._firstFocusItem.focus();
}
catch(e){
}
}
}
}
}
}
},show:function(){
if(this.open){
return;
}
if(!this._started){
this.startup();
}
if(!this._alreadyInitialized){
this._setup();
this._alreadyInitialized=true;
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
}
this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));
this._modalconnects.push(dojo.connect(window,"onresize",this,function(){
var _4f3=dojo.window.getBox();
if(!this._oldViewport||_4f3.h!=this._oldViewport.h||_4f3.w!=this._oldViewport.w){
this.layout();
this._oldViewport=_4f3;
}
}));
this._modalconnects.push(dojo.connect(this.domNode,"onkeypress",this,"_onKey"));
dojo.style(this.domNode,{opacity:0,display:""});
this._set("open",true);
this._onShow();
this._size();
this._position();
var _4f4;
this._fadeInDeferred=new dojo.Deferred(dojo.hitch(this,function(){
_4f4.stop();
delete this._fadeInDeferred;
}));
_4f4=dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){
dijit._DialogLevelManager.show(this,this.underlayAttrs);
}),onEnd:dojo.hitch(this,function(){
if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){
this._getFocusItems(this.domNode);
dijit.focus(this._firstFocusItem);
}
this._fadeInDeferred.callback(true);
delete this._fadeInDeferred;
})}).play();
return this._fadeInDeferred;
},hide:function(){
if(!this._alreadyInitialized){
return;
}
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
var _4f5;
this._fadeOutDeferred=new dojo.Deferred(dojo.hitch(this,function(){
_4f5.stop();
delete this._fadeOutDeferred;
}));
_4f5=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){
this.domNode.style.display="none";
dijit._DialogLevelManager.hide(this);
this.onHide();
this._fadeOutDeferred.callback(true);
delete this._fadeOutDeferred;
})}).play();
if(this._scrollConnected){
this._scrollConnected=false;
}
dojo.forEach(this._modalconnects,dojo.disconnect);
this._modalconnects=[];
if(this._relativePosition){
delete this._relativePosition;
}
this._set("open",false);
return this._fadeOutDeferred;
},layout:function(){
if(this.domNode.style.display!="none"){
if(dijit._underlay){
dijit._underlay.layout();
}
this._position();
}
},destroy:function(){
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
}
if(this._moveable){
this._moveable.destroy();
}
if(this._dndListener){
dojo.unsubscribe(this._dndListener);
}
dojo.forEach(this._modalconnects,dojo.disconnect);
dijit._DialogLevelManager.hide(this);
this.inherited(arguments);
}});
dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._DialogBase],{});
dijit._DialogLevelManager={show:function(_4f6,_4f7){
var ds=dijit._dialogStack;
ds[ds.length-1].focus=dijit.getFocus(_4f6);
var _4f8=dijit._underlay;
if(!_4f8||_4f8._destroyed){
_4f8=dijit._underlay=new dijit.DialogUnderlay(_4f7);
}else{
_4f8.set(_4f6.underlayAttrs);
}
var _4f9=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:950;
if(ds.length==1){
_4f8.show();
}
dojo.style(dijit._underlay.domNode,"zIndex",_4f9-1);
dojo.style(_4f6.domNode,"zIndex",_4f9);
ds.push({dialog:_4f6,underlayAttrs:_4f7,zIndex:_4f9});
},hide:function(_4fa){
var ds=dijit._dialogStack;
if(ds[ds.length-1].dialog==_4fa){
ds.pop();
var pd=ds[ds.length-1];
if(ds.length==1){
if(!dijit._underlay._destroyed){
dijit._underlay.hide();
}
}else{
dojo.style(dijit._underlay.domNode,"zIndex",pd.zIndex-1);
dijit._underlay.set(pd.underlayAttrs);
}
if(_4fa.refocus){
var _4fb=pd.focus;
if(!_4fb||(pd.dialog&&!dojo.isDescendant(_4fb.node,pd.dialog.domNode))){
pd.dialog._getFocusItems(pd.dialog.domNode);
_4fb=pd.dialog._firstFocusItem;
}
try{
dijit.focus(_4fb);
}
catch(e){
}
}
}else{
var idx=dojo.indexOf(dojo.map(ds,function(elem){
return elem.dialog;
}),_4fa);
if(idx!=-1){
ds.splice(idx,1);
}
}
},isTop:function(_4fc){
var ds=dijit._dialogStack;
return ds[ds.length-1].dialog==_4fc;
}};
dijit._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];
}
if(!dojo._hasResource["dijit.Tooltip"]){
dojo._hasResource["dijit.Tooltip"]=true;
dojo.provide("dijit.Tooltip");
dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function(){
dojo.body().appendChild(this.domNode);
this.bgIframe=new dijit.BackgroundIframe(this.domNode);
this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});
this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});
},show:function(_4fd,_4fe,_4ff,rtl){
if(this.aroundNode&&this.aroundNode===_4fe){
return;
}
this.domNode.width="auto";
if(this.fadeOut.status()=="playing"){
this._onDeck=arguments;
return;
}
this.containerNode.innerHTML=_4fd;
var pos=dijit.placeOnScreenAroundElement(this.domNode,_4fe,dijit.getPopupAroundAlignment((_4ff&&_4ff.length)?_4ff:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));
dojo.style(this.domNode,"opacity",0);
this.fadeIn.play();
this.isShowingNow=true;
this.aroundNode=_4fe;
},orient:function(node,_500,_501,_502,_503){
this.connectorNode.style.top="";
var _504=_502.w-this.connectorNode.offsetWidth;
node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_500+"-"+_501];
this.domNode.style.width="auto";
var size=dojo.contentBox(this.domNode);
var _505=Math.min((Math.max(_504,1)),size.w);
var _506=_505<size.w;
this.domNode.style.width=_505+"px";
if(_506){
this.containerNode.style.overflow="auto";
var _507=this.containerNode.scrollWidth;
this.containerNode.style.overflow="visible";
if(_507>_505){
_507=_507+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");
this.domNode.style.width=_507+"px";
}
}
if(_501.charAt(0)=="B"&&_500.charAt(0)=="B"){
var mb=dojo.marginBox(node);
var _508=this.connectorNode.offsetHeight;
if(mb.h>_502.h){
var _509=_502.h-(_503.h/2)-(_508/2);
this.connectorNode.style.top=_509+"px";
this.connectorNode.style.bottom="";
}else{
this.connectorNode.style.bottom=Math.min(Math.max(_503.h/2-_508/2,0),mb.h-_508)+"px";
this.connectorNode.style.top="";
}
}else{
this.connectorNode.style.top="";
this.connectorNode.style.bottom="";
}
return Math.max(0,size.w-_504);
},_onShow:function(){
if(dojo.isIE){
this.domNode.style.filter="";
}
},hide:function(_50a){
if(this._onDeck&&this._onDeck[1]==_50a){
this._onDeck=null;
}else{
if(this.aroundNode===_50a){
this.fadeIn.stop();
this.isShowingNow=false;
this.aroundNode=null;
this.fadeOut.play();
}else{
}
}
},_onHide:function(){
this.domNode.style.cssText="";
this.containerNode.innerHTML="";
if(this._onDeck){
this.show.apply(this,this._onDeck);
this._onDeck=null;
}
}});
dijit.showTooltip=function(_50b,_50c,_50d,rtl){
if(!dijit._masterTT){
dijit._masterTT=new dijit._MasterTooltip();
}
return dijit._masterTT.show(_50b,_50c,_50d,rtl);
};
dijit.hideTooltip=function(_50e){
if(!dijit._masterTT){
dijit._masterTT=new dijit._MasterTooltip();
}
return dijit._masterTT.hide(_50e);
};
dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_50f){
dojo.forEach(this._connections||[],function(_510){
dojo.forEach(_510,dojo.hitch(this,"disconnect"));
},this);
var ary=dojo.isArrayLike(_50f)?_50f:(_50f?[_50f]:[]);
this._connections=dojo.map(ary,function(id){
var node=dojo.byId(id);
return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];
},this);
this._set("connectId",_50f);
this._connectIds=ary;
},addTarget:function(node){
var id=node.id||node;
if(dojo.indexOf(this._connectIds,id)==-1){
this.set("connectId",this._connectIds.concat(id));
}
},removeTarget:function(node){
var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);
if(idx>=0){
this._connectIds.splice(idx,1);
this.set("connectId",this._connectIds);
}
},buildRendering:function(){
this.inherited(arguments);
dojo.addClass(this.domNode,"dijitTooltipData");
},startup:function(){
this.inherited(arguments);
var ids=this.connectId;
dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);
},_onTargetMouseEnter:function(e){
this._onHover(e);
},_onTargetMouseLeave:function(e){
this._onUnHover(e);
},_onTargetFocus:function(e){
this._focus=true;
this._onHover(e);
},_onTargetBlur:function(e){
this._focus=false;
this._onUnHover(e);
},_onHover:function(e){
if(!this._showTimer){
var _511=e.target;
this._showTimer=setTimeout(dojo.hitch(this,function(){
this.open(_511);
}),this.showDelay);
}
},_onUnHover:function(e){
if(this._focus){
return;
}
if(this._showTimer){
clearTimeout(this._showTimer);
delete this._showTimer;
}
this.close();
},open:function(_512){
if(this._showTimer){
clearTimeout(this._showTimer);
delete this._showTimer;
}
dijit.showTooltip(this.label||this.domNode.innerHTML,_512,this.position,!this.isLeftToRight());
this._connectNode=_512;
this.onShow(_512,this.position);
},close:function(){
if(this._connectNode){
dijit.hideTooltip(this._connectNode);
delete this._connectNode;
this.onHide();
}
if(this._showTimer){
clearTimeout(this._showTimer);
delete this._showTimer;
}
},onShow:function(_513,_514){
},onHide:function(){
},uninitialize:function(){
this.close();
this.inherited(arguments);
}});
dijit.Tooltip.defaultPosition=["after","before"];
}
if(!dojo._hasResource["dojox.html._base"]){
dojo._hasResource["dojox.html._base"]=true;
dojo.provide("dojox.html._base");
(function(){
if(dojo.isIE){
var _515=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;
}
var _516=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;
var _517=dojox.html._adjustCssPaths=function(_518,_519){
if(!_519||!_518){
return;
}
if(_515){
_519=_519.replace(_515,function(_51a,pre,_51b,url,post){
return pre+(new dojo._Url(_518,"./"+url).toString())+post;
});
}
return _519.replace(_516,function(_51c,_51d,_51e,_51f,_520,_521){
if(_51e){
return "@import \""+(new dojo._Url(_518,"./"+_51e).toString())+"\""+_521;
}else{
return "url("+(new dojo._Url(_518,"./"+_520).toString())+")"+_521;
}
});
};
var _522=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;
var _523=dojox.html._adjustHtmlPaths=function(_524,cont){
var url=_524||"./";
return cont.replace(_522,function(tag,_525,name,_526,_527,_528,_529,end){
return _525+(name?(name+"="+_526+(new dojo._Url(url,_527).toString())+_526):("style="+_528+_517(url,_529)+_528))+end;
});
};
var _52a=dojox.html._snarfStyles=function(_52b,cont,_52c){
_52c.attributes=[];
return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_52d,_52e,_52f,_530,_531,href){
var i,attr=(_52e||_530||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");
if(_52f){
i=_52c.push(_52b?_517(_52b,_52f):_52f);
}else{
i=_52c.push("@import \""+href+"\";");
attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");
}
if(attr){
attr=attr.split(/\s+/);
var _532={},tmp;
for(var j=0,e=attr.length;j<e;j++){
tmp=attr[j].split("=");
_532[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");
}
_52c.attributes[i-1]=_532;
}
return "";
});
};
var _533=dojox.html._snarfScripts=function(cont,_534){
_534.code="";
cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_535){
return _535.replace(/<(\/?)script\b/ig,"&lt;$1Script");
});
function _536(src){
if(_534.downloadRemote){
src=src.replace(/&([a-z0-9#]+);/g,function(m,name){
switch(name){
case "amp":
return "&";
case "gt":
return ">";
case "lt":
return "<";
default:
return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";
}
});
dojo.xhrGet({url:src,sync:true,load:function(code){
_534.code+=code+";";
},error:_534.errBack});
}
};
return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_537,_538,src,code){
if(src){
_536(src);
}else{
_534.code+=code;
}
return "";
});
};
var _539=dojox.html.evalInGlobal=function(code,_53a){
_53a=_53a||dojo.doc.body;
var n=_53a.ownerDocument.createElement("script");
n.type="text/javascript";
_53a.appendChild(n);
n.text=code;
};
dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_53b){
this._styleNodes=[];
var st,att,_53c,doc=this.node.ownerDocument;
var head=doc.getElementsByTagName("head")[0];
for(var i=0,e=_53b.length;i<e;i++){
_53c=_53b[i];
att=_53b.attributes[i];
st=doc.createElement("style");
st.setAttribute("type","text/css");
for(var x in att){
st.setAttribute(x,att[x]);
}
this._styleNodes.push(st);
head.appendChild(st);
if(st.styleSheet){
st.styleSheet.cssText=_53c;
}else{
st.appendChild(doc.createTextNode(_53c));
}
}
},empty:function(){
this.inherited("empty",arguments);
this._styles=[];
},onBegin:function(){
this.inherited("onBegin",arguments);
var cont=this.content,node=this.node;
var _53d=this._styles;
if(dojo.isString(cont)){
if(this.adjustPaths&&this.referencePath){
cont=_523(this.referencePath,cont);
}
if(this.renderStyles||this.cleanContent){
cont=_52a(this.referencePath,cont,_53d);
}
if(this.executeScripts){
var _53e=this;
var _53f={downloadRemote:true,errBack:function(e){
_53e._onError.call(_53e,"Exec","Error downloading remote script in \""+_53e.id+"\"",e);
}};
cont=_533(cont,_53f);
this._code=_53f.code;
}
}
this.content=cont;
},onEnd:function(){
var code=this._code,_540=this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
dojo.destroy(this._styleNodes.pop());
}
}
if(this.renderStyles&&_540&&_540.length){
this._renderStyles(_540);
}
if(this.executeScripts&&code){
if(this.cleanContent){
code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");
}
if(this.scriptHasHooks){
code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);
}
try{
_539(code,this.node);
}
catch(e){
this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);
}
}
this.inherited("onEnd",arguments);
},tearDown:function(){
this.inherited(arguments);
delete this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
dojo.destroy(this._styleNodes.pop());
}
}
delete this._styleNodes;
dojo.mixin(this,dojo.getObject(this.declaredClass).prototype);
}});
dojox.html.set=function(node,cont,_541){
if(!_541){
return dojo.html._setNodeContent(node,cont,true);
}else{
var op=new dojox.html._ContentSetter(dojo.mixin(_541,{content:cont,node:node}));
return op.set();
}
};
})();
}
if(!dojo._hasResource["dojox.html"]){
dojo._hasResource["dojox.html"]=true;
dojo.provide("dojox.html");
}
if(!dojo._hasResource["dijit.form.Form"]){
dojo._hasResource["dijit.form.Form"]=true;
dojo.provide("dijit.form.Form");
dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin,dijit.layout._ContentPaneResizeMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),postMixInProperties:function(){
this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";
this.inherited(arguments);
},execute:function(_542){
},onExecute:function(){
},_setEncTypeAttr:function(_543){
this.encType=_543;
dojo.attr(this.domNode,"encType",_543);
if(dojo.isIE){
this.domNode.encoding=_543;
}
},postCreate:function(){
if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){
var item=this.srcNodeRef.attributes.getNamedItem("encType");
if(item&&!item.specified&&(typeof item.value=="string")){
this.set("encType",item.value);
}
}
this.inherited(arguments);
},reset:function(e){
var faux={returnValue:true,preventDefault:function(){
this.returnValue=false;
},stopPropagation:function(){
},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};
if(!(this.onReset(faux)===false)&&faux.returnValue){
this.inherited(arguments,[]);
}
},onReset:function(e){
return true;
},_onReset:function(e){
this.reset(e);
dojo.stopEvent(e);
return false;
},_onSubmit:function(e){
var fp=dijit.form.Form.prototype;
if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){
dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");
this.onExecute();
this.execute(this.getValues());
}
if(this.onSubmit(e)===false){
dojo.stopEvent(e);
}
},onSubmit:function(e){
return this.isValid();
},submit:function(){
if(!(this.onSubmit()===false)){
this.containerNode.submit();
}
}});
}
if(!dojo._hasResource["dojo.regexp"]){
dojo._hasResource["dojo.regexp"]=true;
dojo.provide("dojo.regexp");
dojo.getObject("regexp",true,dojo);
dojo.regexp.escapeString=function(str,_544){
return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){
if(_544&&_544.indexOf(ch)!=-1){
return ch;
}
return "\\"+ch;
});
};
dojo.regexp.buildGroupRE=function(arr,re,_545){
if(!(arr instanceof Array)){
return re(arr);
}
var b=[];
for(var i=0;i<arr.length;i++){
b.push(re(arr[i]));
}
return dojo.regexp.group(b.join("|"),_545);
};
dojo.regexp.group=function(_546,_547){
return "("+(_547?"?:":"")+_546+")";
};
}
if(!dojo._hasResource["dojo.data.util.sorter"]){
dojo._hasResource["dojo.data.util.sorter"]=true;
dojo.provide("dojo.data.util.sorter");
dojo.getObject("data.util.sorter",true,dojo);
dojo.data.util.sorter.basicComparator=function(a,b){
var r=-1;
if(a===null){
a=undefined;
}
if(b===null){
b=undefined;
}
if(a==b){
r=0;
}else{
if(a>b||a==null){
r=1;
}
}
return r;
};
dojo.data.util.sorter.createSortFunction=function(_548,_549){
var _54a=[];
function _54b(attr,dir,comp,s){
return function(_54c,_54d){
var a=s.getValue(_54c,attr);
var b=s.getValue(_54d,attr);
return dir*comp(a,b);
};
};
var _54e;
var map=_549.comparatorMap;
var bc=dojo.data.util.sorter.basicComparator;
for(var i=0;i<_548.length;i++){
_54e=_548[i];
var attr=_54e.attribute;
if(attr){
var dir=(_54e.descending)?-1:1;
var comp=bc;
if(map){
if(typeof attr!=="string"&&("toString" in attr)){
attr=attr.toString();
}
comp=map[attr]||bc;
}
_54a.push(_54b(attr,dir,comp,_549));
}
}
return function(rowA,rowB){
var i=0;
while(i<_54a.length){
var ret=_54a[i++](rowA,rowB);
if(ret!==0){
return ret;
}
}
return 0;
};
};
}
if(!dojo._hasResource["dojo.data.util.simpleFetch"]){
dojo._hasResource["dojo.data.util.simpleFetch"]=true;
dojo.provide("dojo.data.util.simpleFetch");
dojo.getObject("data.util.simpleFetch",true,dojo);
dojo.data.util.simpleFetch.fetch=function(_54f){
_54f=_54f||{};
if(!_54f.store){
_54f.store=this;
}
var self=this;
var _550=function(_551,_552){
if(_552.onError){
var _553=_552.scope||dojo.global;
_552.onError.call(_553,_551,_552);
}
};
var _554=function(_555,_556){
var _557=_556.abort||null;
var _558=false;
var _559=_556.start?_556.start:0;
var _55a=(_556.count&&(_556.count!==Infinity))?(_559+_556.count):_555.length;
_556.abort=function(){
_558=true;
if(_557){
_557.call(_556);
}
};
var _55b=_556.scope||dojo.global;
if(!_556.store){
_556.store=self;
}
if(_556.onBegin){
_556.onBegin.call(_55b,_555.length,_556);
}
if(_556.sort){
_555.sort(dojo.data.util.sorter.createSortFunction(_556.sort,self));
}
if(_556.onItem){
for(var i=_559;(i<_555.length)&&(i<_55a);++i){
var item=_555[i];
if(!_558){
_556.onItem.call(_55b,item,_556);
}
}
}
if(_556.onComplete&&!_558){
var _55c=null;
if(!_556.onItem){
_55c=_555.slice(_559,_55a);
}
_556.onComplete.call(_55b,_55c,_556);
}
};
this._fetchItems(_54f,_554,_550);
return _54f;
};
}
if(!dojo._hasResource["dojo.data.util.filter"]){
dojo._hasResource["dojo.data.util.filter"]=true;
dojo.provide("dojo.data.util.filter");
dojo.getObject("data.util.filter",true,dojo);
dojo.data.util.filter.patternToRegExp=function(_55d,_55e){
var rxp="^";
var c=null;
for(var i=0;i<_55d.length;i++){
c=_55d.charAt(i);
switch(c){
case "\\":
rxp+=c;
i++;
rxp+=_55d.charAt(i);
break;
case "*":
rxp+=".*";
break;
case "?":
rxp+=".";
break;
case "$":
case "^":
case "/":
case "+":
case ".":
case "|":
case "(":
case ")":
case "{":
case "}":
case "[":
case "]":
rxp+="\\";
default:
rxp+=c;
}
}
rxp+="$";
if(_55e){
return new RegExp(rxp,"mi");
}else{
return new RegExp(rxp,"m");
}
};
}
if(!dojo._hasResource["dijit.form._FormWidget"]){
dojo._hasResource["dijit.form._FormWidget"]=true;
dojo.provide("dijit.form._FormWidget");
dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){
this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
this.connect(this.domNode,"onmousedown","_onMouseDown");
},_setDisabledAttr:function(_55f){
this._set("disabled",_55f);
dojo.attr(this.focusNode,"disabled",_55f);
if(this.valueNode){
dojo.attr(this.valueNode,"disabled",_55f);
}
dijit.setWaiState(this.focusNode,"disabled",_55f);
if(_55f){
this._set("hovering",false);
this._set("active",false);
var _560="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";
dojo.forEach(dojo.isArray(_560)?_560:[_560],function(_561){
var node=this[_561];
if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){
node.setAttribute("tabIndex","-1");
}else{
node.removeAttribute("tabIndex");
}
},this);
}else{
if(this.tabIndex!=""){
this.focusNode.setAttribute("tabIndex",this.tabIndex);
}
}
},setDisabled:function(_562){
dojo.deprecated("setDisabled("+_562+") is deprecated. Use set('disabled',"+_562+") instead.","","2.0");
this.set("disabled",_562);
},_onFocus:function(e){
if(this.scrollOnFocus){
dojo.window.scrollIntoView(this.domNode);
}
this.inherited(arguments);
},isFocusable:function(){
return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");
},focus:function(){
if(!this.disabled){
dijit.focus(this.focusNode);
}
},compare:function(val1,val2){
if(typeof val1=="number"&&typeof val2=="number"){
return (isNaN(val1)&&isNaN(val2))?0:val1-val2;
}else{
if(val1>val2){
return 1;
}else{
if(val1<val2){
return -1;
}else{
return 0;
}
}
}
},onChange:function(_563){
},_onChangeActive:false,_handleOnChange:function(_564,_565){
if(this._lastValueReported==undefined&&(_565===null||!this._onChangeActive)){
this._resetValue=this._lastValueReported=_564;
}
this._pendingOnChange=this._pendingOnChange||(typeof _564!=typeof this._lastValueReported)||(this.compare(_564,this._lastValueReported)!=0);
if((this.intermediateChanges||_565||_565===undefined)&&this._pendingOnChange){
this._lastValueReported=_564;
this._pendingOnChange=false;
if(this._onChangeActive){
if(this._onChangeHandle){
clearTimeout(this._onChangeHandle);
}
this._onChangeHandle=setTimeout(dojo.hitch(this,function(){
this._onChangeHandle=null;
this.onChange(_564);
}),0);
}
}
},create:function(){
this.inherited(arguments);
this._onChangeActive=true;
},destroy:function(){
if(this._onChangeHandle){
clearTimeout(this._onChangeHandle);
this.onChange(this._lastValueReported);
}
this.inherited(arguments);
},setValue:function(_566){
dojo.deprecated("dijit.form._FormWidget:setValue("+_566+") is deprecated.  Use set('value',"+_566+") instead.","","2.0");
this.set("value",_566);
},getValue:function(){
dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},_onMouseDown:function(e){
if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){
var _567=this.connect(dojo.body(),"onmouseup",function(){
if(this.isFocusable()){
this.focus();
}
this.disconnect(_567);
});
}
}});
dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_568){
dojo.attr(this.focusNode,"readOnly",_568);
dijit.setWaiState(this.focusNode,"readonly",_568);
this._set("readOnly",_568);
},postCreate:function(){
this.inherited(arguments);
if(dojo.isIE){
this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);
}
if(this._resetValue===undefined){
this._lastValueReported=this._resetValue=this.value;
}
},_setValueAttr:function(_569,_56a){
this._handleOnChange(_569,_56a);
},_handleOnChange:function(_56b,_56c){
this._set("value",_56b);
this.inherited(arguments);
},undo:function(){
this._setValueAttr(this._lastValueReported,false);
},reset:function(){
this._hasBeenBlurred=false;
this._setValueAttr(this._resetValue,true);
},_onKeyDown:function(e){
if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){
var te;
if(dojo.isIE){
e.preventDefault();
te=document.createEventObject();
te.keyCode=dojo.keys.ESCAPE;
te.shiftKey=e.shiftKey;
e.srcElement.fireEvent("onkeypress",te);
}
}
},_layoutHackIE7:function(){
if(dojo.isIE==7){
var _56d=this.domNode;
var _56e=_56d.parentNode;
var _56f=_56d.firstChild||_56d;
var _570=_56f.style.filter;
var _571=this;
while(_56e&&_56e.clientHeight==0){
(function ping(){
var _572=_571.connect(_56e,"onscroll",function(e){
_571.disconnect(_572);
_56f.style.filter=(new Date()).getMilliseconds();
setTimeout(function(){
_56f.style.filter=_570;
},0);
});
})();
_56e=_56e.parentNode;
}
}
}});
}
if(!dojo._hasResource["dijit.form.TextBox"]){
dojo._hasResource["dijit.form.TextBox"]=true;
dojo.provide("dijit.form.TextBox");
dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){
var type=this.type.toLowerCase();
if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){
this.templateString=this._singleNodeTemplate;
}
this.inherited(arguments);
},_setPlaceHolderAttr:function(v){
this._set("placeHolder",v);
if(!this._phspan){
this._attachPoints.push("_phspan");
this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");
}
this._phspan.innerHTML="";
this._phspan.appendChild(document.createTextNode(v));
this._updatePlaceHolder();
},_updatePlaceHolder:function(){
if(this._phspan){
this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";
}
},_getValueAttr:function(){
return this.parse(this.get("displayedValue"),this.constraints);
},_setValueAttr:function(_573,_574,_575){
var _576;
if(_573!==undefined){
_576=this.filter(_573);
if(typeof _575!="string"){
if(_576!==null&&((typeof _576!="number")||!isNaN(_576))){
_575=this.filter(this.format(_576,this.constraints));
}else{
_575="";
}
}
}
if(_575!=null&&_575!=undefined&&((typeof _575)!="number"||!isNaN(_575))&&this.textbox.value!=_575){
this.textbox.value=_575;
this._set("displayedValue",this.get("displayedValue"));
}
this._updatePlaceHolder();
this.inherited(arguments,[_576,_574]);
},displayedValue:"",getDisplayedValue:function(){
dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");
return this.get("displayedValue");
},_getDisplayedValueAttr:function(){
return this.filter(this.textbox.value);
},setDisplayedValue:function(_577){
dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");
this.set("displayedValue",_577);
},_setDisplayedValueAttr:function(_578){
if(_578===null||_578===undefined){
_578="";
}else{
if(typeof _578!="string"){
_578=String(_578);
}
}
this.textbox.value=_578;
this._setValueAttr(this.get("value"),undefined);
this._set("displayedValue",this.get("displayedValue"));
},format:function(_579,_57a){
return ((_579==null||_579==undefined)?"":(_579.toString?_579.toString():_579));
},parse:function(_57b,_57c){
return _57b;
},_refreshState:function(){
},_onInput:function(e){
if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){
switch(e.keyCode){
case dojo.keys.SHIFT:
case dojo.keys.ALT:
case dojo.keys.CTRL:
case dojo.keys.TAB:
return;
}
}
if(this.intermediateChanges){
var _57d=this;
setTimeout(function(){
_57d._handleOnChange(_57d.get("value"),false);
},0);
}
this._refreshState();
this._set("displayedValue",this.get("displayedValue"));
},postCreate:function(){
if(dojo.isIE){
setTimeout(dojo.hitch(this,function(){
var s=dojo.getComputedStyle(this.domNode);
if(s){
var ff=s.fontFamily;
if(ff){
var _57e=this.domNode.getElementsByTagName("INPUT");
if(_57e){
for(var i=0;i<_57e.length;i++){
_57e[i].style.fontFamily=ff;
}
}
}
}
}),0);
}
this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);
if(dojo.isMoz||dojo.isOpera){
this.connect(this.textbox,"oninput","_onInput");
}else{
this.connect(this.textbox,"onkeydown","_onInput");
this.connect(this.textbox,"onkeyup","_onInput");
this.connect(this.textbox,"onpaste","_onInput");
this.connect(this.textbox,"oncut","_onInput");
}
},_blankValue:"",filter:function(val){
if(val===null){
return this._blankValue;
}
if(typeof val!="string"){
return val;
}
if(this.trim){
val=dojo.trim(val);
}
if(this.uppercase){
val=val.toUpperCase();
}
if(this.lowercase){
val=val.toLowerCase();
}
if(this.propercase){
val=val.replace(/[^\s]+/g,function(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
});
}
return val;
},_setBlurValue:function(){
this._setValueAttr(this.get("value"),true);
},_onBlur:function(e){
if(this.disabled){
return;
}
this._setBlurValue();
this.inherited(arguments);
if(this._selectOnClickHandle){
this.disconnect(this._selectOnClickHandle);
}
if(this.selectOnClick&&dojo.isMoz){
this.textbox.selectionStart=this.textbox.selectionEnd=undefined;
}
this._updatePlaceHolder();
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
if(this.selectOnClick&&by=="mouse"){
this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){
this.disconnect(this._selectOnClickHandle);
var _57f;
if(dojo.isIE){
var _580=dojo.doc.selection.createRange();
var _581=_580.parentElement();
_57f=_581==this.textbox&&_580.text.length==0;
}else{
_57f=this.textbox.selectionStart==this.textbox.selectionEnd;
}
if(_57f){
dijit.selectInputText(this.textbox);
}
});
}
this._updatePlaceHolder();
this.inherited(arguments);
this._refreshState();
},reset:function(){
this.textbox.value="";
this.inherited(arguments);
}});
dijit.selectInputText=function(_582,_583,stop){
var _584=dojo.global;
var _585=dojo.doc;
_582=dojo.byId(_582);
if(isNaN(_583)){
_583=0;
}
if(isNaN(stop)){
stop=_582.value?_582.value.length:0;
}
dijit.focus(_582);
if(_585["selection"]&&dojo.body()["createTextRange"]){
if(_582.createTextRange){
var r=_582.createTextRange();
r.collapse(true);
r.moveStart("character",-99999);
r.moveStart("character",_583);
r.moveEnd("character",stop-_583);
r.select();
}
}else{
if(_584["getSelection"]){
if(_582.setSelectionRange){
_582.setSelectionRange(_583,stop);
}
}
}
};
}
if(!dojo._hasResource["dijit.form.ValidationTextBox"]){
dojo._hasResource["dijit.form.ValidationTextBox"]=true;
dojo.provide("dijit.form.ValidationTextBox");
dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(_586){
return this.regExp;
},state:"",tooltipPosition:[],_setValueAttr:function(){
this.inherited(arguments);
this.validate(this._focused);
},validator:function(_587,_588){
return (new RegExp("^(?:"+this.regExpGen(_588)+")"+(this.required?"":"?")+"$")).test(_587)&&(!this.required||!this._isEmpty(_587))&&(this._isEmpty(_587)||this.parse(_587,_588)!==undefined);
},_isValidSubset:function(){
return this.textbox.value.search(this._partialre)==0;
},isValid:function(_589){
return this.validator(this.textbox.value,this.constraints);
},_isEmpty:function(_58a){
return (this.trim?/^\s*$/:/^$/).test(_58a);
},getErrorMessage:function(_58b){
return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;
},getPromptMessage:function(_58c){
return this.promptMessage;
},_maskValidSubsetError:true,validate:function(_58d){
var _58e="";
var _58f=this.disabled||this.isValid(_58d);
if(_58f){
this._maskValidSubsetError=true;
}
var _590=this._isEmpty(this.textbox.value);
var _591=!_58f&&_58d&&this._isValidSubset();
this._set("state",_58f?"":(((((!this._hasBeenBlurred||_58d)&&_590)||_591)&&this._maskValidSubsetError)?"Incomplete":"Error"));
dijit.setWaiState(this.focusNode,"invalid",_58f?"false":"true");
if(this.state=="Error"){
this._maskValidSubsetError=_58d&&_591;
_58e=this.getErrorMessage(_58d);
}else{
if(this.state=="Incomplete"){
_58e=this.getPromptMessage(_58d);
this._maskValidSubsetError=!this._hasBeenBlurred||_58d;
}else{
if(_590){
_58e=this.getPromptMessage(_58d);
}
}
}
this.set("message",_58e);
return _58f;
},displayMessage:function(_592){
dijit.hideTooltip(this.domNode);
if(_592&&this._focused){
dijit.showTooltip(_592,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}
},_refreshState:function(){
this.validate(this._focused);
this.inherited(arguments);
},constructor:function(){
this.constraints={};
},_setConstraintsAttr:function(_593){
if(!_593.locale&&this.lang){
_593.locale=this.lang;
}
this._set("constraints",_593);
this._computePartialRE();
},_computePartialRE:function(){
var p=this.regExpGen(this.constraints);
this.regExp=p;
var _594="";
if(p!=".*"){
this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){
switch(re.charAt(0)){
case "{":
case "+":
case "?":
case "*":
case "^":
case "$":
case "|":
case "(":
_594+=re;
break;
case ")":
_594+="|$)";
break;
default:
_594+="(?:"+re+"|$)";
break;
}
});
}
try{
"".search(_594);
}
catch(e){
_594=this.regExp;
console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);
}
this._partialre="^(?:"+_594+")$";
},postMixInProperties:function(){
this.inherited(arguments);
this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);
if(this.invalidMessage=="$_unset_$"){
this.invalidMessage=this.messages.invalidMessage;
}
if(!this.invalidMessage){
this.invalidMessage=this.promptMessage;
}
if(this.missingMessage=="$_unset_$"){
this.missingMessage=this.messages.missingMessage;
}
if(!this.missingMessage){
this.missingMessage=this.invalidMessage;
}
this._setConstraintsAttr(this.constraints);
},_setDisabledAttr:function(_595){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(_596){
this._set("required",_596);
dijit.setWaiState(this.focusNode,"required",_596);
this._refreshState();
},_setMessageAttr:function(_597){
this._set("message",_597);
this.displayMessage(_597);
},reset:function(){
this._maskValidSubsetError=true;
this.inherited(arguments);
},_onBlur:function(){
this.displayMessage("");
this.inherited(arguments);
}});
dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){
this.inherited(arguments);
this.nameAttrSetting="";
},serialize:function(val,_598){
return val.toString?val.toString():"";
},toString:function(){
var val=this.filter(this.get("value"));
return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";
},validate:function(){
this.valueNode.value=this.toString();
return this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");
},reset:function(){
this.valueNode.value="";
this.inherited(arguments);
}});
dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_599,_59a){
return ("min" in _59a?(this.compare(_599,_59a.min)>=0):true)&&("max" in _59a?(this.compare(_599,_59a.max)<=0):true);
},isInRange:function(_59b){
return this.rangeCheck(this.get("value"),this.constraints);
},_isDefinitelyOutOfRange:function(){
var val=this.get("value");
var _59c=false;
var _59d=false;
if("min" in this.constraints){
var min=this.constraints.min;
min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);
_59c=(typeof min=="number")&&min<0;
}
if("max" in this.constraints){
var max=this.constraints.max;
max=this.compare(val,((typeof max!="number")||max>0)?max:0);
_59d=(typeof max=="number")&&max>0;
}
return _59c||_59d;
},_isValidSubset:function(){
return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();
},isValid:function(_59e){
return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_59e));
},getErrorMessage:function(_59f){
var v=this.get("value");
if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_59f)){
return this.rangeMessage;
}
return this.inherited(arguments);
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.rangeMessage){
this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);
this.rangeMessage=this.messages.rangeMessage;
}
},_setConstraintsAttr:function(_5a0){
this.inherited(arguments);
if(this.focusNode){
if(this.constraints.min!==undefined){
dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);
}else{
dijit.removeWaiState(this.focusNode,"valuemin");
}
if(this.constraints.max!==undefined){
dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);
}else{
dijit.removeWaiState(this.focusNode,"valuemax");
}
}
},_setValueAttr:function(_5a1,_5a2){
dijit.setWaiState(this.focusNode,"valuenow",_5a1);
this.inherited(arguments);
}});
}
if(!dojo._hasResource["dijit._HasDropDown"]){
dojo._hasResource["dijit._HasDropDown"]=true;
dojo.provide("dijit._HasDropDown");
dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){
if(this.disabled||this.readOnly){
return;
}
this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");
this.toggleDropDown();
},_onDropDownMouseUp:function(e){
if(e&&this._docHandler){
this.disconnect(this._docHandler);
}
var _5a3=this.dropDown,_5a4=false;
if(e&&this._opened){
var c=dojo.position(this._buttonNode,true);
if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){
var t=e.target;
while(t&&!_5a4){
if(dojo.hasClass(t,"dijitPopup")){
_5a4=true;
}else{
t=t.parentNode;
}
}
if(_5a4){
t=e.target;
if(_5a3.onItemClick){
var _5a5;
while(t&&!(_5a5=dijit.byNode(t))){
t=t.parentNode;
}
if(_5a5&&_5a5.onClick&&_5a5.getParent){
_5a5.getParent().onItemClick(_5a5,e);
}
}
return;
}
}
}
if(this._opened&&_5a3.focus&&_5a3.autoFocus!==false){
window.setTimeout(dojo.hitch(_5a3,"focus"),1);
}
},_onDropDownClick:function(e){
if(this._stopClickEvents){
dojo.stopEvent(e);
}
},buildRendering:function(){
this.inherited(arguments);
this._buttonNode=this._buttonNode||this.focusNode||this.domNode;
this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;
var _5a6={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";
dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_5a6+"ArrowButton");
},postCreate:function(){
this.inherited(arguments);
this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");
this.connect(this._buttonNode,"onclick","_onDropDownClick");
this.connect(this.focusNode,"onkeypress","_onKey");
},destroy:function(){
if(this.dropDown){
if(!this.dropDown._destroyed){
this.dropDown.destroyRecursive();
}
delete this.dropDown;
}
this.inherited(arguments);
},_onKey:function(e){
if(this.disabled||this.readOnly){
return;
}
var d=this.dropDown,_5a7=e.target;
if(d&&this._opened&&d.handleKey){
if(d.handleKey(e)===false){
dojo.stopEvent(e);
return;
}
}
if(d&&this._opened&&e.charOrCode==dojo.keys.ESCAPE){
this.closeDropDown();
dojo.stopEvent(e);
}else{
if(!this._opened&&(e.charOrCode==dojo.keys.DOWN_ARROW||((e.charOrCode==dojo.keys.ENTER||e.charOrCode==" ")&&((_5a7.tagName||"").toLowerCase()!=="input"||(_5a7.type&&_5a7.type.toLowerCase()!=="text"))))){
this.toggleDropDown();
d=this.dropDown;
if(d&&d.focus){
setTimeout(dojo.hitch(d,"focus"),1);
}
dojo.stopEvent(e);
}
}
},_onBlur:function(){
var _5a8=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);
this.closeDropDown(_5a8);
this.inherited(arguments);
},isLoaded:function(){
return true;
},loadDropDown:function(_5a9){
_5a9();
},toggleDropDown:function(){
if(this.disabled||this.readOnly){
return;
}
if(!this._opened){
if(!this.isLoaded()){
this.loadDropDown(dojo.hitch(this,"openDropDown"));
return;
}else{
this.openDropDown();
}
}else{
this.closeDropDown();
}
},openDropDown:function(){
var _5aa=this.dropDown,_5ab=_5aa.domNode,_5ac=this._aroundNode||this.domNode,self=this;
if(!this._preparedNode){
this._preparedNode=true;
if(_5ab.style.width){
this._explicitDDWidth=true;
}
if(_5ab.style.height){
this._explicitDDHeight=true;
}
}
if(this.maxHeight||this.forceWidth||this.autoWidth){
var _5ad={display:"",visibility:"hidden"};
if(!this._explicitDDWidth){
_5ad.width="";
}
if(!this._explicitDDHeight){
_5ad.height="";
}
dojo.style(_5ab,_5ad);
var _5ae=this.maxHeight;
if(_5ae==-1){
var _5af=dojo.window.getBox(),_5b0=dojo.position(_5ac,false);
_5ae=Math.floor(Math.max(_5b0.y,_5af.h-(_5b0.y+_5b0.h)));
}
if(_5aa.startup&&!_5aa._started){
_5aa.startup();
}
dijit.popup.moveOffScreen(_5aa);
var mb=dojo._getMarginSize(_5ab);
var _5b1=(_5ae&&mb.h>_5ae);
dojo.style(_5ab,{overflowX:"hidden",overflowY:_5b1?"auto":"hidden"});
if(_5b1){
mb.h=_5ae;
if("w" in mb){
mb.w+=16;
}
}else{
delete mb.h;
}
if(this.forceWidth){
mb.w=_5ac.offsetWidth;
}else{
if(this.autoWidth){
mb.w=Math.max(mb.w,_5ac.offsetWidth);
}else{
delete mb.w;
}
}
if(dojo.isFunction(_5aa.resize)){
_5aa.resize(mb);
}else{
dojo.marginBox(_5ab,mb);
}
}
var _5b2=dijit.popup.open({parent:this,popup:_5aa,around:_5ac,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){
self.closeDropDown(true);
},onCancel:function(){
self.closeDropDown(true);
},onClose:function(){
dojo.attr(self._popupStateNode,"popupActive",false);
dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");
self._opened=false;
}});
dojo.attr(this._popupStateNode,"popupActive","true");
dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");
this._opened=true;
return _5b2;
},closeDropDown:function(_5b3){
if(this._opened){
if(_5b3){
this.focus();
}
dijit.popup.close(this.dropDown);
this._opened=false;
}
}});
}
if(!dojo._hasResource["dijit.form.ComboBox"]){
dojo._hasResource["dijit.form.ComboBox"]=true;
dojo.provide("dijit.form.ComboBox");
dojo.declare("dijit.form.ComboBoxMixin",dijit._HasDropDown,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitComboBox",dropDownClass:"dijit.form._ComboBoxMenu",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},maxHeight:-1,_getCaretPos:function(_5b4){
var pos=0;
if(typeof (_5b4.selectionStart)=="number"){
pos=_5b4.selectionStart;
}else{
if(dojo.isIE){
var tr=dojo.doc.selection.createRange().duplicate();
var ntr=_5b4.createTextRange();
tr.move("character",0);
ntr.move("character",0);
try{
ntr.setEndPoint("EndToEnd",tr);
pos=String(ntr.text).replace(/\r/g,"").length;
}
catch(e){
}
}
}
return pos;
},_setCaretPos:function(_5b5,_5b6){
_5b6=parseInt(_5b6);
dijit.selectInputText(_5b5,_5b6,_5b6);
},_setDisabledAttr:function(_5b7){
this.inherited(arguments);
dijit.setWaiState(this.domNode,"disabled",_5b7);
},_abortQuery:function(){
if(this.searchTimer){
clearTimeout(this.searchTimer);
this.searchTimer=null;
}
if(this._fetchHandle){
if(this._fetchHandle.abort){
this._fetchHandle.abort();
}
this._fetchHandle=null;
}
},_onInput:function(evt){
if(!this.searchTimer&&(evt.type=="paste"||evt.type=="input")&&this._lastInput!=this.textbox.value){
this.searchTimer=setTimeout(dojo.hitch(this,function(){
this._onKey({charOrCode:229});
}),100);
}
this.inherited(arguments);
},_onKey:function(evt){
var key=evt.charOrCode;
if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){
return;
}
var _5b8=false;
var pw=this.dropDown;
var dk=dojo.keys;
var _5b9=null;
this._prev_key_backspace=false;
this._abortQuery();
this.inherited(arguments);
if(this._opened){
_5b9=pw.getHighlightedOption();
}
switch(key){
case dk.PAGE_DOWN:
case dk.DOWN_ARROW:
case dk.PAGE_UP:
case dk.UP_ARROW:
if(this._opened){
this._announceOption(_5b9);
}
dojo.stopEvent(evt);
break;
case dk.ENTER:
if(_5b9){
if(_5b9==pw.nextButton){
this._nextSearch(1);
dojo.stopEvent(evt);
break;
}else{
if(_5b9==pw.previousButton){
this._nextSearch(-1);
dojo.stopEvent(evt);
break;
}
}
}else{
this._setBlurValue();
this._setCaretPos(this.focusNode,this.focusNode.value.length);
}
if(this._opened||this._fetchHandle){
evt.preventDefault();
}
case dk.TAB:
var _5ba=this.get("displayedValue");
if(pw&&(_5ba==pw._messages["previousMessage"]||_5ba==pw._messages["nextMessage"])){
break;
}
if(_5b9){
this._selectOption();
}
if(this._opened){
this._lastQuery=null;
this.closeDropDown();
}
break;
case " ":
if(_5b9){
dojo.stopEvent(evt);
this._selectOption();
this.closeDropDown();
}else{
_5b8=true;
}
break;
case dk.DELETE:
case dk.BACKSPACE:
this._prev_key_backspace=true;
_5b8=true;
break;
default:
_5b8=typeof key=="string"||key==229;
}
if(_5b8){
this.item=undefined;
this.searchTimer=setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);
}
},_autoCompleteText:function(text){
var fn=this.focusNode;
dijit.selectInputText(fn,fn.value.length);
var _5bb=this.ignoreCase?"toLowerCase":"substr";
if(text[_5bb](0).indexOf(this.focusNode.value[_5bb](0))==0){
var cpos=this._getCaretPos(fn);
if((cpos+1)>fn.value.length){
fn.value=text;
dijit.selectInputText(fn,cpos);
}
}else{
fn.value=text;
dijit.selectInputText(fn);
}
},_openResultList:function(_5bc,_5bd){
this._fetchHandle=null;
if(this.disabled||this.readOnly||(_5bd.query[this.searchAttr]!=this._lastQuery)){
return;
}
var _5be=this.dropDown._highlighted_option&&dojo.hasClass(this.dropDown._highlighted_option,"dijitMenuItemSelected");
this.dropDown.clearResultList();
if(!_5bc.length&&!this._maxOptions){
this.closeDropDown();
return;
}
_5bd._maxOptions=this._maxOptions;
var _5bf=this.dropDown.createOptions(_5bc,_5bd,dojo.hitch(this,"_getMenuLabelFromItem"));
this._showResultList();
if(_5bd.direction){
if(1==_5bd.direction){
this.dropDown.highlightFirstOption();
}else{
if(-1==_5bd.direction){
this.dropDown.highlightLastOption();
}
}
if(_5be){
this._announceOption(this.dropDown.getHighlightedOption());
}
}else{
if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_5bd.query[this.searchAttr])){
this._announceOption(_5bf[1]);
}
}
},_showResultList:function(){
this.closeDropDown(true);
this.displayMessage("");
this.openDropDown();
dijit.setWaiState(this.domNode,"expanded","true");
},loadDropDown:function(_5c0){
this._startSearchAll();
},isLoaded:function(){
return false;
},closeDropDown:function(){
this._abortQuery();
if(this._opened){
this.inherited(arguments);
dijit.setWaiState(this.domNode,"expanded","false");
dijit.removeWaiState(this.focusNode,"activedescendant");
}
},_setBlurValue:function(){
var _5c1=this.get("displayedValue");
var pw=this.dropDown;
if(pw&&(_5c1==pw._messages["previousMessage"]||_5c1==pw._messages["nextMessage"])){
this._setValueAttr(this._lastValueReported,true);
}else{
if(typeof this.item=="undefined"){
this.item=null;
this.set("displayedValue",_5c1);
}else{
if(this.value!=this._lastValueReported){
dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);
}
this._refreshState();
}
}
},_onBlur:function(){
this.closeDropDown();
this.inherited(arguments);
},_setItemAttr:function(item,_5c2,_5c3){
if(!_5c3){
var _5c4=this.labelFunc(item,this.store);
if(this.labelType=="html"){
var span=this._helperSpan;
span.innerHTML=_5c4;
_5c3=span.innerText||span.textContent;
}else{
_5c3=_5c4;
}
}
var _5c5=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_5c3;
this._set("item",item);
dijit.form.ComboBox.superclass._setValueAttr.call(this,_5c5,_5c2,_5c3);
},_announceOption:function(node){
if(!node){
return;
}
var _5c6;
if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){
_5c6=node.innerHTML;
this.item=undefined;
this.value="";
}else{
_5c6=node.innerText||node.textContent||"";
this.set("item",node.item,false,_5c6);
}
this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);
dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));
this._autoCompleteText(_5c6);
},_selectOption:function(evt){
if(evt){
this._announceOption(evt.target);
}
this.closeDropDown();
this._setCaretPos(this.focusNode,this.focusNode.value.length);
dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);
},_startSearchAll:function(){
this._startSearch("");
},_startSearchFromInput:function(){
this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));
},_getQueryString:function(text){
return dojo.string.substitute(this.queryExpr,[text]);
},_startSearch:function(key){
if(!this.dropDown){
var _5c7=this.id+"_popup",_5c8=dojo.getObject(this.dropDownClass,false);
this.dropDown=new _5c8({onChange:dojo.hitch(this,this._selectOption),id:_5c7,dir:this.dir});
dijit.removeWaiState(this.focusNode,"activedescendant");
dijit.setWaiState(this.textbox,"owns",_5c7);
}
var _5c9=dojo.clone(this.query);
this._lastInput=key;
this._lastQuery=_5c9[this.searchAttr]=this._getQueryString(key);
this.searchTimer=setTimeout(dojo.hitch(this,function(_5ca,_5cb){
this.searchTimer=null;
var _5cc={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_5ca,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_5cd){
_5cb._fetchHandle=null;
console.error("dijit.form.ComboBox: "+_5cd);
_5cb.closeDropDown();
},start:0,count:this.pageSize};
dojo.mixin(_5cc,_5cb.fetchProperties);
this._fetchHandle=_5cb.store.fetch(_5cc);
var _5ce=function(_5cf,_5d0){
_5cf.start+=_5cf.count*_5d0;
_5cf.direction=_5d0;
this._fetchHandle=this.store.fetch(_5cf);
this.focus();
};
this._nextSearch=this.dropDown.onPage=dojo.hitch(this,_5ce,this._fetchHandle);
},_5c9,this),this.searchDelay);
},_setMaxOptions:function(size,_5d1){
this._maxOptions=size;
},_getValueField:function(){
return this.searchAttr;
},constructor:function(){
this.query={};
this.fetchProperties={};
},postMixInProperties:function(){
if(!this.store){
var _5d2=this.srcNodeRef;
this.store=new dijit.form._ComboBoxDataStore(_5d2);
if(!("value" in this.params)){
var item=(this.item=this.store.fetchSelectedItem());
if(item){
var _5d3=this._getValueField();
this.value=_5d3!=this.searchAttr?this.store.getValue(item,_5d3):this.labelFunc(item,this.store);
}
}
}
this._helperSpan=dojo.create("span");
this.inherited(arguments);
},postCreate:function(){
var _5d4=dojo.query("label[for=\""+this.id+"\"]");
if(_5d4.length){
_5d4[0].id=(this.id+"_label");
dijit.setWaiState(this.domNode,"labelledby",_5d4[0].id);
}
this.inherited(arguments);
},destroy:function(){
dojo.destroy(this._helperSpan);
this.inherited(arguments);
},_setHasDownArrowAttr:function(val){
this.hasDownArrow=val;
this._buttonNode.style.display=val?"":"none";
},_getMenuLabelFromItem:function(item){
var _5d5=this.labelFunc(item,this.store),_5d6=this.labelType;
if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){
_5d5=this.doHighlight(_5d5,this._escapeHtml(this._lastInput));
_5d6="html";
}
return {html:_5d6=="html",label:_5d5};
},doHighlight:function(_5d7,find){
var _5d8=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");
find=dojo.regexp.escapeString(find);
return this._escapeHtml(_5d7).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_5d8),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");
},_escapeHtml:function(str){
str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
return str;
},reset:function(){
this.item=null;
this.inherited(arguments);
},labelFunc:function(item,_5d9){
return _5d9.getValue(item,this.labelAttr||this.searchAttr).toString();
}});
dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' role='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' role='option'></li>"+"</ul>",_messages:null,baseClass:"dijitComboBoxMenu",postMixInProperties:function(){
this.inherited(arguments);
this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);
},buildRendering:function(){
this.inherited(arguments);
this.previousButton.innerHTML=this._messages["previousMessage"];
this.nextButton.innerHTML=this._messages["nextMessage"];
},_setValueAttr:function(_5da){
this.value=_5da;
this.onChange(_5da);
},onChange:function(_5db){
},onPage:function(_5dc){
},onClose:function(){
this._blurOptionNode();
},_createOption:function(item,_5dd){
var _5de=dojo.create("li",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});
var _5df=_5dd(item);
if(_5df.html){
_5de.innerHTML=_5df.label;
}else{
_5de.appendChild(dojo.doc.createTextNode(_5df.label));
}
if(_5de.innerHTML==""){
_5de.innerHTML="&nbsp;";
}
_5de.item=item;
return _5de;
},createOptions:function(_5e0,_5e1,_5e2){
this.previousButton.style.display=(_5e1.start==0)?"none":"";
dojo.attr(this.previousButton,"id",this.id+"_prev");
dojo.forEach(_5e0,function(item,i){
var _5e3=this._createOption(item,_5e2);
dojo.attr(_5e3,"id",this.id+i);
this.domNode.insertBefore(_5e3,this.nextButton);
},this);
var _5e4=false;
if(_5e1._maxOptions&&_5e1._maxOptions!=-1){
if((_5e1.start+_5e1.count)<_5e1._maxOptions){
_5e4=true;
}else{
if((_5e1.start+_5e1.count)>_5e1._maxOptions&&_5e1.count==_5e0.length){
_5e4=true;
}
}
}else{
if(_5e1.count==_5e0.length){
_5e4=true;
}
}
this.nextButton.style.display=_5e4?"":"none";
dojo.attr(this.nextButton,"id",this.id+"_next");
return this.domNode.childNodes;
},clearResultList:function(){
while(this.domNode.childNodes.length>2){
this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);
}
this._blurOptionNode();
},_onMouseDown:function(evt){
dojo.stopEvent(evt);
},_onMouseUp:function(evt){
if(evt.target===this.domNode||!this._highlighted_option){
return;
}else{
if(evt.target==this.previousButton){
this._blurOptionNode();
this.onPage(-1);
}else{
if(evt.target==this.nextButton){
this._blurOptionNode();
this.onPage(1);
}else{
var tgt=evt.target;
while(!tgt.item){
tgt=tgt.parentNode;
}
this._setValueAttr({target:tgt},true);
}
}
}
},_onMouseOver:function(evt){
if(evt.target===this.domNode){
return;
}
var tgt=evt.target;
if(!(tgt==this.previousButton||tgt==this.nextButton)){
while(!tgt.item){
tgt=tgt.parentNode;
}
}
this._focusOptionNode(tgt);
},_onMouseOut:function(evt){
if(evt.target===this.domNode){
return;
}
this._blurOptionNode();
},_focusOptionNode:function(node){
if(this._highlighted_option!=node){
this._blurOptionNode();
this._highlighted_option=node;
dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");
}
},_blurOptionNode:function(){
if(this._highlighted_option){
dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");
this._highlighted_option=null;
}
},_highlightNextOption:function(){
if(!this.getHighlightedOption()){
var fc=this.domNode.firstChild;
this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);
}else{
var ns=this._highlighted_option.nextSibling;
if(ns&&ns.style.display!="none"){
this._focusOptionNode(ns);
}else{
this.highlightFirstOption();
}
}
dojo.window.scrollIntoView(this._highlighted_option);
},highlightFirstOption:function(){
var _5e5=this.domNode.firstChild;
var _5e6=_5e5.nextSibling;
this._focusOptionNode(_5e6.style.display=="none"?_5e5:_5e6);
dojo.window.scrollIntoView(this._highlighted_option);
},highlightLastOption:function(){
this._focusOptionNode(this.domNode.lastChild.previousSibling);
dojo.window.scrollIntoView(this._highlighted_option);
},_highlightPrevOption:function(){
if(!this.getHighlightedOption()){
var lc=this.domNode.lastChild;
this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);
}else{
var ps=this._highlighted_option.previousSibling;
if(ps&&ps.style.display!="none"){
this._focusOptionNode(ps);
}else{
this.highlightLastOption();
}
}
dojo.window.scrollIntoView(this._highlighted_option);
},_page:function(up){
var _5e7=0;
var _5e8=this.domNode.scrollTop;
var _5e9=dojo.style(this.domNode,"height");
if(!this.getHighlightedOption()){
this._highlightNextOption();
}
while(_5e7<_5e9){
if(up){
if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){
break;
}
this._highlightPrevOption();
}else{
if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){
break;
}
this._highlightNextOption();
}
var _5ea=this.domNode.scrollTop;
_5e7+=(_5ea-_5e8)*(up?-1:1);
_5e8=_5ea;
}
},pageUp:function(){
this._page(true);
},pageDown:function(){
this._page(false);
},getHighlightedOption:function(){
var ho=this._highlighted_option;
return (ho&&ho.parentNode)?ho:null;
},handleKey:function(evt){
switch(evt.charOrCode){
case dojo.keys.DOWN_ARROW:
this._highlightNextOption();
return false;
case dojo.keys.PAGE_DOWN:
this.pageDown();
return false;
case dojo.keys.UP_ARROW:
this._highlightPrevOption();
return false;
case dojo.keys.PAGE_UP:
this.pageUp();
return false;
default:
return true;
}
}});
dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_5eb,_5ec,_5ed){
this._set("item",null);
if(!_5eb){
_5eb="";
}
dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_5eb,_5ec,_5ed);
}});
dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){
this.root=root;
if(root.tagName!="SELECT"&&root.firstChild){
root=dojo.query("select",root);
if(root.length>0){
root=root[0];
}else{
this.root.innerHTML="<SELECT>"+this.root.innerHTML+"</SELECT>";
root=this.root.firstChild;
}
this.root=root;
}
dojo.query("> option",root).forEach(function(node){
node.innerHTML=dojo.trim(node.innerHTML);
});
},getValue:function(item,_5ee,_5ef){
return (_5ee=="value")?item.value:(item.innerText||item.textContent||"");
},isItemLoaded:function(_5f0){
return true;
},getFeatures:function(){
return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};
},_fetchItems:function(args,_5f1,_5f2){
if(!args.query){
args.query={};
}
if(!args.query.name){
args.query.name="";
}
if(!args.queryOptions){
args.queryOptions={};
}
var _5f3=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_5f4=dojo.query("> option",this.root).filter(function(_5f5){
return (_5f5.innerText||_5f5.textContent||"").match(_5f3);
});
if(args.sort){
_5f4.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));
}
_5f1(_5f4,args);
},close:function(_5f6){
return;
},getLabel:function(item){
return item.innerHTML;
},getIdentity:function(item){
return dojo.attr(item,"value");
},fetchItemByIdentity:function(args){
var item=dojo.query("> option[value='"+args.identity+"']",this.root)[0];
args.onItem(item);
},fetchSelectedItem:function(){
var root=this.root,si=root.selectedIndex;
return typeof si=="number"?dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0]:null;
}});
dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);
}
if(!dojo._hasResource["dijit.form.FilteringSelect"]){
dojo._hasResource["dijit.form.FilteringSelect"]=true;
dojo.provide("dijit.form.FilteringSelect");
dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){
return this._opened;
},isValid:function(){
return this.item||(!this.required&&this.get("displayedValue")=="");
},_refreshState:function(){
if(!this.searchTimer){
this.inherited(arguments);
}
},_callbackSetLabel:function(_5f7,_5f8,_5f9){
if((_5f8&&_5f8.query[this.searchAttr]!=this._lastQuery)||(!_5f8&&_5f7.length&&this.store.getIdentity(_5f7[0])!=this._lastQuery)){
return;
}
if(!_5f7.length){
this.valueNode.value="";
dijit.form.TextBox.superclass._setValueAttr.call(this,"",_5f9||(_5f9===undefined&&!this._focused));
this._set("item",null);
this.validate(this._focused);
}else{
this.set("item",_5f7[0],_5f9);
}
},_openResultList:function(_5fa,_5fb){
if(_5fb.query[this.searchAttr]!=this._lastQuery){
return;
}
dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);
if(this.item===undefined){
this.validate(true);
}
},_getValueAttr:function(){
return this.valueNode.value;
},_getValueField:function(){
return "value";
},_setValueAttr:function(_5fc,_5fd){
if(!this._onChangeActive){
_5fd=null;
}
this._lastQuery=_5fc;
if(_5fc===null||_5fc===""){
this._setDisplayedValueAttr("",_5fd);
return;
}
var self=this;
this.store.fetchItemByIdentity({identity:_5fc,onItem:function(item){
self._callbackSetLabel(item?[item]:[],undefined,_5fd);
}});
},_setItemAttr:function(item,_5fe,_5ff){
this.inherited(arguments);
this.valueNode.value=this.value;
this._lastDisplayedValue=this.textbox.value;
},_getDisplayQueryString:function(text){
return text.replace(/([\\\*\?])/g,"\\$1");
},_setDisplayedValueAttr:function(_600,_601){
if(_600==null){
_600="";
}
if(!this._created){
if(!("displayedValue" in this.params)){
return;
}
_601=false;
}
if(this.store){
this.closeDropDown();
var _602=dojo.clone(this.query);
this._lastQuery=_602[this.labelAttr||this.searchAttr]=this._getDisplayQueryString(_600);
this.textbox.value=_600;
this._lastDisplayedValue=_600;
var _603=this;
var _604={query:_602,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_605,_606){
_603._fetchHandle=null;
dojo.hitch(_603,"_callbackSetLabel")(_605,_606,_601);
},onError:function(_607){
_603._fetchHandle=null;
console.error("dijit.form.FilteringSelect: "+_607);
dojo.hitch(_603,"_callbackSetLabel")([],undefined,false);
}};
dojo.mixin(_604,this.fetchProperties);
this._fetchHandle=this.store.fetch(_604);
}
},undo:function(){
this.set("displayedValue",this._lastDisplayedValue);
}});
}
if(!dojo._hasResource["efs.widgets.WaitBox"]){
dojo._hasResource["efs.widgets.WaitBox"]=true;
dojo.provide("efs.widgets.WaitBox");
dojo.declare("efs.widgets.WaitBox",[dijit._Widget,dijit._Templated],{title:"Please wait a moment...",fadeDuration:1000,url:"",queryparams:{},widgetsInTemplate:true,templateString:"<div class=\"waitboxwidget\" dojoAttachPoint=\"myWaitbox\">\n    <div style=\"margin-top:50px; text-align: center; width: 100%; height: 160px;\">\n\n        <div class=\"efs-ajax-spinner\">\n            <div class=\"spinnerpoint\">\n                <div class=\"bounce1\"></div>\n                <div class=\"bounce2\"></div>\n                <div class=\"bounce3\"></div>\n            </div>\n        </div>\n\n        <br/>\n        <div style=\"font-size: 14px;\" dojoAttachPoint=\"titleNode\">${title}</div>\n    </div>\n</div>\n",attributeMap:{title:{node:"titleNode",type:"innerHTML"}},contenttype:"text",postCreate:function(){
this.inherited(arguments);
},swapContent:function(_608){
var out=dojo.fadeOut({node:this.domNode,duration:this.attr("fadeDuration")}).play();
dojo.connect(out,"onEnd",dojo.hitch(this,function(){
dojo.style(this.domNode,"opacity",100);
if(this.attr("contenttype")=="json"){
if(_608&&_608.debug&&dojo.byId("ajax_debug")){
dojox.html.set(dojo.byId("ajax_debug"),_608.debug,{executeScripts:true});
}
_608=_608.content;
}
dojox.html.set(this.myWaitbox,_608,{executeScripts:true});
dojo.parser.parse();
var _609=dojo.fadeIn({node:this.domNode,duration:this.attr("fadeDuration")}).play();
this.myWaitbox.setAttribute("captain_schmutzt",1);
this.OnSwapContentFinish();
var _60a=this.attr("queryparams");
if(_60a.hasOwnProperty("disablef5")){
window.removeEventListener("keydown",this.customKeydownEvent);
}
}));
},handleError:function(_60b,_60c){
var _60d="";
switch(_60c.xhr.status){
case 404:
_60d="Application error. Page not found.";
break;
case 500:
_60d="Application error. An error occurred while calling the action.";
break;
}
var out=dojo.fadeOut({node:this.domNode,duration:this.attr("fadeDuration")}).play();
dojo.connect(out,"onEnd",dojo.hitch(this,function(){
dojo.style(this.domNode,"opacity",100);
dojox.html.set(this.myWaitbox,_60d,{});
this.myWaitbox.setAttribute("captain_schmutzt",1);
this.OnHandleErrorFinish();
var _60e=this.attr("queryparams");
if(_60e.hasOwnProperty("disablef5")){
window.removeEventListener("keydown",this.customKeydownEvent);
}
}));
},startRequest:function(_60f){
dojo.xhrPost({url:this.attr("url"),content:_60f,handleAs:this.attr("contenttype"),load:dojo.hitch(this,function(data,args){
this.OnRequestSuccessful(data,args);
}),error:dojo.hitch(this,function(_610,_611){
this.OnRequestError(_610,_611);
})});
},registerEvents:function(){
dojo.connect(this,"OnRequestSuccessful",this,this.swapContent);
dojo.connect(this,"OnRequestError",this,this.handleError);
dojo.connect(this,"OnHandleErrorFinish",this,this.loadError);
dojo.connect(this,"OnSwapContentFinish",this,this.loadSuccessful);
},customKeydownEvent:function(_612){
if(_612.keyCode===116||(_612.keyCode===82&&_612.ctrlKey)){
_612.preventDefault();
return false;
}
},startup:function(){
var _613=this.attr("queryparams");
if(_613.hasOwnProperty("disablef5")){
window.addEventListener("keydown",this.customKeydownEvent);
}
this.loadStart();
this.registerEvents();
this.startRequest(this.flattenParams(this.attr("queryparams")));
},flattenParams:function(obj){
var ret={};
for(var prop in obj){
this.flattenParamsRecursive(ret,prop,obj[prop]);
}
return ret;
},flattenParamsRecursive:function(ret,key,_614){
if(dojo.isObject(_614)||dojo.isArray(_614)){
for(var prop in _614){
this.flattenParamsRecursive(ret,key+"["+prop+"]",_614[prop]);
}
}else{
ret[key]=_614;
}
},loadStart:function(){
},loadSuccessful:function(){
},loadError:function(){
},OnRequestSuccessful:function(data,args){
},OnRequestError:function(_615,_616){
},OnSwapContentFinish:function(){
},OnHandleErrorFinish:function(){
}});
}
if(!dojo._hasResource["efs.components.popup"]){
dojo._hasResource["efs.components.popup"]=true;
dojo.provide("efs.components.popup");
dojo.declare("efs.components.popup",null,{constructor:function(href,_617){
if(!_617.title){
_617.title="Popup";
}
if(!_617.width){
_617.width="640px";
}
if(_617.width=="auto"&&screen.width){
_617.width=(screen.width*0.8)+"px";
}
if(!_617.height){
_617.height="480px";
}
if(_617.height=="auto"&&screen.height){
_617.height=(screen.height*0.8)+"px";
}
if(!_617.toolbar){
_617.toolbar="no";
}
if(!_617.location){
_617.location="no";
}
if(!_617.directories){
_617.directories="no";
}
if(!_617.status){
_617.status="no";
}
if(!_617.menubar){
_617.menubar="no";
}
if(!_617.scrollbars){
_617.scrollbars="yes";
}
if(!_617.resizable){
_617.resizable="yes";
}
help_window=window.open(href,_617.title,"toolbar="+_617.toolbar+",location="+_617.location+",directories="+_617.directories+",status="+_617.status+",menubar="+_617.menubar+",scrollbars="+_617.scrollbars+",resizable="+_617.resizable+",width="+_617.width+",height="+_617.height);
help_window.focus();
return false;
},getWindow:function(){
return help_window;
}});
}
if(!dojo._hasResource["dojo.cldr.supplemental"]){
dojo._hasResource["dojo.cldr.supplemental"]=true;
dojo.provide("dojo.cldr.supplemental");
dojo.getObject("cldr.supplemental",true,dojo);
dojo.cldr.supplemental.getFirstDayOfWeek=function(_618){
var _619={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};
var _61a=dojo.cldr.supplemental._region(_618);
var dow=_619[_61a];
return (dow===undefined)?1:dow;
};
dojo.cldr.supplemental._region=function(_61b){
_61b=dojo.i18n.normalizeLocale(_61b);
var tags=_61b.split("-");
var _61c=tags[1];
if(!_61c){
_61c={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];
}else{
if(_61c.length==4){
_61c=tags[2];
}
}
return _61c;
};
dojo.cldr.supplemental.getWeekend=function(_61d){
var _61e={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5};
var _61f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6};
var _620=dojo.cldr.supplemental._region(_61d);
var _621=_61e[_620];
var end=_61f[_620];
if(_621===undefined){
_621=6;
}
if(end===undefined){
end=0;
}
return {start:_621,end:end};
};
}
if(!dojo._hasResource["dojo.date"]){
dojo._hasResource["dojo.date"]=true;
dojo.provide("dojo.date");
dojo.getObject("date",true,dojo);
dojo.date.getDaysInMonth=function(_622){
var _623=_622.getMonth();
var days=[31,28,31,30,31,30,31,31,30,31,30,31];
if(_623==1&&dojo.date.isLeapYear(_622)){
return 29;
}
return days[_623];
};
dojo.date.isLeapYear=function(_624){
var year=_624.getFullYear();
return !(year%400)||(!(year%4)&&!!(year%100));
};
dojo.date.getTimezoneName=function(_625){
var str=_625.toString();
var tz="";
var _626;
var pos=str.indexOf("(");
if(pos>-1){
tz=str.substring(++pos,str.indexOf(")"));
}else{
var pat=/([A-Z\/]+) \d{4}$/;
if((_626=str.match(pat))){
tz=_626[1];
}else{
str=_625.toLocaleString();
pat=/ ([A-Z\/]+)$/;
if((_626=str.match(pat))){
tz=_626[1];
}
}
}
return (tz=="AM"||tz=="PM")?"":tz;
};
dojo.date.compare=function(_627,_628,_629){
_627=new Date(+_627);
_628=new Date(+(_628||new Date()));
if(_629=="date"){
_627.setHours(0,0,0,0);
_628.setHours(0,0,0,0);
}else{
if(_629=="time"){
_627.setFullYear(0,0,0);
_628.setFullYear(0,0,0);
}
}
if(_627>_628){
return 1;
}
if(_627<_628){
return -1;
}
return 0;
};
dojo.date.add=function(date,_62a,_62b){
var sum=new Date(+date);
var _62c=false;
var _62d="Date";
switch(_62a){
case "day":
break;
case "weekday":
var days,_62e;
var mod=_62b%5;
if(!mod){
days=(_62b>0)?5:-5;
_62e=(_62b>0)?((_62b-5)/5):((_62b+5)/5);
}else{
days=mod;
_62e=parseInt(_62b/5);
}
var strt=date.getDay();
var adj=0;
if(strt==6&&_62b>0){
adj=1;
}else{
if(strt==0&&_62b<0){
adj=-1;
}
}
var trgt=strt+days;
if(trgt==0||trgt==6){
adj=(_62b>0)?2:-2;
}
_62b=(7*_62e)+days+adj;
break;
case "year":
_62d="FullYear";
_62c=true;
break;
case "week":
_62b*=7;
break;
case "quarter":
_62b*=3;
case "month":
_62c=true;
_62d="Month";
break;
default:
_62d="UTC"+_62a.charAt(0).toUpperCase()+_62a.substring(1)+"s";
}
if(_62d){
sum["set"+_62d](sum["get"+_62d]()+_62b);
}
if(_62c&&(sum.getDate()<date.getDate())){
sum.setDate(0);
}
return sum;
};
dojo.date.difference=function(_62f,_630,_631){
_630=_630||new Date();
_631=_631||"day";
var _632=_630.getFullYear()-_62f.getFullYear();
var _633=1;
switch(_631){
case "quarter":
var m1=_62f.getMonth();
var m2=_630.getMonth();
var q1=Math.floor(m1/3)+1;
var q2=Math.floor(m2/3)+1;
q2+=(_632*4);
_633=q2-q1;
break;
case "weekday":
var days=Math.round(dojo.date.difference(_62f,_630,"day"));
var _634=parseInt(dojo.date.difference(_62f,_630,"week"));
var mod=days%7;
if(mod==0){
days=_634*5;
}else{
var adj=0;
var aDay=_62f.getDay();
var bDay=_630.getDay();
_634=parseInt(days/7);
mod=days%7;
var _635=new Date(_62f);
_635.setDate(_635.getDate()+(_634*7));
var _636=_635.getDay();
if(days>0){
switch(true){
case aDay==6:
adj=-1;
break;
case aDay==0:
adj=0;
break;
case bDay==6:
adj=-1;
break;
case bDay==0:
adj=-2;
break;
case (_636+mod)>5:
adj=-2;
}
}else{
if(days<0){
switch(true){
case aDay==6:
adj=0;
break;
case aDay==0:
adj=1;
break;
case bDay==6:
adj=2;
break;
case bDay==0:
adj=1;
break;
case (_636+mod)<0:
adj=2;
}
}
}
days+=adj;
days-=(_634*2);
}
_633=days;
break;
case "year":
_633=_632;
break;
case "month":
_633=(_630.getMonth()-_62f.getMonth())+(_632*12);
break;
case "week":
_633=parseInt(dojo.date.difference(_62f,_630,"day")/7);
break;
case "day":
_633/=24;
case "hour":
_633/=60;
case "minute":
_633/=60;
case "second":
_633/=1000;
case "millisecond":
_633*=_630.getTime()-_62f.getTime();
}
return Math.round(_633);
};
}
if(!dojo._hasResource["dojo.date.locale"]){
dojo._hasResource["dojo.date.locale"]=true;
dojo.provide("dojo.date.locale");
dojo.getObject("date.locale",true,dojo);
(function(){
function _637(_638,_639,_63a,_63b){
return _63b.replace(/([a-z])\1*/ig,function(_63c){
var s,pad,c=_63c.charAt(0),l=_63c.length,_63d=["abbr","wide","narrow"];
switch(c){
case "G":
s=_639[(l<4)?"eraAbbr":"eraNames"][_638.getFullYear()<0?0:1];
break;
case "y":
s=_638.getFullYear();
switch(l){
case 1:
break;
case 2:
if(!_63a.fullYear){
s=String(s);
s=s.substr(s.length-2);
break;
}
default:
pad=true;
}
break;
case "Q":
case "q":
s=Math.ceil((_638.getMonth()+1)/3);
pad=true;
break;
case "M":
var m=_638.getMonth();
if(l<3){
s=m+1;
pad=true;
}else{
var _63e=["months","format",_63d[l-3]].join("-");
s=_639[_63e][m];
}
break;
case "w":
var _63f=0;
s=dojo.date.locale._getWeekOfYear(_638,_63f);
pad=true;
break;
case "d":
s=_638.getDate();
pad=true;
break;
case "D":
s=dojo.date.locale._getDayOfYear(_638);
pad=true;
break;
case "E":
var d=_638.getDay();
if(l<3){
s=d+1;
pad=true;
}else{
var _640=["days","format",_63d[l-3]].join("-");
s=_639[_640][d];
}
break;
case "a":
var _641=(_638.getHours()<12)?"am":"pm";
s=_63a[_641]||_639["dayPeriods-format-wide-"+_641];
break;
case "h":
case "H":
case "K":
case "k":
var h=_638.getHours();
switch(c){
case "h":
s=(h%12)||12;
break;
case "H":
s=h;
break;
case "K":
s=(h%12);
break;
case "k":
s=h||24;
break;
}
pad=true;
break;
case "m":
s=_638.getMinutes();
pad=true;
break;
case "s":
s=_638.getSeconds();
pad=true;
break;
case "S":
s=Math.round(_638.getMilliseconds()*Math.pow(10,l-3));
pad=true;
break;
case "v":
case "z":
s=dojo.date.locale._getZone(_638,true,_63a);
if(s){
break;
}
l=4;
case "Z":
var _642=dojo.date.locale._getZone(_638,false,_63a);
var tz=[(_642<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_642)/60),2),dojo.string.pad(Math.abs(_642)%60,2)];
if(l==4){
tz.splice(0,0,"GMT");
tz.splice(3,0,":");
}
s=tz.join("");
break;
default:
throw new Error("dojo.date.locale.format: invalid pattern char: "+_63b);
}
if(pad){
s=dojo.string.pad(s,l);
}
return s;
});
};
dojo.date.locale._getZone=function(_643,_644,_645){
if(_644){
return dojo.date.getTimezoneName(_643);
}else{
return _643.getTimezoneOffset();
}
};
dojo.date.locale.format=function(_646,_647){
_647=_647||{};
var _648=dojo.i18n.normalizeLocale(_647.locale),_649=_647.formatLength||"short",_64a=dojo.date.locale._getGregorianBundle(_648),str=[],_64b=dojo.hitch(this,_637,_646,_64a,_647);
if(_647.selector=="year"){
return _64c(_64a["dateFormatItem-yyyy"]||"yyyy",_64b);
}
var _64d;
if(_647.selector!="date"){
_64d=_647.timePattern||_64a["timeFormat-"+_649];
if(_64d){
str.push(_64c(_64d,_64b));
}
}
if(_647.selector!="time"){
_64d=_647.datePattern||_64a["dateFormat-"+_649];
if(_64d){
str.push(_64c(_64d,_64b));
}
}
return str.length==1?str[0]:_64a["dateTimeFormat-"+_649].replace(/\{(\d+)\}/g,function(_64e,key){
return str[key];
});
};
dojo.date.locale.regexp=function(_64f){
return dojo.date.locale._parseInfo(_64f).regexp;
};
dojo.date.locale._parseInfo=function(_650){
_650=_650||{};
var _651=dojo.i18n.normalizeLocale(_650.locale),_652=dojo.date.locale._getGregorianBundle(_651),_653=_650.formatLength||"short",_654=_650.datePattern||_652["dateFormat-"+_653],_655=_650.timePattern||_652["timeFormat-"+_653],_656;
if(_650.selector=="date"){
_656=_654;
}else{
if(_650.selector=="time"){
_656=_655;
}else{
_656=_652["dateTimeFormat-"+_653].replace(/\{(\d+)\}/g,function(_657,key){
return [_655,_654][key];
});
}
}
var _658=[],re=_64c(_656,dojo.hitch(this,_659,_658,_652,_650));
return {regexp:re,tokens:_658,bundle:_652};
};
dojo.date.locale.parse=function(_65a,_65b){
var _65c=/[\u200E\u200F\u202A\u202E]/g,info=dojo.date.locale._parseInfo(_65b),_65d=info.tokens,_65e=info.bundle,re=new RegExp("^"+info.regexp.replace(_65c,"")+"$",info.strict?"":"i"),_65f=re.exec(_65a&&_65a.replace(_65c,""));
if(!_65f){
return null;
}
var _660=["abbr","wide","narrow"],_661=[1970,0,1,0,0,0,0],amPm="",_662=dojo.every(_65f,function(v,i){
if(!i){
return true;
}
var _663=_65d[i-1];
var l=_663.length;
switch(_663.charAt(0)){
case "y":
if(l!=2&&_65b.strict){
_661[0]=v;
}else{
if(v<100){
v=Number(v);
var year=""+new Date().getFullYear(),_664=year.substring(0,2)*100,_665=Math.min(Number(year.substring(2,4))+20,99),num=(v<_665)?_664+v:_664-100+v;
_661[0]=num;
}else{
if(_65b.strict){
return false;
}
_661[0]=v;
}
}
break;
case "M":
if(l>2){
var _666=_65e["months-format-"+_660[l-3]].concat();
if(!_65b.strict){
v=v.replace(".","").toLowerCase();
_666=dojo.map(_666,function(s){
return s.replace(".","").toLowerCase();
});
}
v=dojo.indexOf(_666,v);
if(v==-1){
return false;
}
}else{
v--;
}
_661[1]=v;
break;
case "E":
case "e":
var days=_65e["days-format-"+_660[l-3]].concat();
if(!_65b.strict){
v=v.toLowerCase();
days=dojo.map(days,function(d){
return d.toLowerCase();
});
}
v=dojo.indexOf(days,v);
if(v==-1){
return false;
}
break;
case "D":
_661[1]=0;
case "d":
_661[2]=v;
break;
case "a":
var am=_65b.am||_65e["dayPeriods-format-wide-am"],pm=_65b.pm||_65e["dayPeriods-format-wide-pm"];
if(!_65b.strict){
var _667=/\./g;
v=v.replace(_667,"").toLowerCase();
am=am.replace(_667,"").toLowerCase();
pm=pm.replace(_667,"").toLowerCase();
}
if(_65b.strict&&v!=am&&v!=pm){
return false;
}
amPm=(v==pm)?"p":(v==am)?"a":"";
break;
case "K":
if(v==24){
v=0;
}
case "h":
case "H":
case "k":
if(v>23){
return false;
}
_661[3]=v;
break;
case "m":
_661[4]=v;
break;
case "s":
_661[5]=v;
break;
case "S":
_661[6]=v;
}
return true;
});
var _668=+_661[3];
if(amPm==="p"&&_668<12){
_661[3]=_668+12;
}else{
if(amPm==="a"&&_668==12){
_661[3]=0;
}
}
var _669=new Date(_661[0],_661[1],_661[2],_661[3],_661[4],_661[5],_661[6]);
if(_65b.strict){
_669.setFullYear(_661[0]);
}
var _66a=_65d.join(""),_66b=_66a.indexOf("d")!=-1,_66c=_66a.indexOf("M")!=-1;
if(!_662||(_66c&&_669.getMonth()>_661[1])||(_66b&&_669.getDate()>_661[2])){
return null;
}
if((_66c&&_669.getMonth()<_661[1])||(_66b&&_669.getDate()<_661[2])){
_669=dojo.date.add(_669,"hour",1);
}
return _669;
};
function _64c(_66d,_66e,_66f,_670){
var _671=function(x){
return x;
};
_66e=_66e||_671;
_66f=_66f||_671;
_670=_670||_671;
var _672=_66d.match(/(''|[^'])+/g),_673=_66d.charAt(0)=="'";
dojo.forEach(_672,function(_674,i){
if(!_674){
_672[i]="";
}else{
_672[i]=(_673?_66f:_66e)(_674.replace(/''/g,"'"));
_673=!_673;
}
});
return _670(_672.join(""));
};
function _659(_675,_676,_677,_678){
_678=dojo.regexp.escapeString(_678);
if(!_677.strict){
_678=_678.replace(" a"," ?a");
}
return _678.replace(/([a-z])\1*/ig,function(_679){
var s,c=_679.charAt(0),l=_679.length,p2="",p3="";
if(_677.strict){
if(l>1){
p2="0"+"{"+(l-1)+"}";
}
if(l>2){
p3="0"+"{"+(l-2)+"}";
}
}else{
p2="0?";
p3="0{0,2}";
}
switch(c){
case "y":
s="\\d{2,4}";
break;
case "M":
s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";
break;
case "D":
s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";
break;
case "d":
s="3[01]|[12]\\d|"+p2+"[1-9]";
break;
case "w":
s=p2+"[1-9]|[1-4][0-9]|5[0-3]";
break;
case "E":
s="\\S+";
break;
case "h":
s=p2+"[1-9]|1[0-2]";
break;
case "k":
s=p2+"\\d|1[01]";
break;
case "H":
s=p2+"\\d|1\\d|2[0-3]";
break;
case "K":
s=p2+"[1-9]|1\\d|2[0-4]";
break;
case "m":
case "s":
s="[0-5]\\d";
break;
case "S":
s="\\d{"+l+"}";
break;
case "a":
var am=_677.am||_676["dayPeriods-format-wide-am"],pm=_677.pm||_676["dayPeriods-format-wide-pm"];
if(_677.strict){
s=am+"|"+pm;
}else{
s=am+"|"+pm;
if(am!=am.toLowerCase()){
s+="|"+am.toLowerCase();
}
if(pm!=pm.toLowerCase()){
s+="|"+pm.toLowerCase();
}
if(s.indexOf(".")!=-1){
s+="|"+s.replace(/\./g,"");
}
}
s=s.replace(/\./g,"\\.");
break;
default:
s=".*";
}
if(_675){
_675.push(_679);
}
return "("+s+")";
}).replace(/[\xa0 ]/g,"[\\s\\xa0]");
};
})();
(function(){
var _67a=[];
dojo.date.locale.addCustomFormats=function(_67b,_67c){
_67a.push({pkg:_67b,name:_67c});
};
dojo.date.locale._getGregorianBundle=function(_67d){
var _67e={};
dojo.forEach(_67a,function(desc){
var _67f=dojo.i18n.getLocalization(desc.pkg,desc.name,_67d);
_67e=dojo.mixin(_67e,_67f);
},this);
return _67e;
};
})();
dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");
dojo.date.locale.getNames=function(item,type,_680,_681){
var _682,_683=dojo.date.locale._getGregorianBundle(_681),_684=[item,_680,type];
if(_680=="standAlone"){
var key=_684.join("-");
_682=_683[key];
if(_682[0]==1){
_682=undefined;
}
}
_684[1]="format";
return (_682||_683[_684.join("-")]).concat();
};
dojo.date.locale.isWeekend=function(_685,_686){
var _687=dojo.cldr.supplemental.getWeekend(_686),day=(_685||new Date()).getDay();
if(_687.end<_687.start){
_687.end+=7;
if(day<_687.start){
day+=7;
}
}
return day>=_687.start&&day<=_687.end;
};
dojo.date.locale._getDayOfYear=function(_688){
return dojo.date.difference(new Date(_688.getFullYear(),0,1,_688.getHours()),_688)+1;
};
dojo.date.locale._getWeekOfYear=function(_689,_68a){
if(arguments.length==1){
_68a=0;
}
var _68b=new Date(_689.getFullYear(),0,1).getDay(),adj=(_68b-_68a+7)%7,week=Math.floor((dojo.date.locale._getDayOfYear(_689)+adj-1)/7);
if(_68b==_68a){
week++;
}
return week;
};
}
if(!dojo._hasResource["dijit.form.Button"]){
dojo._hasResource["dijit.form.Button"]=true;
dojo.provide("dijit.form.Button");
dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode"}),_onClick:function(e){
if(this.disabled){
return false;
}
this._clicked();
return this.onClick(e);
},_onButtonClick:function(e){
if(this._onClick(e)===false){
e.preventDefault();
}else{
if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){
for(var node=this.domNode;node.parentNode;node=node.parentNode){
var _68c=dijit.byNode(node);
if(_68c&&typeof _68c._onSubmit=="function"){
_68c._onSubmit(e);
break;
}
}
}else{
if(this.valueNode){
this.valueNode.click();
e.preventDefault();
}
}
}
},buildRendering:function(){
this.inherited(arguments);
dojo.setSelectable(this.focusNode,false);
},_fillContent:function(_68d){
if(_68d&&(!this.params||!("label" in this.params))){
this.set("label",_68d.innerHTML);
}
},_setShowLabelAttr:function(val){
if(this.containerNode){
dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);
}
this._set("showLabel",val);
},onClick:function(e){
return true;
},_clicked:function(e){
},setLabel:function(_68e){
dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_68e);
},_setLabelAttr:function(_68f){
this._set("label",_68f);
this.containerNode.innerHTML=_68f;
if(this.showLabel==false&&!this.params.title){
this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
},_setIconClassAttr:function(val){
var _690=this.iconClass||"dijitNoIcon",_691=val||"dijitNoIcon";
dojo.replaceClass(this.iconNode,_691,_690);
this._set("iconClass",val);
}});
dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),_fillContent:function(){
if(this.srcNodeRef){
var _692=dojo.query("*",this.srcNodeRef);
dijit.form.DropDownButton.superclass._fillContent.call(this,_692[0]);
this.dropDownContainer=this.srcNodeRef;
}
},startup:function(){
if(this._started){
return;
}
if(!this.dropDown&&this.dropDownContainer){
var _693=dojo.query("[widgetId]",this.dropDownContainer)[0];
this.dropDown=dijit.byNode(_693);
delete this.dropDownContainer;
}
if(this.dropDown){
dijit.popup.hide(this.dropDown);
}
this.inherited(arguments);
},isLoaded:function(){
var _694=this.dropDown;
return (!!_694&&(!_694.href||_694.isLoaded));
},loadDropDown:function(){
var _695=this.dropDown;
if(!_695){
return;
}
if(!this.isLoaded()){
var _696=dojo.connect(_695,"onLoad",this,function(){
dojo.disconnect(_696);
this.openDropDown();
});
_695.refresh();
}else{
this.openDropDown();
}
},isFocusable:function(){
return this.inherited(arguments)&&!this._mouseDown;
}});
dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){
if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){
dijit.focus(this._popupStateNode);
dojo.stopEvent(evt);
}
},_onArrowKeyPress:function(evt){
if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){
dijit.focus(this.titleNode);
dojo.stopEvent(evt);
}
},focus:function(_697){
if(!this.disabled){
dijit.focus(_697=="start"?this.titleNode:this._popupStateNode);
}
}});
dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){
this.set("checked",!this.checked);
},_setCheckedAttr:function(_698,_699){
this._set("checked",_698);
dojo.attr(this.focusNode||this.domNode,"checked",_698);
dijit.setWaiState(this.focusNode||this.domNode,"pressed",_698);
this._handleOnChange(_698,_699);
},setChecked:function(_69a){
dojo.deprecated("setChecked("+_69a+") is deprecated. Use set('checked',"+_69a+") instead.","","2.0");
this.set("checked",_69a);
},reset:function(){
this._hasBeenBlurred=false;
this.set("checked",this.params.checked||false);
}});
}
if(!dojo._hasResource["dijit.form.DropDownButton"]){
dojo._hasResource["dijit.form.DropDownButton"]=true;
dojo.provide("dijit.form.DropDownButton");
}
if(!dojo._hasResource["dijit.Calendar"]){
dojo._hasResource["dijit.Calendar"]=true;
dojo.provide("dijit.Calendar");
dojo.declare("dijit.Calendar",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/Calendar.html","<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" dojoAttachEvent=\"onkeypress: _onKeyPress\" aria-labelledby=\"${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div dojoType=\"dijit.form.DropDownButton\" dojoAttachPoint=\"monthDropDownButton\"\n\t\t\t\t\tid=\"${id}_mddb\" tabIndex=\"-1\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\" role=\"gridcell\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"),widgetsInTemplate:true,value:new Date(""),datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},_isValidDate:function(_69b){
return _69b&&!isNaN(_69b)&&typeof _69b=="object"&&_69b.toString()!=this.constructor.prototype.value.toString();
},setValue:function(_69c){
dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",_69c);
},_getValueAttr:function(){
var _69d=new this.dateClassObj(this.value);
_69d.setHours(0,0,0,0);
if(_69d.getDate()<this.value.getDate()){
_69d=this.dateFuncObj.add(_69d,"hour",1);
}
return _69d;
},_setValueAttr:function(_69e,_69f){
if(_69e){
_69e=new this.dateClassObj(_69e);
}
if(this._isValidDate(_69e)){
if(!this._isValidDate(this.value)||this.dateFuncObj.compare(_69e,this.value)){
_69e.setHours(1,0,0,0);
if(!this.isDisabledDate(_69e,this.lang)){
this._set("value",_69e);
this.set("currentFocus",_69e);
if(_69f||typeof _69f=="undefined"){
this.onChange(this.get("value"));
this.onValueSelected(this.get("value"));
}
}
}
}else{
this._set("value",null);
this.set("currentFocus",this.currentFocus);
}
},_setText:function(node,text){
while(node.firstChild){
node.removeChild(node.firstChild);
}
node.appendChild(dojo.doc.createTextNode(text));
},_populateGrid:function(){
var _6a0=new this.dateClassObj(this.currentFocus);
_6a0.setDate(1);
var _6a1=_6a0.getDay(),_6a2=this.dateFuncObj.getDaysInMonth(_6a0),_6a3=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_6a0,"month",-1)),_6a4=new this.dateClassObj(),_6a5=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);
if(_6a5>_6a1){
_6a5-=7;
}
dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_6a6,i){
i+=_6a5;
var date=new this.dateClassObj(_6a0),_6a7,_6a8="dijitCalendar",adj=0;
if(i<_6a1){
_6a7=_6a3-_6a1+i+1;
adj=-1;
_6a8+="Previous";
}else{
if(i>=(_6a1+_6a2)){
_6a7=i-_6a1-_6a2+1;
adj=1;
_6a8+="Next";
}else{
_6a7=i-_6a1+1;
_6a8+="Current";
}
}
if(adj){
date=this.dateFuncObj.add(date,"month",adj);
}
date.setDate(_6a7);
if(!this.dateFuncObj.compare(date,_6a4,"date")){
_6a8="dijitCalendarCurrentDate "+_6a8;
}
if(this._isSelectedDate(date,this.lang)){
_6a8="dijitCalendarSelectedDate "+_6a8;
}
if(this.isDisabledDate(date,this.lang)){
_6a8="dijitCalendarDisabledDate "+_6a8;
}
var _6a9=this.getClassForDate(date,this.lang);
if(_6a9){
_6a8=_6a9+" "+_6a8;
}
_6a6.className=_6a8+"Month dijitCalendarDateTemplate";
_6a6.dijitDateValue=date.valueOf();
dojo.attr(_6a6,"dijitDateValue",date.valueOf());
var _6aa=dojo.query(".dijitCalendarDateLabel",_6a6)[0],text=date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate();
this._setText(_6aa,text);
},this);
var _6ab=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_6a0);
this.monthDropDownButton.dropDown.set("months",_6ab);
this.monthDropDownButton.containerNode.innerHTML=(dojo.isIE==6?"":"<div class='dijitSpacer'>"+this.monthDropDownButton.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_6ab[_6a0.getMonth()]+"</div>";
var y=_6a0.getFullYear()-1;
var d=new this.dateClassObj();
dojo.forEach(["previous","current","next"],function(name){
d.setFullYear(y++);
this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));
},this);
},goToToday:function(){
this.set("value",new this.dateClassObj());
},constructor:function(args){
var _6ac=(args.datePackage&&(args.datePackage!="dojo.date"))?args.datePackage+".Date":"Date";
this.dateClassObj=dojo.getObject(_6ac,false);
this.datePackage=args.datePackage||this.datePackage;
this.dateFuncObj=dojo.getObject(this.datePackage,false);
this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",false);
},postMixInProperties:function(){
if(isNaN(this.value)){
delete this.value;
}
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
dojo.setSelectable(this.domNode,false);
var _6ad=dojo.hitch(this,function(_6ae,n){
var _6af=dojo.query(_6ae,this.domNode)[0];
for(var i=0;i<n;i++){
_6af.parentNode.appendChild(_6af.cloneNode(true));
}
});
_6ad(".dijitCalendarDayLabelTemplate",6);
_6ad(".dijitCalendarDateTemplate",6);
_6ad(".dijitCalendarWeekTemplate",5);
var _6b0=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang);
var _6b1=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);
dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_6b2,i){
this._setText(_6b2,_6b0[(i+_6b1)%7]);
},this);
var _6b3=new this.dateClassObj(this.currentFocus);
this.monthDropDownButton.dropDown=new dijit.Calendar._MonthDropDown({id:this.id+"_mdd",onChange:dojo.hitch(this,"_onMonthSelect")});
this.set("currentFocus",_6b3,false);
var _6b4=this;
var _6b5=function(_6b6,_6b7,adj){
_6b4._connects.push(dijit.typematic.addMouseListener(_6b4[_6b6],_6b4,function(_6b8){
if(_6b8>=0){
_6b4._adjustDisplay(_6b7,adj);
}
},0.8,500));
};
_6b5("incrementMonth","month",1);
_6b5("decrementMonth","month",-1);
_6b5("nextYearLabelNode","year",1);
_6b5("previousYearLabelNode","year",-1);
},_adjustDisplay:function(part,_6b9){
this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,_6b9));
},_setCurrentFocusAttr:function(date,_6ba){
var _6bb=this.currentFocus,_6bc=_6bb?dojo.query("[dijitDateValue="+_6bb.valueOf()+"]",this.domNode)[0]:null;
date=new this.dateClassObj(date);
date.setHours(1,0,0,0);
this._set("currentFocus",date);
this._populateGrid();
var _6bd=dojo.query("[dijitDateValue="+date.valueOf()+"]",this.domNode)[0];
_6bd.setAttribute("tabIndex",this.tabIndex);
if(this._focused||_6ba){
_6bd.focus();
}
if(_6bc&&_6bc!=_6bd){
if(dojo.isWebKit){
_6bc.setAttribute("tabIndex","-1");
}else{
_6bc.removeAttribute("tabIndex");
}
}
},focus:function(){
this._setCurrentFocusAttr(this.currentFocus,true);
},_onMonthSelect:function(_6be){
this.currentFocus=this.dateFuncObj.add(this.currentFocus,"month",_6be-this.currentFocus.getMonth());
this._populateGrid();
},_onDayClick:function(evt){
dojo.stopEvent(evt);
for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){
}
if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){
this.set("value",node.dijitDateValue);
}
},_onDayMouseOver:function(evt){
var node=dojo.hasClass(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;
if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){
dojo.addClass(node,"dijitCalendarHoveredDate");
this._currentNode=node;
}
},_onDayMouseOut:function(evt){
if(!this._currentNode){
return;
}
if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){
return;
}
var cls="dijitCalendarHoveredDate";
if(dojo.hasClass(this._currentNode,"dijitCalendarActiveDate")){
cls+=" dijitCalendarActiveDate";
}
dojo.removeClass(this._currentNode,cls);
this._currentNode=null;
},_onDayMouseDown:function(evt){
var node=evt.target.parentNode;
if(node&&node.dijitDateValue){
dojo.addClass(node,"dijitCalendarActiveDate");
this._currentNode=node;
}
},_onDayMouseUp:function(evt){
var node=evt.target.parentNode;
if(node&&node.dijitDateValue){
dojo.removeClass(node,"dijitCalendarActiveDate");
}
},handleKey:function(evt){
var dk=dojo.keys,_6bf=-1,_6c0,_6c1=this.currentFocus;
switch(evt.keyCode){
case dk.RIGHT_ARROW:
_6bf=1;
case dk.LEFT_ARROW:
_6c0="day";
if(!this.isLeftToRight()){
_6bf*=-1;
}
break;
case dk.DOWN_ARROW:
_6bf=1;
case dk.UP_ARROW:
_6c0="week";
break;
case dk.PAGE_DOWN:
_6bf=1;
case dk.PAGE_UP:
_6c0=evt.ctrlKey||evt.altKey?"year":"month";
break;
case dk.END:
_6c1=this.dateFuncObj.add(_6c1,"month",1);
_6c0="day";
case dk.HOME:
_6c1=new this.dateClassObj(_6c1);
_6c1.setDate(1);
break;
case dk.ENTER:
case dk.SPACE:
this.set("value",this.currentFocus);
break;
default:
return true;
}
if(_6c0){
_6c1=this.dateFuncObj.add(_6c1,_6c0,_6bf);
}
this._setCurrentFocusAttr(_6c1);
return false;
},_onKeyPress:function(evt){
if(!this.handleKey(evt)){
dojo.stopEvent(evt);
}
},onValueSelected:function(date){
},onChange:function(date){
},_isSelectedDate:function(_6c2,_6c3){
return this._isValidDate(this.value)&&!this.dateFuncObj.compare(_6c2,this.value,"date");
},isDisabledDate:function(_6c4,_6c5){
},getClassForDate:function(_6c6,_6c7){
}});
dojo.declare("dijit.Calendar._MonthDropDown",[dijit._Widget,dijit._Templated],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_6c8){
this.domNode.innerHTML=dojo.map(_6c8,function(_6c9,idx){
return _6c9?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_6c9+"</div>":"";
}).join("");
},_onClick:function(evt){
this.onChange(dojo.attr(evt.target,"month"));
},onChange:function(_6ca){
},_onMenuHover:function(evt){
dojo.toggleClass(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");
}});
}
if(!dojo._hasResource["dijit.form._DateTimeTextBox"]){
dojo._hasResource["dijit.form._DateTimeTextBox"]=true;
dojo.provide("dijit.form._DateTimeTextBox");
new Date("X");
dojo.declare("dijit.form._DateTimeTextBox",[dijit.form.RangeBoundTextBox,dijit._HasDropDown],{templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),hasDownArrow:true,openOnClick:true,regExpGen:dojo.date.locale.regexp,datePackage:"dojo.date",compare:function(val1,val2){
return dojo.date.compare(val1,val2,this._selector);
},forceWidth:true,format:function(_6cb,_6cc){
if(!_6cb){
return "";
}
return this.dateLocaleModule.format(_6cb,_6cc);
},"parse":function(_6cd,_6ce){
return this.dateLocaleModule.parse(_6cd,_6ce)||(this._isEmpty(_6cd)?null:undefined);
},serialize:function(val,_6cf){
if(val.toGregorian){
val=val.toGregorian();
}
return dojo.date.stamp.toISOString(val,_6cf);
},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(args){
var _6d0=args.datePackage?args.datePackage+".Date":"Date";
this.dateClassObj=dojo.getObject(_6d0,false);
this.value=new this.dateClassObj("");
this.datePackage=args.datePackage||this.datePackage;
this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",false);
this.regExpGen=this.dateLocaleModule.regexp;
this._invalidDate=dijit.form._DateTimeTextBox.prototype.value.toString();
},buildRendering:function(){
this.inherited(arguments);
if(!this.hasDownArrow){
this._buttonNode.style.display="none";
}
if(this.openOnClick||!this.hasDownArrow){
this._buttonNode=this.domNode;
this.baseClass+=" dijitComboBoxOpenOnClick";
}
},_setConstraintsAttr:function(_6d1){
_6d1.selector=this._selector;
_6d1.fullYear=true;
var _6d2=dojo.date.stamp.fromISOString;
if(typeof _6d1.min=="string"){
_6d1.min=_6d2(_6d1.min);
}
if(typeof _6d1.max=="string"){
_6d1.max=_6d2(_6d1.max);
}
this.inherited(arguments,[_6d1]);
},_isInvalidDate:function(_6d3){
return !_6d3||isNaN(_6d3)||typeof _6d3!="object"||_6d3.toString()==this._invalidDate;
},_setValueAttr:function(_6d4,_6d5,_6d6){
if(_6d4!==undefined){
if(typeof _6d4=="string"){
_6d4=dojo.date.stamp.fromISOString(_6d4);
}
if(this._isInvalidDate(_6d4)){
_6d4=null;
}
if(_6d4 instanceof Date&&!(this.dateClassObj instanceof Date)){
_6d4=new this.dateClassObj(_6d4);
}
}
this.inherited(arguments,[_6d4,_6d5,_6d6]);
if(this.dropDown){
this.dropDown.set("value",_6d4,false);
}
},_set:function(attr,_6d7){
if(attr=="value"&&this.value instanceof Date&&((this._isInvalidDate(this.value)&&this._isInvalidDate(_6d7))||this.compare(_6d7,this.value)==0)){
return;
}
this.inherited(arguments);
},_setDropDownDefaultValueAttr:function(val){
if(this._isInvalidDate(val)){
val=new this.dateClassObj();
}
this.dropDownDefaultValue=val;
},openDropDown:function(_6d8){
if(this.dropDown){
this.dropDown.destroy();
}
var _6d9=dojo.getObject(this.popupClass,false),_6da=this,_6db=this.get("value");
this.dropDown=new _6d9({onChange:function(_6dc){
dijit.form._DateTimeTextBox.superclass._setValueAttr.call(_6da,_6dc,true);
},id:this.id+"_popup",dir:_6da.dir,lang:_6da.lang,value:_6db,currentFocus:!this._isInvalidDate(_6db)?_6db:this.dropDownDefaultValue,constraints:_6da.constraints,filterString:_6da.filterString,datePackage:_6da.datePackage,isDisabledDate:function(date){
return !_6da.rangeCheck(date,_6da.constraints);
}});
this.inherited(arguments);
},_getDisplayedValueAttr:function(){
return this.textbox.value;
},_setDisplayedValueAttr:function(_6dd,_6de){
this._setValueAttr(this.parse(_6dd,this.constraints),_6de,_6dd);
}});
}
if(!dojo._hasResource["dijit.form.DateTextBox"]){
dojo._hasResource["dijit.form.DateTextBox"]=true;
dojo.provide("dijit.form.DateTextBox");
dojo.declare("dijit.form.DateTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:"dijit.Calendar",_selector:"date",value:new Date("")});
}
if(!dojo._hasResource["efs.widgets.DateTextBox"]){
dojo._hasResource["efs.widgets.DateTextBox"]=true;
dojo.provide("efs.widgets.DateTextBox");
dojo.declare("efs.widgets.DateTextBox",dijit.form.DateTextBox,{updateValues:function(){
if(this.value){
this.y.value=dojo.date.locale.format(this.value,{selector:"date",datePattern:"yyyy"});
this.m.value=dojo.date.locale.format(this.value,{selector:"date",datePattern:"MM"});
this.d.value=dojo.date.locale.format(this.value,{selector:"date",datePattern:"dd"});
}else{
this.y.value="";
this.m.value="";
this.d.value="";
}
},startup:function(){
dojo.connect(this.textbox,"focus",dojo.hitch(this,this.updateValues));
dojo.connect(this.textbox,"onchange",dojo.hitch(this,this.updateValues));
},buildRendering:function(){
this.inherited(arguments);
dojo.attr(this.valueNode,"name",this.name+"[complete]");
this.d=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name+"[d]"},this.textbox,"after");
this.m=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name+"[m]"},this.textbox,"after");
this.y=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name+"[y]"},this.textbox,"after");
this.updateValues();
}});
}
if(!dojo._hasResource["dijit._TimePicker"]){
dojo._hasResource["dijit._TimePicker"]=true;
dojo.provide("dijit._TimePicker");
dojo.declare("dijit._TimePicker",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("dijit","templates/TimePicker.html","<div id=\"widget_${id}\" class=\"dijitMenu\"\n    ><div dojoAttachPoint=\"upArrow\" class=\"dijitButtonNode dijitUpArrowButton\" dojoAttachEvent=\"onmouseenter:_buttonMouse,onmouseleave:_buttonMouse\"\n\t\t><div class=\"dijitReset dijitInline dijitArrowButtonInner\" role=\"presentation\">&nbsp;</div\n\t\t><div class=\"dijitArrowButtonChar\">&#9650;</div></div\n    ><div dojoAttachPoint=\"timeMenu,focusNode\" dojoAttachEvent=\"onclick:_onOptionSelected,onmouseover,onmouseout\"></div\n    ><div dojoAttachPoint=\"downArrow\" class=\"dijitButtonNode dijitDownArrowButton\" dojoAttachEvent=\"onmouseenter:_buttonMouse,onmouseleave:_buttonMouse\"\n\t\t><div class=\"dijitReset dijitInline dijitArrowButtonInner\" role=\"presentation\">&nbsp;</div\n\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div></div\n></div>\n"),baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date(),_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:dojo.date.stamp.toISOString,setValue:function(_6df){
dojo.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",_6df);
},_setValueAttr:function(date){
this._set("value",date);
this._showText();
},_setFilterStringAttr:function(val){
this._set("filterString",val);
this._showText();
},isDisabledDate:function(_6e0,_6e1){
return false;
},_getFilteredNodes:function(_6e2,_6e3,_6e4,_6e5){
var _6e6=[],_6e7=_6e5?_6e5.date:this._refDate,n,i=_6e2,max=this._maxIncrement+Math.abs(i),chk=_6e4?-1:1,dec=_6e4?1:0,inc=1-dec;
do{
i=i-dec;
n=this._createOption(i);
if(n){
if((_6e4&&n.date>_6e7)||(!_6e4&&n.date<_6e7)){
break;
}
_6e6[_6e4?"unshift":"push"](n);
_6e7=n.date;
}
i=i+inc;
}while(_6e6.length<_6e3&&(i*chk)<max);
return _6e6;
},_showText:function(){
var _6e8=dojo.date.stamp.fromISOString;
this.timeMenu.innerHTML="";
this._clickableIncrementDate=_6e8(this.clickableIncrement);
this._visibleIncrementDate=_6e8(this.visibleIncrement);
this._visibleRangeDate=_6e8(this.visibleRange);
var _6e9=function(date){
return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();
},_6ea=_6e9(this._clickableIncrementDate),_6eb=_6e9(this._visibleIncrementDate),_6ec=_6e9(this._visibleRangeDate),time=(this.value||this.currentFocus).getTime();
this._refDate=new Date(time-time%(_6eb*1000));
this._refDate.setFullYear(1970,0,1);
this._clickableIncrement=1;
this._totalIncrements=_6ec/_6ea;
this._visibleIncrement=_6eb/_6ea;
this._maxIncrement=(60*60*24)/_6ea;
var _6ed=this._getFilteredNodes(0,Math.min(this._totalIncrements>>1,10)-1),_6ee=this._getFilteredNodes(0,Math.min(this._totalIncrements,10)-_6ed.length,true,_6ed[0]);
dojo.forEach(_6ee.concat(_6ed),function(n){
this.timeMenu.appendChild(n);
},this);
},constructor:function(){
this.constraints={};
},postMixInProperties:function(){
this.inherited(arguments);
this._setConstraintsAttr(this.constraints);
},_setConstraintsAttr:function(_6ef){
dojo.mixin(this,_6ef);
if(!_6ef.locale){
_6ef.locale=this.lang;
}
},postCreate:function(){
this.connect(this.timeMenu,dojo.isIE?"onmousewheel":"DOMMouseScroll","_mouseWheeled");
this._connects.push(dijit.typematic.addMouseListener(this.upArrow,this,"_onArrowUp",33,250));
this._connects.push(dijit.typematic.addMouseListener(this.downArrow,this,"_onArrowDown",33,250));
this.inherited(arguments);
},_buttonMouse:function(e){
dojo.toggleClass(e.currentTarget,e.currentTarget==this.upArrow?"dijitUpArrowHover":"dijitDownArrowHover",e.type=="mouseenter"||e.type=="mouseover");
},_createOption:function(_6f0){
var date=new Date(this._refDate);
var _6f1=this._clickableIncrementDate;
date.setHours(date.getHours()+_6f1.getHours()*_6f0,date.getMinutes()+_6f1.getMinutes()*_6f0,date.getSeconds()+_6f1.getSeconds()*_6f0);
if(this.constraints.selector=="time"){
date.setFullYear(1970,0,1);
}
var _6f2=dojo.date.locale.format(date,this.constraints);
if(this.filterString&&_6f2.toLowerCase().indexOf(this.filterString)!==0){
return null;
}
var div=dojo.create("div",{"class":this.baseClass+"Item"});
div.date=date;
div.index=_6f0;
dojo.create("div",{"class":this.baseClass+"ItemInner",innerHTML:_6f2},div);
if(_6f0%this._visibleIncrement<1&&_6f0%this._visibleIncrement>-1){
dojo.addClass(div,this.baseClass+"Marker");
}else{
if(!(_6f0%this._clickableIncrement)){
dojo.addClass(div,this.baseClass+"Tick");
}
}
if(this.isDisabledDate(date)){
dojo.addClass(div,this.baseClass+"ItemDisabled");
}
if(this.value&&!dojo.date.compare(this.value,date,this.constraints.selector)){
div.selected=true;
dojo.addClass(div,this.baseClass+"ItemSelected");
if(dojo.hasClass(div,this.baseClass+"Marker")){
dojo.addClass(div,this.baseClass+"MarkerSelected");
}else{
dojo.addClass(div,this.baseClass+"TickSelected");
}
this._highlightOption(div,true);
}
return div;
},_onOptionSelected:function(tgt){
var _6f3=tgt.target.date||tgt.target.parentNode.date;
if(!_6f3||this.isDisabledDate(_6f3)){
return;
}
this._highlighted_option=null;
this.set("value",_6f3);
this.onChange(_6f3);
},onChange:function(time){
},_highlightOption:function(node,_6f4){
if(!node){
return;
}
if(_6f4){
if(this._highlighted_option){
this._highlightOption(this._highlighted_option,false);
}
this._highlighted_option=node;
}else{
if(this._highlighted_option!==node){
return;
}else{
this._highlighted_option=null;
}
}
dojo.toggleClass(node,this.baseClass+"ItemHover",_6f4);
if(dojo.hasClass(node,this.baseClass+"Marker")){
dojo.toggleClass(node,this.baseClass+"MarkerHover",_6f4);
}else{
dojo.toggleClass(node,this.baseClass+"TickHover",_6f4);
}
},onmouseover:function(e){
this._keyboardSelected=null;
var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;
if(!dojo.hasClass(tgr,this.baseClass+"Item")){
return;
}
this._highlightOption(tgr,true);
},onmouseout:function(e){
this._keyboardSelected=null;
var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;
this._highlightOption(tgr,false);
},_mouseWheeled:function(e){
this._keyboardSelected=null;
dojo.stopEvent(e);
var _6f5=(dojo.isIE?e.wheelDelta:-e.detail);
this[(_6f5>0?"_onArrowUp":"_onArrowDown")]();
},_onArrowUp:function(_6f6){
if(typeof _6f6=="number"&&_6f6==-1){
return;
}
if(!this.timeMenu.childNodes.length){
return;
}
var _6f7=this.timeMenu.childNodes[0].index;
var divs=this._getFilteredNodes(_6f7,1,true,this.timeMenu.childNodes[0]);
if(divs.length){
this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);
this.timeMenu.insertBefore(divs[0],this.timeMenu.childNodes[0]);
}
},_onArrowDown:function(_6f8){
if(typeof _6f8=="number"&&_6f8==-1){
return;
}
if(!this.timeMenu.childNodes.length){
return;
}
var _6f9=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].index+1;
var divs=this._getFilteredNodes(_6f9,1,false,this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);
if(divs.length){
this.timeMenu.removeChild(this.timeMenu.childNodes[0]);
this.timeMenu.appendChild(divs[0]);
}
},handleKey:function(e){
var dk=dojo.keys;
if(e.charOrCode==dk.DOWN_ARROW||e.charOrCode==dk.UP_ARROW){
dojo.stopEvent(e);
if(this._highlighted_option&&!this._highlighted_option.parentNode){
this._highlighted_option=null;
}
var _6fa=this.timeMenu,tgt=this._highlighted_option||dojo.query("."+this.baseClass+"ItemSelected",_6fa)[0];
if(!tgt){
tgt=_6fa.childNodes[0];
}else{
if(_6fa.childNodes.length){
if(e.charOrCode==dk.DOWN_ARROW&&!tgt.nextSibling){
this._onArrowDown();
}else{
if(e.charOrCode==dk.UP_ARROW&&!tgt.previousSibling){
this._onArrowUp();
}
}
if(e.charOrCode==dk.DOWN_ARROW){
tgt=tgt.nextSibling;
}else{
tgt=tgt.previousSibling;
}
}
}
this._highlightOption(tgt,true);
this._keyboardSelected=tgt;
return false;
}else{
if(e.charOrCode==dk.ENTER||e.charOrCode===dk.TAB){
if(!this._keyboardSelected&&e.charOrCode===dk.TAB){
return true;
}
if(this._highlighted_option){
this._onOptionSelected({target:this._highlighted_option});
}
return e.charOrCode===dk.TAB;
}
}
}});
}
if(!dojo._hasResource["dijit.form.TimeTextBox"]){
dojo._hasResource["dijit.form.TimeTextBox"]=true;
dojo.provide("dijit.form.TimeTextBox");
dojo.declare("dijit.form.TimeTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:"dijit._TimePicker",_selector:"time",value:new Date(""),_onKey:function(evt){
this.inherited(arguments);
switch(evt.keyCode){
case dojo.keys.ENTER:
case dojo.keys.TAB:
case dojo.keys.ESCAPE:
case dojo.keys.DOWN_ARROW:
case dojo.keys.UP_ARROW:
break;
default:
setTimeout(dojo.hitch(this,function(){
var val=this.get("displayedValue");
this.filterString=(val&&!this.parse(val,this.constraints))?val.toLowerCase():"";
if(this._opened){
this.closeDropDown();
}
this.openDropDown();
}),0);
}
}});
}
if(!dojo._hasResource["efs.widgets.TimeTextBox"]){
dojo._hasResource["efs.widgets.TimeTextBox"]=true;
dojo.provide("efs.widgets.TimeTextBox");
dojo.declare("efs.widgets.TimeTextBox",dijit.form.TimeTextBox,{useShortNames:false,updateValues:function(){
values={"hour":"H","min":"m","sec":"s"};
for(var key in values){
var _6fb=values[key];
if(this.value){
this[key].value=dojo.date.locale.format(this.value,{selector:"time",timePattern:_6fb});
}else{
this[key].value="";
}
}
},startup:function(){
dojo.connect(this,"onChange",dojo.hitch(this.updateValues));
},buildRendering:function(){
this.inherited(arguments);
dojo.attr(this.valueNode,"name",this.name+"[time_complete]");
this.hour=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name+"["+(this.attr("useShortNames")?"h":"hour")+"]"},this.textbox,"after");
this.min=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name+"["+(this.attr("useShortNames")?"m":"min")+"]"},this.textbox,"after");
this.sec=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name+"["+(this.attr("useShortNames")?"s":"sec")+"]"},this.textbox,"after");
this.updateValues();
}});
}
dojo.i18n._preloadLocalizations("dojo.nls.dojo",["ROOT","de","de-de","en","en-gb","xx"]);
if(dojo.isBrowser&&(document.readyState==="complete"||dojo.config.afterOnLoad)){
window.setTimeout(dojo._loadInit,100);
}
})();
